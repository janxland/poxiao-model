{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _typeof } from '../_chunks/dep-8dbc9855.mjs';\nimport { _ as _slicedToArray } from '../_chunks/dep-b089fa1f.mjs';\nimport { _ as _defineProperty } from '../_chunks/dep-7deaa3b9.mjs';\nimport { defineComponent, computed, toRefs, ref, nextTick, inject, watch, onMounted, createVNode, mergeProps } from 'vue';\nimport { m as merge_1 } from '../_chunks/dep-b3734774.mjs';\nimport { i as isUndefined_1 } from '../_chunks/dep-ac561548.mjs';\nimport { omit } from '../utils/helper.mjs';\nimport calcTextareaHeight from './calcTextareaHeight.mjs';\nimport { FormItemInjectionKey } from '../form/const.mjs';\nimport setStyle from '../_common/js/utils/set-style.mjs';\nimport { getCharacterLength } from '../_common/js/utils/helper.mjs';\nimport useVModel from '../hooks/useVModel.mjs';\nimport { useFormDisabled } from '../form/hooks.mjs';\nimport { useTNodeJSX } from '../hooks/tnode.mjs';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig.mjs';\nimport props from './props.mjs';\nimport '../_chunks/dep-8e411f1c.mjs';\nimport '../_chunks/dep-cb814df4.mjs';\nimport '../_chunks/dep-e5142249.mjs';\nimport '../_chunks/dep-c4f80cb4.mjs';\nimport '../_chunks/dep-996b4900.mjs';\nimport '../_chunks/dep-66473aa9.mjs';\nimport '../_chunks/dep-cd533155.mjs';\nimport '../_chunks/dep-715774e0.mjs';\nimport '../_chunks/dep-5a5a1764.mjs';\nimport '../_chunks/dep-3108c312.mjs';\nimport '../_chunks/dep-93498383.mjs';\nimport '../_chunks/dep-36582a92.mjs';\nimport '../_chunks/dep-a2db6df1.mjs';\nimport '../_chunks/dep-0f89a1dd.mjs';\nimport '../_chunks/dep-2adf18a2.mjs';\nimport '../_chunks/dep-ab439391.mjs';\nimport '../_chunks/dep-60d62610.mjs';\nimport '../_chunks/dep-d4da440a.mjs';\nimport '../_chunks/dep-013382c3.mjs';\nimport '../_chunks/dep-ca764006.mjs';\nimport '../_chunks/dep-2ee9d497.mjs';\nimport '../_chunks/dep-a4a3ac25.mjs';\nimport '../_chunks/dep-6861d388.mjs';\nimport '../_chunks/dep-396d852b.mjs';\nimport '../_chunks/dep-8a3fd140.mjs';\nimport '../_chunks/dep-5db0da5c.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-bf19d9ba.mjs';\nimport '../_chunks/dep-6963a882.mjs';\nimport '../_chunks/dep-807e1747.mjs';\nimport '../_chunks/dep-f8909853.mjs';\nimport '../_chunks/dep-67e59a11.mjs';\nimport '../_chunks/dep-10024af3.mjs';\nimport '../_chunks/dep-d00e2e04.mjs';\nimport '../_chunks/dep-ec2f76cc.mjs';\nimport '../_chunks/dep-96484611.mjs';\nimport '../_chunks/dep-413fbf03.mjs';\nimport '../_chunks/dep-0e4de31a.mjs';\nimport '../_chunks/dep-30b3f256.mjs';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-37e3e644.mjs';\nimport '../_chunks/dep-31dc0415.mjs';\nimport '../_chunks/dep-c545db54.mjs';\nimport '../_chunks/dep-3f15cb30.mjs';\nimport '../_chunks/dep-fd2b6c64.mjs';\nimport '../config-provider/type.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../_chunks/dep-bd7cd061.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../_chunks/dep-b15588b0.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-60ee423b.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction getValidAttrs(obj) {\n  var newObj = {};\n  Object.keys(obj).forEach(function (key) {\n    if (!isUndefined_1(obj[key])) {\n      newObj[key] = obj[key];\n    }\n  });\n  return newObj;\n}\nvar _Textarea = defineComponent({\n  name: \"TTextarea\",\n  inheritAttrs: false,\n  props: _objectSpread({}, props),\n  setup: function setup(props2, _ref) {\n    var attrs = _ref.attrs,\n      expose = _ref.expose;\n    var prefix = usePrefixClass();\n    var name = usePrefixClass(\"textarea\");\n    var TEXTAREA_TIPS_CLASS = computed(function () {\n      return \"\".concat(name.value, \"__tips\");\n    });\n    var TEXTAREA_LIMIT = computed(function () {\n      return \"\".concat(name.value, \"__limit\");\n    });\n    var _toRefs = toRefs(props2),\n      value = _toRefs.value,\n      modelValue = _toRefs.modelValue;\n    var _useVModel = useVModel(value, modelValue, props2.defaultValue, props2.onChange),\n      _useVModel2 = _slicedToArray(_useVModel, 2),\n      innerValue = _useVModel2[0],\n      setInnerValue = _useVModel2[1];\n    var disabled = useFormDisabled();\n    var textareaStyle = ref({});\n    var refTextareaElem = ref();\n    var focused = ref(false);\n    var isComposing = ref(false);\n    var focus = function focus() {\n      var _refTextareaElem$valu;\n      return (_refTextareaElem$valu = refTextareaElem.value) === null || _refTextareaElem$valu === void 0 ? void 0 : _refTextareaElem$valu.focus();\n    };\n    var blur = function blur() {\n      var _refTextareaElem$valu2;\n      return (_refTextareaElem$valu2 = refTextareaElem.value) === null || _refTextareaElem$valu2 === void 0 ? void 0 : _refTextareaElem$valu2.blur();\n    };\n    var adjustTextareaHeight = function adjustTextareaHeight() {\n      var _refTextareaElem$valu3;\n      if (props2.autosize === true) {\n        textareaStyle.value = calcTextareaHeight(refTextareaElem.value);\n      } else if (props2.autosize && _typeof(props2.autosize) === \"object\") {\n        var _props2$autosize = props2.autosize,\n          minRows = _props2$autosize.minRows,\n          maxRows = _props2$autosize.maxRows;\n        textareaStyle.value = calcTextareaHeight(refTextareaElem.value, minRows, maxRows);\n      } else if (attrs.rows) {\n        textareaStyle.value = {\n          height: \"auto\",\n          minHeight: \"auto\"\n        };\n      } else if (attrs.style && (_refTextareaElem$valu3 = refTextareaElem.value) !== null && _refTextareaElem$valu3 !== void 0 && (_refTextareaElem$valu3 = _refTextareaElem$valu3.style) !== null && _refTextareaElem$valu3 !== void 0 && _refTextareaElem$valu3.height) {\n        textareaStyle.value = {\n          height: refTextareaElem.value.style.height\n        };\n      }\n    };\n    var setInputValue = function setInputValue() {\n      var v = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      var textareaElem = refTextareaElem.value;\n      var sV = String(v);\n      if (!textareaElem) {\n        return;\n      }\n      if (textareaElem.value !== sV) {\n        textareaElem.value = sV;\n        innerValue.value = sV;\n      }\n    };\n    var inputValueChangeHandle = function inputValueChangeHandle(e) {\n      var target = e.target;\n      var val = target.value;\n      if (props2.maxcharacter && props2.maxcharacter >= 0) {\n        var stringInfo = getCharacterLength(val, props2.maxcharacter);\n        val = _typeof(stringInfo) === \"object\" && stringInfo.characters;\n      }\n      !isComposing.value && setInnerValue(val, {\n        e: e\n      });\n      nextTick(function () {\n        return setInputValue(val);\n      });\n      adjustTextareaHeight();\n    };\n    var handleInput = function handleInput(e) {\n      inputValueChangeHandle(e);\n    };\n    var onCompositionstart = function onCompositionstart() {\n      isComposing.value = true;\n    };\n    var onCompositionend = function onCompositionend(e) {\n      isComposing.value = false;\n      inputValueChangeHandle(e);\n    };\n    var eventDeal = function eventDeal(name2, e) {\n      var _props2$eventName;\n      if (disabled.value) return;\n      var eventName = \"on\".concat(name2[0].toUpperCase()).concat(name2.slice(1));\n      (_props2$eventName = props2[eventName]) === null || _props2$eventName === void 0 || _props2$eventName.call(props2, innerValue.value, {\n        e: e\n      });\n    };\n    var emitKeyDown = function emitKeyDown(e) {\n      eventDeal(\"keydown\", e);\n    };\n    var emitKeyUp = function emitKeyUp(e) {\n      eventDeal(\"keyup\", e);\n    };\n    var emitKeypress = function emitKeypress(e) {\n      eventDeal(\"keypress\", e);\n    };\n    var emitFocus = function emitFocus(e) {\n      var _props2$onFocus;\n      adjustTextareaHeight();\n      if (disabled.value) return;\n      focused.value = true;\n      (_props2$onFocus = props2.onFocus) === null || _props2$onFocus === void 0 || _props2$onFocus.call(props2, innerValue.value, {\n        e: e\n      });\n    };\n    var formItem = inject(FormItemInjectionKey, void 0);\n    var emitBlur = function emitBlur(e) {\n      var _props2$onBlur;\n      adjustTextareaHeight();\n      focused.value = false;\n      (_props2$onBlur = props2.onBlur) === null || _props2$onBlur === void 0 || _props2$onBlur.call(props2, innerValue.value, {\n        e: e\n      });\n      formItem === null || formItem === void 0 || formItem.handleBlur();\n    };\n    var textareaClasses = computed(function () {\n      return [name.value, _defineProperty(_defineProperty({}, \"\".concat(prefix.value, \"-is-disabled\"), disabled.value), \"\".concat(prefix.value, \"-is-readonly\"), props2.readonly)];\n    });\n    var inputAttrs = computed(function () {\n      return getValidAttrs({\n        autofocus: props2.autofocus,\n        disabled: disabled.value,\n        readonly: props2.readonly,\n        placeholder: props2.placeholder,\n        maxlength: props2.maxlength || void 0,\n        name: props2.name || void 0\n      });\n    });\n    var characterNumber = computed(function () {\n      var characterInfo = getCharacterLength(String(innerValue.value || \"\"));\n      if (_typeof(characterInfo) === \"object\") {\n        return characterInfo.length;\n      }\n      return characterInfo;\n    });\n    watch(function () {\n      return innerValue.value;\n    }, function () {\n      return adjustTextareaHeight();\n    });\n    watch(refTextareaElem, function (el) {\n      if (!el) return;\n      adjustTextareaHeight();\n    });\n    watch(function () {\n      return props2.autofocus;\n    }, function (val) {\n      if (val) {\n        refTextareaElem.value.focus();\n      }\n    });\n    watch(textareaStyle, function (val) {\n      var style = attrs.style;\n      setStyle(refTextareaElem.value, merge_1(style, val));\n    });\n    watch(innerValue, function () {\n      nextTick(function () {\n        return adjustTextareaHeight();\n      });\n    });\n    watch(function () {\n      return props2.autosize;\n    }, adjustTextareaHeight, {\n      deep: true\n    });\n    expose({\n      focus: focus,\n      blur: blur\n    });\n    onMounted(function () {\n      adjustTextareaHeight();\n    });\n    var renderTNodeJSX = useTNodeJSX();\n    return function () {\n      var _String;\n      var inputEvents = getValidAttrs({\n        onFocus: emitFocus,\n        onBlur: emitBlur,\n        onKeydown: emitKeyDown,\n        onKeyup: emitKeyUp,\n        onKeypress: emitKeypress\n      });\n      var _useCommonClassName = useCommonClassName(),\n        STATUS = _useCommonClassName.STATUS;\n      var classes = computed(function () {\n        return [\"\".concat(name.value, \"__inner\"), _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, \"\".concat(prefix.value, \"-is-\").concat(props2.status), props2.status), STATUS.value.disabled, disabled.value), STATUS.value.focused, focused.value), \"\".concat(prefix.value, \"-resize-none\"), _typeof(props2.autosize) === \"object\"), \"narrow-scrollbar\"];\n      });\n      var tips = renderTNodeJSX(\"tips\");\n      var textTips = tips && createVNode(\"div\", {\n        \"class\": \"\".concat(TEXTAREA_TIPS_CLASS.value, \" \").concat(name.value, \"__tips--\").concat(props2.status || \"normal\")\n      }, [tips]);\n      var limitText = props2.maxcharacter && createVNode(\"span\", {\n        \"class\": TEXTAREA_LIMIT.value\n      }, [\"\".concat(characterNumber.value, \"/\").concat(props2.maxcharacter)]) || !props2.maxcharacter && props2.maxlength && createVNode(\"span\", {\n        \"class\": TEXTAREA_LIMIT.value\n      }, [\"\".concat(innerValue.value ? (_String = String(innerValue.value)) === null || _String === void 0 ? void 0 : _String.length : 0, \"/\").concat(props2.maxlength)]);\n      return createVNode(\"div\", mergeProps({\n        \"class\": textareaClasses.value\n      }, omit(attrs, [\"style\"])), [createVNode(\"textarea\", mergeProps({\n        \"onInput\": handleInput,\n        \"onCompositionstart\": onCompositionstart,\n        \"onCompositionend\": onCompositionend,\n        \"ref\": refTextareaElem,\n        \"value\": innerValue.value,\n        \"class\": classes.value\n      }, inputEvents, inputAttrs.value), null), textTips || limitText ? createVNode(\"div\", {\n        \"class\": [\"\".concat(name.value, \"__info_wrapper\"), _defineProperty({}, \"\".concat(name.value, \"__info_wrapper_align\"), !textTips)]\n      }, [textTips, limitText]) : null]);\n    };\n  }\n});\nexport { _Textarea as default };","map":{"version":3,"names":["getValidAttrs","obj","newObj","Object","keys","forEach","key","isUndefined_1","_Textarea","defineComponent","name","inheritAttrs","props","_objectSpread","setup","props2","_ref","attrs","expose","prefix","usePrefixClass","TEXTAREA_TIPS_CLASS","computed","concat","value","TEXTAREA_LIMIT","_toRefs","toRefs","modelValue","_useVModel","useVModel","defaultValue","onChange","_useVModel2","_slicedToArray","innerValue","setInnerValue","disabled","useFormDisabled","textareaStyle","ref","refTextareaElem","focused","isComposing","focus","_refTextareaElem$valu","blur","_refTextareaElem$valu2","adjustTextareaHeight","_refTextareaElem$valu3","autosize","calcTextareaHeight","_typeof","_props2$autosize","minRows","maxRows","rows","height","minHeight","style","setInputValue","v","arguments","length","undefined","textareaElem","sV","String","inputValueChangeHandle","e","target","val","maxcharacter","stringInfo","getCharacterLength","characters","nextTick","handleInput","onCompositionstart","onCompositionend","eventDeal","name2","_props2$eventName","eventName","toUpperCase","slice","call","emitKeyDown","emitKeyUp","emitKeypress","emitFocus","_props2$onFocus","onFocus","formItem","inject","FormItemInjectionKey","emitBlur","_props2$onBlur","onBlur","handleBlur","textareaClasses","_defineProperty","readonly","inputAttrs","autofocus","placeholder","maxlength","characterNumber","characterInfo","watch","el","setStyle","merge_1","deep","onMounted","renderTNodeJSX","useTNodeJSX","_String","inputEvents","onKeydown","onKeyup","onKeypress","_useCommonClassName","useCommonClassName","STATUS","classes","status","tips","textTips","createVNode","limitText","mergeProps","omit"],"sources":["../../src/textarea/textarea.tsx"],"sourcesContent":["import {\n  defineComponent,\n  computed,\n  watch,\n  ref,\n  nextTick,\n  onMounted,\n  toRefs,\n  inject,\n  StyleValue,\n  CSSProperties,\n} from 'vue';\nimport merge from 'lodash/merge';\nimport isUndefined from 'lodash/isUndefined';\n\nimport { omit } from '../utils/helper';\nimport calcTextareaHeight from './calcTextareaHeight';\nimport { FormItemInjectionKey } from '../form/const';\nimport setStyle from '../_common/js/utils/set-style';\nimport { getCharacterLength } from '../_common/js/utils/helper';\n\n// hooks\nimport useVModel from '../hooks/useVModel';\nimport { useFormDisabled } from '../form/hooks';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig';\n\nimport props from './props';\nimport type { TextareaValue, TdTextareaProps } from './type';\n\nfunction getValidAttrs(obj: object): object {\n  const newObj = {};\n  Object.keys(obj).forEach((key) => {\n    if (!isUndefined(obj[key])) {\n      newObj[key] = obj[key];\n    }\n  });\n  return newObj;\n}\n\nexport default defineComponent({\n  name: 'TTextarea',\n  inheritAttrs: false,\n  props: { ...props },\n\n  setup(props: TdTextareaProps, { attrs, expose }) {\n    const prefix = usePrefixClass();\n    const name = usePrefixClass('textarea');\n    const TEXTAREA_TIPS_CLASS = computed(() => `${name.value}__tips`);\n    const TEXTAREA_LIMIT = computed(() => `${name.value}__limit`);\n\n    const { value, modelValue } = toRefs(props);\n    const [innerValue, setInnerValue] = useVModel(value, modelValue, props.defaultValue, props.onChange);\n    const disabled = useFormDisabled();\n    const textareaStyle = ref<CSSProperties>({});\n\n    const refTextareaElem = ref<HTMLTextAreaElement>();\n    const focused = ref(false);\n    const isComposing = ref(false);\n\n    const focus = () => refTextareaElem.value?.focus();\n    const blur = () => refTextareaElem.value?.blur();\n\n    // methods\n    const adjustTextareaHeight = () => {\n      if (props.autosize === true) {\n        textareaStyle.value = calcTextareaHeight(refTextareaElem.value);\n      } else if (props.autosize && typeof props.autosize === 'object') {\n        const { minRows, maxRows } = props.autosize;\n        textareaStyle.value = calcTextareaHeight(refTextareaElem.value, minRows, maxRows);\n      } else if (attrs.rows) {\n        textareaStyle.value = { height: 'auto', minHeight: 'auto' };\n      } else if (attrs.style && refTextareaElem.value?.style?.height) {\n        textareaStyle.value = { height: refTextareaElem.value.style.height };\n      }\n    };\n\n    const setInputValue = (v: TextareaValue = '') => {\n      const textareaElem = refTextareaElem.value;\n      const sV = String(v);\n      if (!textareaElem) {\n        return;\n      }\n\n      if (textareaElem.value !== sV) {\n        textareaElem.value = sV;\n        innerValue.value = sV;\n      }\n    };\n    const inputValueChangeHandle = (e: InputEvent) => {\n      const { target } = e;\n      let val = (target as HTMLInputElement).value;\n      if (props.maxcharacter && props.maxcharacter >= 0) {\n        const stringInfo = getCharacterLength(val, props.maxcharacter);\n        val = typeof stringInfo === 'object' && stringInfo.characters;\n      }\n      !isComposing.value && setInnerValue(val, { e });\n      nextTick(() => setInputValue(val));\n      adjustTextareaHeight();\n    };\n\n    const handleInput = (e: InputEvent) => {\n      inputValueChangeHandle(e);\n    };\n\n    const onCompositionstart = () => {\n      isComposing.value = true;\n    };\n\n    const onCompositionend = (e: InputEvent | CompositionEvent) => {\n      isComposing.value = false;\n      inputValueChangeHandle(e as InputEvent);\n    };\n\n    const eventDeal = (name: 'keydown' | 'keyup' | 'keypress' | 'change', e: KeyboardEvent | FocusEvent) => {\n      if (disabled.value) return;\n      const eventName = `on${name[0].toUpperCase()}${name.slice(1)}`;\n      props[eventName]?.(innerValue.value, { e });\n    };\n\n    const emitKeyDown = (e: KeyboardEvent) => {\n      eventDeal('keydown', e);\n    };\n    const emitKeyUp = (e: KeyboardEvent) => {\n      eventDeal('keyup', e);\n    };\n    const emitKeypress = (e: KeyboardEvent) => {\n      eventDeal('keypress', e);\n    };\n\n    const emitFocus = (e: FocusEvent) => {\n      adjustTextareaHeight();\n      if (disabled.value) return;\n      focused.value = true;\n      props.onFocus?.(innerValue.value, { e });\n    };\n\n    const formItem = inject(FormItemInjectionKey, undefined);\n    const emitBlur = (e: FocusEvent) => {\n      adjustTextareaHeight();\n      focused.value = false;\n      props.onBlur?.(innerValue.value, { e });\n      formItem?.handleBlur();\n    };\n\n    // computed\n    const textareaClasses = computed(() => {\n      return [\n        name.value,\n        {\n          [`${prefix.value}-is-disabled`]: disabled.value,\n          [`${prefix.value}-is-readonly`]: props.readonly,\n        },\n      ];\n    });\n    const inputAttrs = computed<Record<string, any>>(() => {\n      return getValidAttrs({\n        autofocus: props.autofocus,\n        disabled: disabled.value,\n        readonly: props.readonly,\n        placeholder: props.placeholder,\n        maxlength: props.maxlength || undefined,\n        name: props.name || undefined,\n      });\n    });\n    const characterNumber = computed(() => {\n      const characterInfo = getCharacterLength(String(innerValue.value || ''));\n      if (typeof characterInfo === 'object') {\n        return characterInfo.length;\n      }\n      return characterInfo;\n    });\n\n    // watch\n    watch(\n      () => innerValue.value,\n      () => adjustTextareaHeight(),\n    );\n\n    watch(refTextareaElem, (el) => {\n      if (!el) return;\n      adjustTextareaHeight();\n    });\n\n    watch(\n      () => props.autofocus,\n      (val) => {\n        if (val) {\n          refTextareaElem.value.focus();\n        }\n      },\n    );\n\n    watch(textareaStyle, (val) => {\n      const { style } = attrs as { style: StyleValue };\n      setStyle(refTextareaElem.value, merge(style, val));\n    });\n\n    watch(innerValue, () => {\n      nextTick(() => adjustTextareaHeight());\n    });\n\n    watch(() => props.autosize, adjustTextareaHeight, { deep: true });\n\n    expose({\n      focus,\n      blur,\n    });\n\n    onMounted(() => {\n      adjustTextareaHeight();\n    });\n\n    const renderTNodeJSX = useTNodeJSX();\n    return () => {\n      const inputEvents = getValidAttrs({\n        onFocus: emitFocus,\n        onBlur: emitBlur,\n        onKeydown: emitKeyDown,\n        onKeyup: emitKeyUp,\n        onKeypress: emitKeypress,\n      });\n      const { STATUS } = useCommonClassName();\n      const classes = computed(() => [\n        `${name.value}__inner`,\n        {\n          [`${prefix.value}-is-${props.status}`]: props.status,\n          [STATUS.value.disabled]: disabled.value,\n          [STATUS.value.focused]: focused.value,\n          [`${prefix.value}-resize-none`]: typeof props.autosize === 'object',\n        },\n        'narrow-scrollbar',\n      ]);\n\n      const tips = renderTNodeJSX('tips');\n\n      const textTips = tips && (\n        <div class={`${TEXTAREA_TIPS_CLASS.value} ${name.value}__tips--${props.status || 'normal'}`}>{tips}</div>\n      );\n\n      const limitText =\n        (props.maxcharacter && (\n          <span class={TEXTAREA_LIMIT.value}>{`${characterNumber.value}/${props.maxcharacter}`}</span>\n        )) ||\n        (!props.maxcharacter && props.maxlength && (\n          <span class={TEXTAREA_LIMIT.value}>{`${innerValue.value ? String(innerValue.value)?.length : 0}/${\n            props.maxlength\n          }`}</span>\n        ));\n\n      return (\n        <div class={textareaClasses.value} {...omit(attrs, ['style'])}>\n          <textarea\n            onInput={handleInput}\n            onCompositionstart={onCompositionstart}\n            onCompositionend={onCompositionend}\n            ref={refTextareaElem}\n            value={innerValue.value}\n            class={classes.value}\n            {...inputEvents}\n            {...inputAttrs.value}\n          ></textarea>\n          {textTips || limitText ? (\n            <div\n              class={[\n                `${name.value}__info_wrapper`,\n                {\n                  [`${name.value}__info_wrapper_align`]: !textTips,\n                },\n              ]}\n            >\n              {textTips}\n              {limitText}\n            </div>\n          ) : null}\n        </div>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}