{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-7deaa3b9.mjs';\nimport { defineComponent, ref, createVNode, h, watch } from 'vue';\nimport { i as isNumber_1 } from '../_chunks/dep-0e4de31a.mjs';\nimport { i as isFunction_1 } from '../_chunks/dep-66473aa9.mjs';\nimport props from './props.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport { useContent } from '../hooks/tnode.mjs';\nimport { i as isArray_1 } from '../_chunks/dep-ab439391.mjs';\nimport '../_chunks/dep-8dbc9855.mjs';\nimport '../_chunks/dep-cb814df4.mjs';\nimport '../_chunks/dep-cd533155.mjs';\nimport '../_chunks/dep-2adf18a2.mjs';\nimport '../_chunks/dep-715774e0.mjs';\nimport '../_chunks/dep-5a5a1764.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-37e3e644.mjs';\nimport '../_chunks/dep-31dc0415.mjs';\nimport '../_chunks/dep-e5142249.mjs';\nimport '../_chunks/dep-c4f80cb4.mjs';\nimport '../_chunks/dep-996b4900.mjs';\nimport '../_chunks/dep-3108c312.mjs';\nimport '../_chunks/dep-93498383.mjs';\nimport '../_chunks/dep-36582a92.mjs';\nimport '../_chunks/dep-a2db6df1.mjs';\nimport '../_chunks/dep-0f89a1dd.mjs';\nimport '../_chunks/dep-60d62610.mjs';\nimport '../_chunks/dep-d4da440a.mjs';\nimport '../_chunks/dep-013382c3.mjs';\nimport '../_chunks/dep-ca764006.mjs';\nimport '../_chunks/dep-2ee9d497.mjs';\nimport '../_chunks/dep-c545db54.mjs';\nimport '../_chunks/dep-3f15cb30.mjs';\nimport '../_chunks/dep-fd2b6c64.mjs';\nimport '../_chunks/dep-30b3f256.mjs';\nimport '../_chunks/dep-b3734774.mjs';\nimport '../_chunks/dep-a4a3ac25.mjs';\nimport '../_chunks/dep-6861d388.mjs';\nimport '../_chunks/dep-396d852b.mjs';\nimport '../_chunks/dep-8a3fd140.mjs';\nimport '../_chunks/dep-5db0da5c.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-bf19d9ba.mjs';\nimport '../_chunks/dep-6963a882.mjs';\nimport '../config-provider/type.mjs';\nimport '../_chunks/dep-f8909853.mjs';\nimport '../_chunks/dep-67e59a11.mjs';\nimport '../_chunks/dep-10024af3.mjs';\nimport '../_chunks/dep-d00e2e04.mjs';\nimport '../_chunks/dep-ec2f76cc.mjs';\nimport '../_chunks/dep-96484611.mjs';\nimport '../_chunks/dep-bd7cd061.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-60ee423b.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar ThemeMap = {\n  text: [1],\n  avatar: [{\n    type: \"circle\",\n    size: \"56px\"\n  }],\n  paragraph: [1, 1, {\n    width: \"70%\"\n  }],\n  \"avatar-text\": [[{\n    type: \"circle\"\n  }, {\n    type: \"text\",\n    height: \"32px\"\n  }]],\n  tab: [{\n    height: \"30px\"\n  }, {\n    height: \"200px\"\n  }],\n  article: [{\n    type: \"rect\",\n    height: \"30px\",\n    width: \"100%\"\n  }, {\n    type: \"rect\",\n    height: \"200px\",\n    width: \"100%\"\n  }, [{\n    type: \"text\",\n    height: \"30px\"\n  }, {\n    type: \"text\",\n    height: \"30px\"\n  }, {\n    type: \"text\",\n    height: \"30px\"\n  }], [{\n    type: \"text\",\n    height: \"30px\"\n  }, {\n    type: \"text\",\n    height: \"30px\"\n  }], [{\n    type: \"text\",\n    height: \"30px\"\n  }, {\n    type: \"text\",\n    height: \"30px\"\n  }], [{\n    type: \"text\",\n    height: \"30px\"\n  }, {\n    type: \"text\",\n    height: \"30px\"\n  }]]\n};\nvar getColItemStyle = function getColItemStyle(obj) {\n  var styleName = [\"width\", \"height\", \"marginRight\", \"marginLeft\", \"margin\", \"size\", \"background\", \"backgroundColor\"];\n  var style = /* @__PURE__ */Object.create(null);\n  styleName.forEach(function (name) {\n    if (name in obj) {\n      var px = isNumber_1(obj[name]) ? \"\".concat(obj[name], \"px\") : obj[name];\n      if (name === \"size\") {\n        var _ref = [px, px];\n        style.width = _ref[0];\n        style.height = _ref[1];\n      } else {\n        style[name] = px;\n      }\n    }\n  });\n  return style;\n};\nvar _Skeleton = defineComponent({\n  name: \"TSkeleton\",\n  props: _objectSpread({}, props),\n  setup: function setup(props2, _ref2) {\n    var slots = _ref2.slots;\n    var isShow = ref(false);\n    var COMPONENT_NAME = usePrefixClass(\"skeleton\");\n    var renderContent = useContent();\n    var getColItemClass = function getColItemClass(obj) {\n      return [\"\".concat(COMPONENT_NAME.value, \"__col\"), \"\".concat(COMPONENT_NAME.value, \"--type-\").concat(obj.type || \"text\"), _defineProperty({}, \"\".concat(COMPONENT_NAME.value, \"--animation-\").concat(props2.animation), props2.animation)];\n    };\n    var renderCols = function renderCols(_cols) {\n      var cols = [];\n      if (isArray_1(_cols)) {\n        cols = _cols;\n      } else if (isNumber_1(_cols)) {\n        cols = new Array(_cols).fill({\n          type: \"text\"\n        });\n      } else {\n        cols = [_cols];\n      }\n      return cols.map(function (obj) {\n        return createVNode(\"div\", {\n          \"class\": getColItemClass(obj),\n          \"style\": getColItemStyle(obj)\n        }, [isFunction_1(obj.content) ? obj.content(h) : obj.content]);\n      });\n    };\n    var renderRowCol = function renderRowCol(_rowCol) {\n      var rowCol = _rowCol || props2.rowCol;\n      var getBlockClass = function getBlockClass() {\n        return [\"\".concat(COMPONENT_NAME.value, \"__row\")];\n      };\n      return rowCol.map(function (item) {\n        return createVNode(\"div\", {\n          \"class\": getBlockClass()\n        }, [renderCols(item)]);\n      });\n    };\n    watch(function () {\n      return props2.loading;\n    }, function (val) {\n      if (!val || props2.delay === 0) {\n        isShow.value = val;\n        return;\n      }\n      setTimeout(function () {\n        isShow.value = val;\n      }, props2.delay);\n    }, {\n      immediate: true\n    });\n    return function () {\n      var content = renderContent(\"default\", \"content\");\n      if (slots[\"default\"] && !isShow.value) {\n        return createVNode(\"div\", null, [content]);\n      }\n      if (!isShow.value) {\n        return;\n      }\n      var children = [];\n      if (props2.theme) {\n        children.push(renderRowCol(ThemeMap[props2.theme]));\n      }\n      if (props2.rowCol) {\n        children.push(renderRowCol(props2.rowCol));\n      }\n      if (!props2.theme && !props2.rowCol) {\n        children.push(renderRowCol([1, 1, 1, {\n          width: \"70%\"\n        }]));\n      }\n      return createVNode(\"div\", {\n        \"class\": COMPONENT_NAME.value\n      }, [children]);\n    };\n  }\n});\nexport { _Skeleton as default };","map":{"version":3,"names":["ThemeMap","text","avatar","type","size","paragraph","width","height","tab","article","getColItemStyle","obj","styleName","style","Object","create","forEach","name","px","isNumber_1","concat","_ref","_Skeleton","defineComponent","props","_objectSpread","setup","props2","_ref2","slots","isShow","ref","COMPONENT_NAME","usePrefixClass","renderContent","useContent","getColItemClass","value","_defineProperty","animation","renderCols","_cols","cols","isArray_1","Array","fill","map","createVNode","isFunction_1","content","h","renderRowCol","_rowCol","rowCol","getBlockClass","item","watch","loading","val","delay","setTimeout","immediate","children","theme","push"],"sources":["../../src/skeleton/skeleton.tsx"],"sourcesContent":["import { h, defineComponent, ref, watch } from 'vue';\nimport isNumber from 'lodash/isNumber';\nimport isFunction from 'lodash/isFunction';\nimport props from './props';\nimport { SkeletonRowCol, SkeletonRowColObj, TdSkeletonProps } from './type';\nimport { usePrefixClass } from '../hooks/useConfig';\nimport { useContent } from '../hooks/tnode';\nimport isArray from 'lodash/isArray';\n\nconst ThemeMap: Record<TdSkeletonProps['theme'], SkeletonRowCol> = {\n  text: [1],\n  avatar: [{ type: 'circle', size: '56px' }],\n  paragraph: [1, 1, { width: '70%' }],\n  'avatar-text': [[{ type: 'circle' }, { type: 'text', height: '32px' }]],\n  tab: [{ height: '30px' }, { height: '200px' }],\n  article: [\n    { type: 'rect', height: '30px', width: '100%' },\n    { type: 'rect', height: '200px', width: '100%' },\n    [\n      { type: 'text', height: '30px' },\n      { type: 'text', height: '30px' },\n      { type: 'text', height: '30px' },\n    ],\n    [\n      { type: 'text', height: '30px' },\n      { type: 'text', height: '30px' },\n    ],\n    [\n      { type: 'text', height: '30px' },\n      { type: 'text', height: '30px' },\n    ],\n    [\n      { type: 'text', height: '30px' },\n      { type: 'text', height: '30px' },\n    ],\n  ],\n};\n\nconst getColItemStyle = (obj: SkeletonRowColObj) => {\n  const styleName = ['width', 'height', 'marginRight', 'marginLeft', 'margin', 'size', 'background', 'backgroundColor'];\n  const style = Object.create(null);\n  styleName.forEach((name) => {\n    if (name in obj) {\n      const px = isNumber(obj[name]) ? `${obj[name]}px` : obj[name];\n      if (name === 'size') {\n        [style.width, style.height] = [px, px];\n      } else {\n        style[name] = px;\n      }\n    }\n  });\n  return style;\n};\n\nexport default defineComponent({\n  name: 'TSkeleton',\n\n  props: { ...props },\n\n  setup(props, { slots }) {\n    const isShow = ref(false);\n    const COMPONENT_NAME = usePrefixClass('skeleton');\n    const renderContent = useContent();\n    const getColItemClass = (obj: SkeletonRowColObj) => [\n      `${COMPONENT_NAME.value}__col`,\n      `${COMPONENT_NAME.value}--type-${obj.type || 'text'}`,\n      { [`${COMPONENT_NAME.value}--animation-${props.animation}`]: props.animation },\n    ];\n\n    const renderCols = (_cols: Number | SkeletonRowColObj | Array<SkeletonRowColObj>) => {\n      let cols: Array<SkeletonRowColObj> = [];\n      if (isArray(_cols)) {\n        cols = _cols;\n      } else if (isNumber(_cols)) {\n        cols = new Array(_cols).fill({ type: 'text' });\n      } else {\n        cols = [_cols as SkeletonRowColObj];\n      }\n      return cols.map((obj) => (\n        <div class={getColItemClass(obj)} style={getColItemStyle(obj)}>\n          {isFunction(obj.content) ? obj.content(h) : obj.content}\n        </div>\n      ));\n    };\n\n    const renderRowCol = (_rowCol?: SkeletonRowCol) => {\n      const rowCol: SkeletonRowCol = _rowCol || props.rowCol;\n\n      const getBlockClass = () => [`${COMPONENT_NAME.value}__row`];\n\n      return rowCol.map((item) => <div class={getBlockClass()}>{renderCols(item)}</div>);\n    };\n\n    watch(\n      () => props.loading,\n      (val) => {\n        if (!val || props.delay === 0) {\n          isShow.value = val;\n          return;\n        }\n        setTimeout(() => {\n          isShow.value = val;\n        }, props.delay);\n      },\n      { immediate: true },\n    );\n\n    return () => {\n      const content = renderContent('default', 'content');\n\n      if (slots.default && !isShow.value) {\n        return <div>{content}</div>;\n      }\n\n      if (!isShow.value) {\n        return;\n      }\n\n      const children = [];\n      if (props.theme) {\n        children.push(renderRowCol(ThemeMap[props.theme]));\n      }\n      if (props.rowCol) {\n        children.push(renderRowCol(props.rowCol));\n      }\n      if (!props.theme && !props.rowCol) {\n        // 什么都不传时，传入默认 rowCol\n        children.push(renderRowCol([1, 1, 1, { width: '70%' }]));\n      }\n\n      return <div class={COMPONENT_NAME.value}>{children}</div>;\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}