{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * tdesign v1.9.3\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _objectWithoutProperties } from '../_chunks/dep-8325f53f.mjs';\nimport { _ as _toConsumableArray } from '../_chunks/dep-4d2c39b6.mjs';\nimport { _ as _slicedToArray } from '../_chunks/dep-a71c8f5b.mjs';\nimport { _ as _defineProperty } from '../_chunks/dep-a5dfe884.mjs';\nimport { defineComponent, toRefs, ref, computed, provide, nextTick, watch, createVNode, mergeProps } from 'vue';\nimport { p as pick_1 } from '../_chunks/dep-1b60f9ac.mjs';\nimport { i as isArray_1 } from '../_chunks/dep-10c900d8.mjs';\nimport { i as isFunction_1 } from '../_chunks/dep-6e7655db.mjs';\nimport { d as debounce_1 } from '../_chunks/dep-67dca09a.mjs';\nimport { c as cloneDeep_1 } from '../_chunks/dep-db7324ec.mjs';\nimport { g as get_1 } from '../_chunks/dep-04ba5b59.mjs';\nimport { i as intersection_1 } from '../_chunks/dep-69da1a80.mjs';\nimport FakeArrow from '../common-components/fake-arrow.mjs';\nimport { SelectInput } from '../select-input/index.mjs';\nimport SelectPanel from './select-panel.mjs';\nimport props from './props.mjs';\nimport { useFormDisabled } from '../form/hooks.mjs';\nimport useDefaultValue from '../hooks/useDefaultValue.mjs';\nimport useVModel from '../hooks/useVModel.mjs';\nimport { useTNodeJSX } from '../hooks/tnode.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport { getSingleContent, getMultipleContent, selectInjectKey } from './helper.mjs';\nimport { useSelectOptions } from './hooks/useSelectOptions.mjs';\nimport useKeyboardControl from './hooks/useKeyboardControl.mjs';\nimport { useConfig } from '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-0e21c401.mjs';\nimport '../_chunks/dep-d33c5d88.mjs';\nimport '../_chunks/dep-437d10c6.mjs';\nimport '../_chunks/dep-05b564d9.mjs';\nimport '../_chunks/dep-1c5d24dd.mjs';\nimport '../_chunks/dep-e98ea432.mjs';\nimport '../_chunks/dep-6ad32365.mjs';\nimport '../_chunks/dep-75628739.mjs';\nimport '../_chunks/dep-5f15268c.mjs';\nimport '../_chunks/dep-c70e40ae.mjs';\nimport '../_chunks/dep-4382b808.mjs';\nimport '../_chunks/dep-62ad5a36.mjs';\nimport '../_chunks/dep-f76ec896.mjs';\nimport '../_chunks/dep-0894e3ae.mjs';\nimport '../_chunks/dep-003c9b00.mjs';\nimport '../_chunks/dep-d5c54b49.mjs';\nimport '../_chunks/dep-0e5b2b76.mjs';\nimport '../_chunks/dep-f3a27c4c.mjs';\nimport '../_chunks/dep-b6946d89.mjs';\nimport '../_chunks/dep-f41eb5b9.mjs';\nimport '../_chunks/dep-e3204123.mjs';\nimport '../_chunks/dep-fb9941c5.mjs';\nimport '../_chunks/dep-e56cdb74.mjs';\nimport '../_chunks/dep-3b84887f.mjs';\nimport '../_chunks/dep-f7067d3d.mjs';\nimport '../_chunks/dep-88c02450.mjs';\nimport '../_chunks/dep-8ee0987a.mjs';\nimport '../_chunks/dep-d090226f.mjs';\nimport '../_chunks/dep-c31faaef.mjs';\nimport '../_chunks/dep-0ced8e2e.mjs';\nimport '../_chunks/dep-1494b54a.mjs';\nimport '../_chunks/dep-6ea85de8.mjs';\nimport '../_chunks/dep-92ce9c6c.mjs';\nimport '../_chunks/dep-017fc8db.mjs';\nimport '../_chunks/dep-2f0b4a52.mjs';\nimport '../_chunks/dep-3d61d8a6.mjs';\nimport '../select-input/select-input.mjs';\nimport '../popup/index.mjs';\nimport '../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../_chunks/dep-5d7be5c6.mjs';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../_chunks/dep-0223e29d.mjs';\nimport '../_chunks/dep-cd1b7f96.mjs';\nimport '../_chunks/dep-eea784eb.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-0c808c2e.mjs';\nimport '../_chunks/dep-4c103c66.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../utils/dom.mjs';\nimport '../utils/easing.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../popup/container.mjs';\nimport '../popup/props.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../popup/type.mjs';\nimport '../_chunks/dep-190cc0b3.mjs';\nimport '../_chunks/dep-29a308fc.mjs';\nimport '../_chunks/dep-18af437d.mjs';\nimport '../_chunks/dep-28a28c00.mjs';\nimport '../_chunks/dep-1c9d9f8d.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-bc75f95c.mjs';\nimport '../config-provider/type.mjs';\nimport '../select-input/props.mjs';\nimport '../select-input/useSingle.mjs';\nimport '../input/index.mjs';\nimport '../input/input.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../input/props.mjs';\nimport '../hooks/useGlobalIcon.mjs';\nimport '../input/useInput.mjs';\nimport '../form/const.mjs';\nimport '../input/useLengthLimit.mjs';\nimport '../_common/js/log/index.mjs';\nimport '../_common/js/utils/helper.mjs';\nimport '../_chunks/dep-b20328d2.mjs';\nimport '../_chunks/dep-3c3faac3.mjs';\nimport '../_chunks/dep-ae66bf73.mjs';\nimport '../input/useInputEventHandler.mjs';\nimport '../input/useInputWidth.mjs';\nimport '../input/input-group.mjs';\nimport '../input/input-group-props.mjs';\nimport '../input/type.mjs';\nimport '../loading/index.mjs';\nimport '../_chunks/dep-c4a2d318.mjs';\nimport '../_chunks/dep-143154a5.mjs';\nimport '../_chunks/dep-69610219.mjs';\nimport '../_chunks/dep-8cc70cb2.mjs';\nimport '../loading/plugin.mjs';\nimport '../loading/loading.mjs';\nimport '../loading/icon/gradient.mjs';\nimport '../_common/js/loading/circle-adapter.mjs';\nimport '../loading/props.mjs';\nimport '../hooks/useTeleport.mjs';\nimport '../loading/type.mjs';\nimport '../select-input/useMultiple.mjs';\nimport '../tag-input/index.mjs';\nimport '../tag-input/tag-input.mjs';\nimport '../tag-input/props.mjs';\nimport '../tag-input/hooks/useTagScroll.mjs';\nimport '../tag-input/useTagList.mjs';\nimport '../tag/index.mjs';\nimport '../tag/tag.mjs';\nimport '../_chunks/dep-e7ab8269.mjs';\nimport '../tag/props.mjs';\nimport '../tag/check-tag.mjs';\nimport '../tag/check-tag-props.mjs';\nimport '../_common/js/common.mjs';\nimport '../tag/check-tag-group.mjs';\nimport '../tag/check-tag-group-props.mjs';\nimport '../tag/type.mjs';\nimport '../tag-input/hooks/useHover.mjs';\nimport '../tag-input/hooks/useDragSorter.mjs';\nimport '../tag-input/type.mjs';\nimport '../select-input/useOverlayInnerStyle.mjs';\nimport '../select-input/type.mjs';\nimport '../_chunks/dep-8bcdb054.mjs';\nimport '../_chunks/dep-dd2681d3.mjs';\nimport './option.mjs';\nimport './option-props.mjs';\nimport '../checkbox/index.mjs';\nimport '../checkbox/checkbox.mjs';\nimport '../checkbox/props.mjs';\nimport '../checkbox/constants.mjs';\nimport '../checkbox/hooks/useCheckboxLazyLoad.mjs';\nimport '../_common/js/utils/observe.mjs';\nimport '../checkbox/hooks/useKeyboardEvent.mjs';\nimport '../hooks/useDisabled.mjs';\nimport '../_chunks/dep-36f0e4f4.mjs';\nimport '../checkbox/group.mjs';\nimport '../checkbox/checkbox-group-props.mjs';\nimport '../checkbox/type.mjs';\nimport './optionGroup.mjs';\nimport './option-group-props.mjs';\nimport './hooks/usePanelVirtualScroll.mjs';\nvar _excluded = [\"overlayClassName\"];\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar _Select = defineComponent({\n  name: \"TSelect\",\n  props: _objectSpread(_objectSpread({}, props), {}, {\n    valueDisplayOptions: {\n      type: Object\n    }\n  }),\n  setup: function setup(props2, _ref) {\n    var slots = _ref.slots;\n    var classPrefix = usePrefixClass();\n    var disabled = useFormDisabled();\n    var renderTNodeJSX = useTNodeJSX();\n    var COMPONENT_NAME = usePrefixClass(\"select\");\n    var _useConfig = useConfig(\"select\"),\n      globalConfig = _useConfig.globalConfig,\n      t = _useConfig.t;\n    var _toRefs = toRefs(props2),\n      popupVisible = _toRefs.popupVisible,\n      inputValue = _toRefs.inputValue,\n      modelValue = _toRefs.modelValue,\n      value = _toRefs.value;\n    var _useDefaultValue = useDefaultValue(inputValue, props2.defaultInputValue, props2.onInputChange, \"inputValue\"),\n      _useDefaultValue2 = _slicedToArray(_useDefaultValue, 2),\n      innerInputValue = _useDefaultValue2[0],\n      setInputValue = _useDefaultValue2[1];\n    var _useVModel = useVModel(value, modelValue, props2.defaultValue, props2.onChange),\n      _useVModel2 = _slicedToArray(_useVModel, 2),\n      orgValue = _useVModel2[0],\n      setOrgValue = _useVModel2[1];\n    var selectPanelRef = ref(null);\n    var selectInputRef = ref(null);\n    var keys = computed(function () {\n      var _props2$keys, _props2$keys2, _props2$keys3;\n      return {\n        label: ((_props2$keys = props2.keys) === null || _props2$keys === void 0 ? void 0 : _props2$keys.label) || \"label\",\n        value: ((_props2$keys2 = props2.keys) === null || _props2$keys2 === void 0 ? void 0 : _props2$keys2.value) || \"value\",\n        disabled: ((_props2$keys3 = props2.keys) === null || _props2$keys3 === void 0 ? void 0 : _props2$keys3.disabled) || \"disabled\"\n      };\n    });\n    var _useSelectOptions = useSelectOptions(props2, keys, innerInputValue),\n      optionsMap = _useSelectOptions.optionsMap,\n      optionsList = _useSelectOptions.optionsList,\n      optionsCache = _useSelectOptions.optionsCache,\n      displayOptions = _useSelectOptions.displayOptions;\n    var innerValue = computed(function () {\n      if (orgValue.value === void 0) {\n        return props2.multiple ? [] : void 0;\n      }\n      if (props2.valueType === \"object\") {\n        return !props2.multiple ? orgValue.value[keys.value.value] : orgValue.value.map(function (option) {\n          return option[keys.value.value];\n        });\n      }\n      return orgValue.value;\n    });\n    var setInnerValue = function setInnerValue(newVal, context) {\n      if (props2.valueType === \"object\") {\n        var _keys$value = keys.value,\n          value2 = _keys$value.value,\n          label = _keys$value.label;\n        var getOption = function getOption(val) {\n          if (val === void 0) {\n            return void 0;\n          }\n          var option = optionsMap.value.get(val);\n          return _defineProperty(_defineProperty({}, value2, get_1(option, value2)), label, get_1(option, label));\n        };\n        newVal = props2.multiple ? newVal.map(function (val) {\n          return getOption(val);\n        }) : getOption(newVal);\n      }\n      if (newVal === orgValue.value) return;\n      setOrgValue(newVal, _objectSpread({\n        selectedOptions: getSelectedOptions(newVal)\n      }, context));\n    };\n    var _useDefaultValue3 = useDefaultValue(popupVisible, false, function (visible, context) {\n        var _props2$onPopupVisibl;\n        (_props2$onPopupVisibl = props2.onPopupVisibleChange) === null || _props2$onPopupVisibl === void 0 || _props2$onPopupVisibl.call(props2, visible, context);\n      }, \"popupVisible\"),\n      _useDefaultValue4 = _slicedToArray(_useDefaultValue3, 2),\n      innerPopupVisible = _useDefaultValue4[0],\n      setInnerPopupVisible = _useDefaultValue4[1];\n    var placeholderText = computed(function () {\n      var _ref3;\n      return (_ref3 = !props2.multiple && innerPopupVisible.value && getSingleContent(innerValue.value, optionsMap) || props2.placeholder) !== null && _ref3 !== void 0 ? _ref3 : t(globalConfig.value.placeholder);\n    });\n    var displayText = computed(function () {\n      return props2.multiple ? getMultipleContent(innerValue.value, optionsMap) : getSingleContent(innerValue.value, optionsMap);\n    });\n    var valueDisplayParams = computed(function () {\n      var val = props2.multiple && isArray_1(innerValue.value) ? innerValue.value.map(function (value2) {\n        var _optionsMap$value$get;\n        return {\n          value: value2,\n          label: (_optionsMap$value$get = optionsMap.value.get(value2)) === null || _optionsMap$value$get === void 0 ? void 0 : _optionsMap$value$get.label\n        };\n      }) : innerValue.value;\n      var params = {\n        value: val,\n        onClose: props2.multiple ? function (index) {\n          return removeTag(index);\n        } : function () {}\n      };\n      if (props2.minCollapsedNum && props2.multiple) {\n        var _val$slice;\n        return _objectSpread(_objectSpread({}, params), {}, {\n          displayValue: val === null || val === void 0 || (_val$slice = val.slice) === null || _val$slice === void 0 ? void 0 : _val$slice.call(val, 0, props2.minCollapsedNum)\n        });\n      }\n      return params;\n    });\n    var isFilterable = computed(function () {\n      return Boolean(props2.filterable || globalConfig.value.filterable || isFunction_1(props2.filter));\n    });\n    var removeTag = function removeTag(index, e) {\n      var _props2$onRemove;\n      e && e.stopPropagation();\n      var selectValue = cloneDeep_1(innerValue.value);\n      var value2 = selectValue[index];\n      selectValue.splice(index, 1);\n      setInnerValue(selectValue, {\n        selectedOptions: getSelectedOptions(selectValue),\n        trigger: \"tag-remove\",\n        e: e\n      });\n      (_props2$onRemove = props2.onRemove) === null || _props2$onRemove === void 0 || _props2$onRemove.call(props2, {\n        value: value2,\n        data: optionsMap.value.get(value2),\n        e: e\n      });\n    };\n    var handleCreate = function handleCreate() {\n      var _props2$onCreate;\n      if (!innerInputValue.value) return;\n      (_props2$onCreate = props2.onCreate) === null || _props2$onCreate === void 0 || _props2$onCreate.call(props2, innerInputValue.value);\n      setInputValue(\"\");\n    };\n    var popupContentRef = computed(function () {\n      var _selectInputRef$value;\n      return (_selectInputRef$value = selectInputRef.value) === null || _selectInputRef$value === void 0 ? void 0 : _selectInputRef$value.popupRef.getOverlay();\n    });\n    var optionalList = computed(function () {\n      return optionsList.value.filter(function (item) {\n        return !item.disabled && !item[\"check-all\"] && !item.checkAll;\n      });\n    });\n    var getSelectedOptions = function getSelectedOptions() {\n      var selectValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : innerValue.value;\n      return optionsList.value.filter(function (option) {\n        if (option.checkAll) return;\n        if (isArray_1(selectValue)) return selectValue.includes(option.value);\n        return selectValue === option.value;\n      });\n    };\n    var _useKeyboardControl = useKeyboardControl({\n        displayOptions: displayOptions,\n        optionsList: optionsList,\n        innerPopupVisible: innerPopupVisible,\n        setInnerPopupVisible: setInnerPopupVisible,\n        selectPanelRef: selectPanelRef,\n        isFilterable: isFilterable,\n        getSelectedOptions: getSelectedOptions,\n        setInnerValue: setInnerValue,\n        innerValue: innerValue,\n        popupContentRef: popupContentRef,\n        multiple: props2.multiple,\n        max: props2.max\n      }),\n      hoverIndex = _useKeyboardControl.hoverIndex,\n      virtualFilteredOptions = _useKeyboardControl.virtualFilteredOptions,\n      handleKeyDown = _useKeyboardControl.handleKeyDown,\n      filteredOptions = _useKeyboardControl.filteredOptions;\n    var onCheckAllChange = function onCheckAllChange(checked) {\n      if (!props2.multiple) return;\n      var value2 = checked ? optionalList.value.map(function (option) {\n        return option.value;\n      }) : [];\n      setInnerValue(value2, {\n        selectedOptions: getSelectedOptions(value2),\n        trigger: checked ? \"check\" : \"clear\"\n      });\n    };\n    var intersectionLen = computed(function () {\n      var values = optionalList.value.map(function (item) {\n        return item.value;\n      });\n      var n = intersection_1(innerValue.value, values);\n      return n.length;\n    });\n    var isCheckAll = computed(function () {\n      return intersectionLen.value === optionalList.value.length;\n    });\n    var indeterminate = computed(function () {\n      return !isCheckAll.value && intersectionLen.value !== 0;\n    });\n    var SelectProvider = computed(function () {\n      return {\n        max: props2.max,\n        multiple: props2.multiple,\n        hoverIndex: hoverIndex.value,\n        selectValue: innerValue.value,\n        reserveKeyword: props2.reserveKeyword,\n        handleValueChange: setInnerValue,\n        handlerInputChange: setInputValue,\n        handlePopupVisibleChange: setInnerPopupVisible,\n        handleCreate: handleCreate,\n        size: props2.size,\n        popupContentRef: popupContentRef,\n        indeterminate: indeterminate.value,\n        isCheckAll: isCheckAll.value,\n        onCheckAllChange: onCheckAllChange,\n        getSelectedOptions: getSelectedOptions,\n        displayOptions: displayOptions.value\n      };\n    });\n    provide(selectInjectKey, SelectProvider);\n    var checkValueInvalid = function checkValueInvalid() {\n      if (!props2.multiple && isArray_1(orgValue.value)) {\n        setOrgValue(void 0, {\n          selectedOptions: [],\n          trigger: \"default\"\n        });\n      }\n      if (props2.multiple && !isArray_1(orgValue.value)) {\n        setOrgValue([], {\n          selectedOptions: [],\n          trigger: \"default\"\n        });\n      }\n    };\n    var handleSearch = debounce_1(function (value2, _ref4) {\n      var _props2$onSearch;\n      var e = _ref4.e;\n      (_props2$onSearch = props2.onSearch) === null || _props2$onSearch === void 0 || _props2$onSearch.call(props2, \"\".concat(value2), {\n        e: e\n      });\n    }, 300);\n    var handlerInputChange = function handlerInputChange(value2, context) {\n      if (value2) {\n        setInnerPopupVisible(true, {\n          e: context.e\n        });\n      }\n      setInputValue(value2);\n      handleSearch(\"\".concat(value2), {\n        e: context.e\n      });\n      nextTick(function () {\n        var _selectPanelRef$value, _selectPanelRef$value2;\n        virtualFilteredOptions.value = (_selectPanelRef$value = selectPanelRef.value) === null || _selectPanelRef$value === void 0 ? void 0 : _selectPanelRef$value.visibleData;\n        filteredOptions.value = (_selectPanelRef$value2 = selectPanelRef.value) === null || _selectPanelRef$value2 === void 0 ? void 0 : _selectPanelRef$value2.displayOptions;\n      });\n    };\n    var handlerPopupVisibleChange = function handlerPopupVisibleChange(visible, context) {\n      setInnerPopupVisible(visible, context);\n      if (visible && context.trigger === \"trigger-element-click\") setInputValue(\"\");\n    };\n    var addCache = function addCache(val) {\n      if (props2.multiple) {\n        var newCache = [];\n        var _iterator = _createForOfIteratorHelper(val || []),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n            var option = optionsMap.value.get(item);\n            if (option) {\n              newCache.push(option);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        optionsCache.value = Array.from( /* @__PURE__ */new Set([].concat(newCache, _toConsumableArray(optionsCache.value))));\n      } else {\n        var _option = optionsMap.value.get(val);\n        if (_option) {\n          optionsCache.value = Array.from( /* @__PURE__ */new Set([_option].concat(_toConsumableArray(optionsCache.value))));\n        }\n      }\n    };\n    watch(orgValue, function (val) {\n      checkValueInvalid();\n      nextTick(function () {\n        addCache(val);\n      });\n    }, {\n      immediate: true\n    });\n    watch(function () {\n      return props2.multiple;\n    }, function () {\n      checkValueInvalid();\n    });\n    var updateScrollTop = function updateScrollTop(content) {\n      var _selectPanelRef$value3;\n      if (!selectPanelRef.value) {\n        return;\n      }\n      var firstSelectedNode = (_selectPanelRef$value3 = selectPanelRef.value) === null || _selectPanelRef$value3 === void 0 || (_selectPanelRef$value3 = _selectPanelRef$value3.innerRef) === null || _selectPanelRef$value3 === void 0 ? void 0 : _selectPanelRef$value3.querySelector(\".\".concat(classPrefix.value, \"-is-selected\"));\n      nextTick(function () {\n        if (firstSelectedNode && content) {\n          var _getComputedStyle = getComputedStyle(firstSelectedNode),\n            paddingBottom = _getComputedStyle.paddingBottom;\n          var _getComputedStyle2 = getComputedStyle(content),\n            marginBottom = _getComputedStyle2.marginBottom;\n          var elementBottomHeight = parseInt(paddingBottom, 10) + parseInt(marginBottom, 10);\n          var updateValue = firstSelectedNode.offsetTop - content.offsetTop - (content.clientHeight - firstSelectedNode.clientHeight) + elementBottomHeight;\n          content.scrollTop = updateValue;\n        }\n      });\n    };\n    provide(\"updateScrollTop\", updateScrollTop);\n    return function () {\n      var _ref5 = props2.popupProps || {},\n        overlayClassName = _ref5.overlayClassName,\n        restPopupProps = _objectWithoutProperties(_ref5, _excluded);\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(COMPONENT_NAME.value, \"__wrap\")\n      }, [createVNode(SelectInput, mergeProps({\n        autoWidth: props2.autoWidth,\n        readonly: props2.readonly,\n        borderless: props2.borderless,\n        multiple: props2.multiple,\n        clearable: props2.clearable,\n        loading: props2.loading,\n        status: props2.status,\n        tips: props2.tips,\n        minCollapsedNum: props2.minCollapsedNum,\n        autofocus: props2.autofocus,\n        suffix: props2.suffix,\n        valueDisplayOptions: props2.valueDisplayOptions\n      }, {\n        \"ref\": selectInputRef,\n        \"class\": COMPONENT_NAME.value,\n        \"value\": displayText.value,\n        \"disabled\": disabled.value,\n        \"popupVisible\": innerPopupVisible.value,\n        \"inputValue\": innerPopupVisible.value ? innerInputValue.value : \"\",\n        \"placeholder\": \"\".concat(placeholderText.value),\n        \"allowInput\": isFilterable.value,\n        \"collapsed-items\": props2.collapsedItems,\n        \"inputProps\": _objectSpread(_objectSpread({\n          size: props2.size,\n          autofocus: props2.autofocus\n        }, props2.inputProps), {}, {\n          onkeydown: handleKeyDown\n        }),\n        \"tagInputProps\": _objectSpread({\n          size: props2.size\n        }, props2.tagInputProps),\n        \"onTagChange\": function onTagChange(val, ctx) {\n          removeTag(ctx.index);\n        },\n        \"tagProps\": _objectSpread({}, props2.tagProps),\n        \"popupProps\": _objectSpread({\n          overlayClassName: [\"\".concat(COMPONENT_NAME.value, \"__dropdown\"), overlayClassName]\n        }, restPopupProps),\n        \"label\": props2.label,\n        \"prefixIcon\": props2.prefixIcon,\n        \"suffix\": props2.suffix,\n        \"suffixIcon\": function suffixIcon() {\n          if (props2.suffixIcon || slots.suffixIcon) {\n            return renderTNodeJSX(\"suffixIcon\");\n          }\n          return props2.showArrow && createVNode(FakeArrow, {\n            \"overlayClassName\": \"\".concat(COMPONENT_NAME.value, \"__right-icon\"),\n            \"isActive\": innerPopupVisible.value\n          }, null);\n        },\n        \"valueDisplay\": function valueDisplay() {\n          return renderTNodeJSX(\"valueDisplay\", {\n            params: valueDisplayParams.value\n          });\n        },\n        \"onPopupVisibleChange\": handlerPopupVisibleChange,\n        \"onInputChange\": handlerInputChange,\n        \"onClear\": function onClear(_ref6) {\n          var _props2$onClear;\n          var e = _ref6.e;\n          setInnerValue(props2.multiple ? [] : void 0, {\n            option: null,\n            selectedOptions: getSelectedOptions(props2.multiple ? [] : void 0),\n            trigger: \"clear\",\n            e: e\n          });\n          (_props2$onClear = props2.onClear) === null || _props2$onClear === void 0 || _props2$onClear.call(props2, {\n            e: e\n          });\n        },\n        \"onEnter\": function onEnter(inputValue2, _ref7) {\n          var _props2$onEnter;\n          var e = _ref7.e;\n          (_props2$onEnter = props2.onEnter) === null || _props2$onEnter === void 0 || _props2$onEnter.call(props2, {\n            inputValue: \"\".concat(innerInputValue.value),\n            e: e,\n            value: innerValue.value\n          });\n          handleCreate();\n        },\n        \"onBlur\": function onBlur(inputValue2, _ref8) {\n          var _props2$onBlur;\n          var e = _ref8.e;\n          (_props2$onBlur = props2.onBlur) === null || _props2$onBlur === void 0 || _props2$onBlur.call(props2, {\n            e: e,\n            value: innerValue.value\n          });\n        },\n        \"onFocus\": function onFocus(inputValue2, _ref9) {\n          var _props2$onFocus;\n          var e = _ref9.e;\n          (_props2$onFocus = props2.onFocus) === null || _props2$onFocus === void 0 || _props2$onFocus.call(props2, {\n            e: e,\n            value: innerValue.value\n          });\n        }\n      }, props2.selectInputProps), {\n        label: slots.label,\n        prefixIcon: slots.prefixIcon,\n        suffix: slots.suffix,\n        panel: function panel() {\n          return createVNode(SelectPanel, mergeProps({\n            \"ref\": selectPanelRef\n          }, pick_1(props2, [\"size\", \"multiple\", \"empty\", \"loading\", \"loadingText\", \"filterable\", \"creatable\", \"panelTopContent\", \"panelBottomContent\", \"filter\", \"scroll\"]), {\n            \"inputValue\": innerInputValue.value\n          }), slots);\n        },\n        collapsedItems: slots.collapsedItems\n      })]);\n    };\n  }\n});\nexport { _Select as default };","map":{"version":3,"names":["_Select","defineComponent","name","props","_objectSpread","valueDisplayOptions","type","Object","setup","props2","_ref","slots","classPrefix","usePrefixClass","disabled","useFormDisabled","renderTNodeJSX","useTNodeJSX","COMPONENT_NAME","_useConfig","useConfig","globalConfig","t","_toRefs","toRefs","popupVisible","inputValue","modelValue","value","_useDefaultValue","useDefaultValue","defaultInputValue","onInputChange","_useDefaultValue2","_slicedToArray","innerInputValue","setInputValue","_useVModel","useVModel","defaultValue","onChange","_useVModel2","orgValue","setOrgValue","selectPanelRef","ref","selectInputRef","keys","computed","_props2$keys","_props2$keys2","_props2$keys3","label","_useSelectOptions","useSelectOptions","optionsMap","optionsList","optionsCache","displayOptions","innerValue","multiple","valueType","map","option","setInnerValue","newVal","context","_keys$value","value2","getOption","val","get","_defineProperty","get_1","selectedOptions","getSelectedOptions","_useDefaultValue3","visible","_props2$onPopupVisibl","onPopupVisibleChange","call","_useDefaultValue4","innerPopupVisible","setInnerPopupVisible","placeholderText","_ref3","getSingleContent","placeholder","displayText","getMultipleContent","valueDisplayParams","isArray_1","_optionsMap$value$get","params","onClose","index","removeTag","minCollapsedNum","_val$slice","displayValue","slice","isFilterable","Boolean","filterable","isFunction_1","filter","e","_props2$onRemove","stopPropagation","selectValue","cloneDeep_1","splice","trigger","onRemove","data","handleCreate","_props2$onCreate","onCreate","popupContentRef","_selectInputRef$value","popupRef","getOverlay","optionalList","item","checkAll","arguments","length","undefined","includes","_useKeyboardControl","useKeyboardControl","max","hoverIndex","virtualFilteredOptions","handleKeyDown","filteredOptions","onCheckAllChange","checked","intersectionLen","values","n","intersection_1","isCheckAll","indeterminate","SelectProvider","reserveKeyword","handleValueChange","handlerInputChange","handlePopupVisibleChange","size","provide","selectInjectKey","checkValueInvalid","handleSearch","debounce_1","_ref4","_props2$onSearch","onSearch","concat","nextTick","_selectPanelRef$value","_selectPanelRef$value2","visibleData","handlerPopupVisibleChange","addCache","newCache","_iterator","_createForOfIteratorHelper","_step","s","done","push","err","f","Array","from","Set","_toConsumableArray","_option","watch","immediate","updateScrollTop","content","_selectPanelRef$value3","firstSelectedNode","innerRef","querySelector","_getComputedStyle","getComputedStyle","paddingBottom","_getComputedStyle2","marginBottom","elementBottomHeight","parseInt","updateValue","offsetTop","clientHeight","scrollTop","_ref5","popupProps","overlayClassName","restPopupProps","_objectWithoutProperties","_excluded","createVNode","SelectInput","mergeProps","autoWidth","readonly","borderless","clearable","loading","status","tips","autofocus","suffix","collapsedItems","inputProps","onkeydown","tagInputProps","onTagChange","ctx","tagProps","prefixIcon","suffixIcon","showArrow","FakeArrow","valueDisplay","onClear","_ref6","_props2$onClear","onEnter","inputValue2","_ref7","_props2$onEnter","onBlur","_ref8","_props2$onBlur","onFocus","_ref9","_props2$onFocus","selectInputProps","panel","SelectPanel","pick_1"],"sources":["../../src/select/select.tsx"],"sourcesContent":["import { defineComponent, provide, computed, toRefs, watch, ref, nextTick, PropType } from 'vue';\nimport picker from 'lodash/pick';\nimport isArray from 'lodash/isArray';\nimport isFunction from 'lodash/isFunction';\nimport debounce from 'lodash/debounce';\nimport cloneDeep from 'lodash/cloneDeep';\nimport get from 'lodash/get';\nimport intersection from 'lodash/intersection';\nimport FakeArrow from '../common-components/fake-arrow';\nimport SelectInput from '../select-input';\nimport SelectPanel from './select-panel';\nimport props from './props';\n// hooks\nimport { useFormDisabled } from '../form/hooks';\nimport useDefaultValue from '../hooks/useDefaultValue';\nimport useVModel from '../hooks/useVModel';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { useConfig, usePrefixClass } from '../hooks/useConfig';\nimport { selectInjectKey, getSingleContent, getMultipleContent } from './helper';\nimport { useSelectOptions } from './hooks/useSelectOptions';\nimport useKeyboardControl from './hooks/useKeyboardControl';\nimport type { PopupVisibleChangeContext } from '../popup';\nimport type { SelectInputValueChangeContext } from '../select-input';\nimport type { TdSelectProps, SelectValue } from './type';\nimport { SelectInputValueDisplayOptions } from '../select-input/useSingle';\n\nexport default defineComponent({\n  name: 'TSelect',\n  props: {\n    ...props,\n    /**\n     * 非公开 API，请勿使用（后续即将删除）\n     */\n    valueDisplayOptions: {\n      type: Object as PropType<SelectInputValueDisplayOptions>,\n    },\n  },\n  setup(props: TdSelectProps & { valueDisplayOptions: SelectInputValueDisplayOptions }, { slots }) {\n    const classPrefix = usePrefixClass();\n    const disabled = useFormDisabled();\n    const renderTNodeJSX = useTNodeJSX();\n    const COMPONENT_NAME = usePrefixClass('select');\n    const { globalConfig, t } = useConfig('select');\n    const { popupVisible, inputValue, modelValue, value } = toRefs(props);\n    const [innerInputValue, setInputValue] = useDefaultValue(\n      inputValue,\n      props.defaultInputValue,\n      props.onInputChange,\n      'inputValue',\n    );\n    const [orgValue, setOrgValue] = useVModel(value, modelValue, props.defaultValue, props.onChange);\n    const selectPanelRef = ref(null);\n    const selectInputRef = ref(null);\n    const keys = computed(() => ({\n      label: props.keys?.label || 'label',\n      value: props.keys?.value || 'value',\n      disabled: props.keys?.disabled || 'disabled',\n    }));\n    const { optionsMap, optionsList, optionsCache, displayOptions } = useSelectOptions(props, keys, innerInputValue);\n\n    // 内部数据,格式化过的\n    const innerValue = computed(() => {\n      if (orgValue.value === undefined) {\n        return props.multiple ? [] : undefined;\n      }\n      if (props.valueType === 'object') {\n        return !props.multiple\n          ? orgValue.value[keys.value.value]\n          : (orgValue.value as SelectValue[]).map((option) => option[keys.value.value]);\n      }\n      return orgValue.value;\n    });\n\n    const setInnerValue: TdSelectProps['onChange'] = (newVal: SelectValue | SelectValue[], context) => {\n      if (props.valueType === 'object') {\n        const { value, label } = keys.value;\n        const getOption = (val: SelectValue) => {\n          if (val === undefined) {\n            return undefined;\n          }\n          const option = optionsMap.value.get(val);\n          return {\n            [value]: get(option, value),\n            [label]: get(option, label),\n          };\n        };\n        newVal = props.multiple ? (newVal as SelectValue[]).map((val) => getOption(val)) : getOption(newVal);\n      }\n      if (newVal === orgValue.value) return;\n      setOrgValue(newVal, {\n        selectedOptions: getSelectedOptions(newVal),\n        ...context,\n      });\n    };\n\n    const [innerPopupVisible, setInnerPopupVisible] = useDefaultValue(\n      popupVisible,\n      false,\n      (visible: boolean, context: PopupVisibleChangeContext) => {\n        props.onPopupVisibleChange?.(visible, context);\n      },\n      'popupVisible',\n    );\n\n    const placeholderText = computed(\n      () =>\n        ((!props.multiple && innerPopupVisible.value && getSingleContent(innerValue.value, optionsMap)) ||\n          props.placeholder) ??\n        t(globalConfig.value.placeholder),\n    );\n\n    // selectInput 展示值\n    const displayText = computed(() =>\n      props.multiple\n        ? getMultipleContent(innerValue.value as SelectValue[], optionsMap)\n        : getSingleContent(innerValue.value, optionsMap),\n    );\n\n    // valueDisplayParams参数\n    const valueDisplayParams = computed(() => {\n      const val =\n        props.multiple && isArray(innerValue.value)\n          ? (innerValue.value as SelectValue[]).map((value) => ({\n              value,\n              label: optionsMap.value.get(value)?.label,\n            }))\n          : innerValue.value;\n\n      const params = {\n        value: val,\n        onClose: props.multiple ? (index: number) => removeTag(index) : () => {},\n      };\n\n      if (props.minCollapsedNum && props.multiple) {\n        return {\n          ...params,\n          displayValue: val?.slice?.(0, props.minCollapsedNum),\n        };\n      }\n      return params;\n    });\n\n    const isFilterable = computed(() => {\n      return Boolean(props.filterable || globalConfig.value.filterable || isFunction(props.filter));\n    });\n\n    // 移除tag\n    const removeTag = (index: number, e?: MouseEvent) => {\n      e && e.stopPropagation();\n      const selectValue = cloneDeep(innerValue.value) as SelectValue[];\n      const value = selectValue[index];\n      selectValue.splice(index, 1);\n      setInnerValue(selectValue, { selectedOptions: getSelectedOptions(selectValue), trigger: 'tag-remove', e });\n      props.onRemove?.({\n        value: value as string | number,\n        data: optionsMap.value.get(value),\n        e,\n      });\n    };\n\n    const handleCreate = () => {\n      if (!innerInputValue.value) return;\n      props.onCreate?.(innerInputValue.value);\n      setInputValue('');\n    };\n\n    const popupContentRef = computed(() => selectInputRef.value?.popupRef.getOverlay() as HTMLElement);\n\n    /**\n     * 可选选项的列表\n     * 排除已禁用和全选的选项\n     */\n    const optionalList = computed(() =>\n      optionsList.value.filter((item) => {\n        return !item.disabled && !item['check-all'] && !item.checkAll;\n      }),\n    );\n\n    const getSelectedOptions = (selectValue: SelectValue[] | SelectValue = innerValue.value) => {\n      return optionsList.value.filter((option) => {\n        if (option.checkAll) return;\n        if (isArray(selectValue)) return selectValue.includes(option.value);\n        return selectValue === option.value;\n      });\n    };\n\n    const { hoverIndex, virtualFilteredOptions, handleKeyDown, filteredOptions } = useKeyboardControl({\n      displayOptions,\n      optionsList,\n      innerPopupVisible,\n      setInnerPopupVisible,\n      selectPanelRef,\n      isFilterable,\n      getSelectedOptions,\n      setInnerValue,\n      innerValue,\n      popupContentRef,\n      multiple: props.multiple,\n      max: props.max,\n    });\n\n    const onCheckAllChange = (checked: boolean) => {\n      if (!props.multiple) return;\n      const value = checked ? optionalList.value.map((option) => option.value) : [];\n      setInnerValue(value, { selectedOptions: getSelectedOptions(value), trigger: checked ? 'check' : 'clear' });\n    };\n\n    // 已选的长度\n    const intersectionLen = computed<number>(() => {\n      const values = optionalList.value.map((item) => item.value);\n      const n = intersection(innerValue.value, values);\n      return n.length;\n    });\n\n    // 全选\n    const isCheckAll = computed<boolean>(() => {\n      return intersectionLen.value === optionalList.value.length;\n    });\n\n    // 半选\n    const indeterminate = computed<boolean>(() => !isCheckAll.value && intersectionLen.value !== 0);\n\n    const SelectProvider = computed(() => ({\n      max: props.max,\n      multiple: props.multiple,\n      hoverIndex: hoverIndex.value,\n      selectValue: innerValue.value,\n      reserveKeyword: props.reserveKeyword,\n      handleValueChange: setInnerValue,\n      handlerInputChange: setInputValue,\n      handlePopupVisibleChange: setInnerPopupVisible,\n      handleCreate,\n      size: props.size,\n      popupContentRef,\n      indeterminate: indeterminate.value,\n      isCheckAll: isCheckAll.value,\n      onCheckAllChange,\n      getSelectedOptions,\n      displayOptions: displayOptions.value,\n    }));\n\n    provide(selectInjectKey, SelectProvider);\n\n    const checkValueInvalid = () => {\n      // 参数类型检测与修复\n      if (!props.multiple && isArray(orgValue.value)) {\n        setOrgValue(undefined, { selectedOptions: [], trigger: 'default' });\n      }\n      if (props.multiple && !isArray(orgValue.value)) {\n        setOrgValue([], { selectedOptions: [], trigger: 'default' });\n      }\n    };\n\n    const handleSearch = debounce((value: string, { e }: { e: KeyboardEvent }) => {\n      props.onSearch?.(`${value}`, { e });\n    }, 300);\n\n    const handlerInputChange = (value: string, context: SelectInputValueChangeContext) => {\n      if (value) {\n        setInnerPopupVisible(true, { e: context.e as KeyboardEvent });\n      }\n      setInputValue(value);\n      handleSearch(`${value}`, { e: context.e as KeyboardEvent });\n      nextTick(() => {\n        virtualFilteredOptions.value = selectPanelRef.value?.visibleData;\n        filteredOptions.value = selectPanelRef.value?.displayOptions;\n      });\n    };\n\n    const handlerPopupVisibleChange = (visible: boolean, context: PopupVisibleChangeContext) => {\n      setInnerPopupVisible(visible, context);\n      // 在通过点击选择器打开弹窗时 清空此前的输入内容 避免在关闭时就清空引起的闪烁问题\n      if (visible && context.trigger === 'trigger-element-click') setInputValue('');\n    };\n\n    const addCache = (val: SelectValue) => {\n      if (props.multiple) {\n        const newCache = [];\n        for (const item of (val as SelectValue[]) || []) {\n          const option = optionsMap.value.get(item);\n          if (option) {\n            newCache.push(option);\n          }\n        }\n        optionsCache.value = Array.from(new Set([...newCache, ...optionsCache.value]));\n      } else {\n        const option = optionsMap.value.get(val);\n        if (option) {\n          optionsCache.value = Array.from(new Set([option, ...optionsCache.value]));\n        }\n      }\n    };\n\n    watch(\n      orgValue,\n      (val) => {\n        checkValueInvalid();\n        nextTick(() => {\n          addCache(val);\n        });\n      },\n      {\n        immediate: true,\n      },\n    );\n    watch(\n      () => props.multiple,\n      () => {\n        checkValueInvalid();\n      },\n    );\n\n    // 列表展开时定位置选中项\n    const updateScrollTop = (content: HTMLDivElement) => {\n      if (!selectPanelRef.value) {\n        return;\n      }\n      const firstSelectedNode: HTMLDivElement = (selectPanelRef.value?.innerRef as HTMLDivElement)?.querySelector(\n        `.${classPrefix.value}-is-selected`,\n      );\n      // 此处需要等待渲染后进行计算\n      nextTick(() => {\n        if (firstSelectedNode && content) {\n          const { paddingBottom } = getComputedStyle(firstSelectedNode);\n          const { marginBottom } = getComputedStyle(content);\n          const elementBottomHeight = parseInt(paddingBottom, 10) + parseInt(marginBottom, 10);\n          // 小于0时不需要特殊处理，会被设为0\n          const updateValue =\n            firstSelectedNode.offsetTop -\n            content.offsetTop -\n            (content.clientHeight - firstSelectedNode.clientHeight) +\n            elementBottomHeight;\n          // eslint-disable-next-line no-param-reassign\n          content.scrollTop = updateValue;\n        }\n      });\n    };\n    provide('updateScrollTop', updateScrollTop);\n    return () => {\n      const { overlayClassName, ...restPopupProps } = (props.popupProps || {}) as TdSelectProps['popupProps'];\n      return (\n        <div class={`${COMPONENT_NAME.value}__wrap`}>\n          <SelectInput\n            {...{\n              autoWidth: props.autoWidth,\n              readonly: props.readonly,\n              borderless: props.borderless,\n              multiple: props.multiple,\n              clearable: props.clearable,\n              loading: props.loading,\n              status: props.status,\n              tips: props.tips,\n              minCollapsedNum: props.minCollapsedNum,\n              autofocus: props.autofocus,\n              suffix: props.suffix,\n              valueDisplayOptions: props.valueDisplayOptions,\n            }}\n            ref={selectInputRef}\n            class={COMPONENT_NAME.value}\n            value={displayText.value}\n            disabled={disabled.value}\n            popupVisible={innerPopupVisible.value}\n            inputValue={innerPopupVisible.value ? innerInputValue.value : ''}\n            placeholder={`${placeholderText.value}`}\n            allowInput={isFilterable.value}\n            collapsed-items={props.collapsedItems}\n            inputProps={{\n              size: props.size,\n              autofocus: props.autofocus,\n              ...(props.inputProps as TdSelectProps['inputProps']),\n              onkeydown: handleKeyDown,\n            }}\n            tagInputProps={{\n              size: props.size,\n              ...(props.tagInputProps as TdSelectProps['tagInputProps']),\n            }}\n            onTagChange={(val, ctx) => {\n              removeTag(ctx.index);\n            }}\n            tagProps={{ ...(props.tagProps as TdSelectProps['tagProps']) }}\n            popupProps={{\n              overlayClassName: [`${COMPONENT_NAME.value}__dropdown`, overlayClassName],\n              ...restPopupProps,\n            }}\n            label={props.label}\n            prefixIcon={props.prefixIcon}\n            suffix={props.suffix}\n            suffixIcon={() => {\n              if (props.suffixIcon || slots.suffixIcon) {\n                return renderTNodeJSX('suffixIcon');\n              }\n\n              return (\n                props.showArrow && (\n                  <FakeArrow\n                    overlayClassName={`${COMPONENT_NAME.value}__right-icon`}\n                    isActive={innerPopupVisible.value}\n                  />\n                )\n              );\n            }}\n            valueDisplay={() =>\n              renderTNodeJSX('valueDisplay', {\n                params: valueDisplayParams.value,\n              })\n            }\n            onPopupVisibleChange={handlerPopupVisibleChange}\n            onInputChange={handlerInputChange}\n            onClear={({ e }) => {\n              setInnerValue(props.multiple ? [] : undefined, {\n                option: null,\n                selectedOptions: getSelectedOptions(props.multiple ? [] : undefined),\n                trigger: 'clear',\n                e,\n              });\n              props.onClear?.({ e });\n            }}\n            onEnter={(inputValue, { e }) => {\n              props.onEnter?.({ inputValue: `${innerInputValue.value}`, e, value: innerValue.value });\n              handleCreate();\n            }}\n            onBlur={(inputValue, { e }) => {\n              props.onBlur?.({ e, value: innerValue.value });\n            }}\n            onFocus={(inputValue, { e }) => {\n              props.onFocus?.({ e, value: innerValue.value });\n            }}\n            {...(props.selectInputProps as TdSelectProps['selectInputProps'])}\n            v-slots={{\n              label: slots.label,\n              prefixIcon: slots.prefixIcon,\n              suffix: slots.suffix,\n              panel: () => (\n                <SelectPanel\n                  ref={selectPanelRef}\n                  {...picker(props, [\n                    'size',\n                    'multiple',\n                    'empty',\n                    'loading',\n                    'loadingText',\n                    'filterable',\n                    'creatable',\n                    'panelTopContent',\n                    'panelBottomContent',\n                    'filter',\n                    'scroll',\n                  ])}\n                  inputValue={innerInputValue.value}\n                  v-slots={slots}\n                />\n              ),\n              collapsedItems: slots.collapsedItems,\n            }}\n          />\n        </div>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}