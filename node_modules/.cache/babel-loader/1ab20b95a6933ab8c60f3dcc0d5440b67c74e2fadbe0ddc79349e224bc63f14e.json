{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-7deaa3b9.mjs';\nimport { defineComponent, computed, createVNode, mergeProps } from 'vue';\nimport { o as omit_1 } from '../_chunks/dep-8fdb2da0.mjs';\nimport Panel from './components/Panel.mjs';\nimport { SelectInput } from '../select-input/index.mjs';\nimport FakeArrow from '../common-components/fake-arrow.mjs';\nimport props from './props.mjs';\nimport { useCascaderContext } from './hooks.mjs';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig.mjs';\nimport { useTNodeJSX } from '../hooks/tnode.mjs';\nimport { handleRemoveTagEffect, closeIconClickEffect } from './core/effect.mjs';\nimport { getMultipleContent, getSingleContent, getPanels } from './core/helper.mjs';\nimport { getFakeArrowIconClass } from './core/className.mjs';\nimport { useFormDisabled } from '../form/hooks.mjs';\nimport { useConfig } from '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-8dbc9855.mjs';\nimport '../_chunks/dep-cb814df4.mjs';\nimport '../_chunks/dep-67e59a11.mjs';\nimport '../_chunks/dep-cd533155.mjs';\nimport '../_chunks/dep-ab439391.mjs';\nimport '../_chunks/dep-60d62610.mjs';\nimport '../_chunks/dep-10024af3.mjs';\nimport '../_chunks/dep-2adf18a2.mjs';\nimport '../_chunks/dep-31dc0415.mjs';\nimport '../_chunks/dep-e5142249.mjs';\nimport '../_chunks/dep-c4f80cb4.mjs';\nimport '../_chunks/dep-996b4900.mjs';\nimport '../_chunks/dep-66473aa9.mjs';\nimport '../_chunks/dep-715774e0.mjs';\nimport '../_chunks/dep-5a5a1764.mjs';\nimport '../_chunks/dep-3108c312.mjs';\nimport '../_chunks/dep-93498383.mjs';\nimport '../_chunks/dep-36582a92.mjs';\nimport '../_chunks/dep-a2db6df1.mjs';\nimport '../_chunks/dep-0f89a1dd.mjs';\nimport '../_chunks/dep-d4da440a.mjs';\nimport '../_chunks/dep-013382c3.mjs';\nimport '../_chunks/dep-ca764006.mjs';\nimport '../_chunks/dep-2ee9d497.mjs';\nimport '../_chunks/dep-c545db54.mjs';\nimport '../_chunks/dep-3f15cb30.mjs';\nimport '../_chunks/dep-fd2b6c64.mjs';\nimport '../_chunks/dep-8dae3bca.mjs';\nimport '../_chunks/dep-d7c36095.mjs';\nimport '../_chunks/dep-ec2f76cc.mjs';\nimport '../_chunks/dep-8a3fd140.mjs';\nimport '../_chunks/dep-4481f632.mjs';\nimport '../_chunks/dep-396d852b.mjs';\nimport '../_chunks/dep-6861d388.mjs';\nimport './components/Item.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../checkbox/index.mjs';\nimport '../checkbox/checkbox.mjs';\nimport '../_chunks/dep-b089fa1f.mjs';\nimport '../_chunks/dep-8e411f1c.mjs';\nimport '../checkbox/props.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../_chunks/dep-bd7cd061.mjs';\nimport '../_chunks/dep-96484611.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../_chunks/dep-b3734774.mjs';\nimport '../_chunks/dep-a4a3ac25.mjs';\nimport '../_chunks/dep-5db0da5c.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-bf19d9ba.mjs';\nimport '../_chunks/dep-6963a882.mjs';\nimport '../utils/set-style.mjs';\nimport '../checkbox/constants.mjs';\nimport '../checkbox/hooks/useCheckboxLazyLoad.mjs';\nimport '../_common/js/utils/observe.mjs';\nimport '../checkbox/hooks/useKeyboardEvent.mjs';\nimport '../_common/js/common.mjs';\nimport '../hooks/useDisabled.mjs';\nimport '../_chunks/dep-03dfef8f.mjs';\nimport '../checkbox/group.mjs';\nimport '../_chunks/dep-b15588b0.mjs';\nimport '../_chunks/dep-c628112b.mjs';\nimport '../_chunks/dep-1aab510a.mjs';\nimport '../_chunks/dep-931fe368.mjs';\nimport '../_chunks/dep-ac561548.mjs';\nimport '../checkbox/checkbox-group-props.mjs';\nimport '../hooks/slot.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../checkbox/type.mjs';\nimport '../_chunks/dep-37e3e644.mjs';\nimport '../_chunks/dep-30b3f256.mjs';\nimport '../config-provider/type.mjs';\nimport '../_chunks/dep-f8909853.mjs';\nimport '../_chunks/dep-d00e2e04.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-60ee423b.mjs';\nimport '../loading/index.mjs';\nimport '../_chunks/dep-503b7515.mjs';\nimport '../_chunks/dep-e32ac680.mjs';\nimport '../_chunks/dep-230c1b47.mjs';\nimport '../_chunks/dep-cedc2818.mjs';\nimport '../_chunks/dep-41db3bc9.mjs';\nimport '../_chunks/dep-da57e0cf.mjs';\nimport '../loading/plugin.mjs';\nimport '../loading/loading.mjs';\nimport '../loading/icon/gradient.mjs';\nimport '../_common/js/loading/circle-adapter.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../_common/js/utils/helper.mjs';\nimport '../_chunks/dep-807e1747.mjs';\nimport '../_chunks/dep-413fbf03.mjs';\nimport '../_chunks/dep-0e4de31a.mjs';\nimport '../utils/dom.mjs';\nimport '../utils/easing.mjs';\nimport '../loading/props.mjs';\nimport '../hooks/useTeleport.mjs';\nimport '../loading/type.mjs';\nimport '../hooks/useGlobalIcon.mjs';\nimport '../select-input/select-input.mjs';\nimport '../popup/index.mjs';\nimport '../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../_chunks/dep-665d45b4.mjs';\nimport '../_chunks/dep-27be073b.mjs';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../popup/container.mjs';\nimport '../popup/props.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../popup/type.mjs';\nimport '../select-input/props.mjs';\nimport '../select-input/useSingle.mjs';\nimport '../_chunks/dep-76351c51.mjs';\nimport '../_chunks/dep-deb34e0f.mjs';\nimport '../input/index.mjs';\nimport '../input/input.mjs';\nimport '../input/props.mjs';\nimport '../input/useInput.mjs';\nimport '../form/const.mjs';\nimport '../input/useLengthLimit.mjs';\nimport '../_common/js/log/index.mjs';\nimport '../input/useInputEventHandler.mjs';\nimport '../input/useInputWidth.mjs';\nimport '../input/input-group.mjs';\nimport '../input/input-group-props.mjs';\nimport '../input/type.mjs';\nimport '../select-input/useMultiple.mjs';\nimport '../tag-input/index.mjs';\nimport '../tag-input/tag-input.mjs';\nimport '../tag-input/props.mjs';\nimport '../tag-input/hooks/useTagScroll.mjs';\nimport '../tag-input/useTagList.mjs';\nimport '../tag/index.mjs';\nimport '../tag/tag.mjs';\nimport '../tag/props.mjs';\nimport '../tag/check-tag.mjs';\nimport '../tag/check-tag-props.mjs';\nimport '../tag/check-tag-group.mjs';\nimport '../tag/check-tag-group-props.mjs';\nimport '../tag/type.mjs';\nimport '../tag-input/hooks/useHover.mjs';\nimport '../tag-input/hooks/useDragSorter.mjs';\nimport '../tag-input/type.mjs';\nimport '../select-input/useOverlayInnerStyle.mjs';\nimport '../select-input/type.mjs';\nimport '../_common/js/tree/tree-store.mjs';\nimport '../_chunks/dep-12bcaf4a.mjs';\nimport '../_chunks/dep-47d9c35e.mjs';\nimport '../_chunks/dep-bb900186.mjs';\nimport 'mitt';\nimport '../_common/js/tree/tree-node.mjs';\nimport '../_chunks/dep-f14cdac0.mjs';\nimport '../_chunks/dep-d0177ed3.mjs';\nimport '../_chunks/dep-cd711cee.mjs';\nimport '../_common/js/tree/tree-node-model.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar _Cascader = defineComponent({\n  name: \"TCascader\",\n  props: _objectSpread({}, props),\n  setup: function setup(props2, _ref) {\n    var slots = _ref.slots;\n    var disabled = useFormDisabled();\n    var COMPONENT_NAME = usePrefixClass(\"cascader\");\n    var classPrefix = usePrefixClass();\n    var _useCommonClassName = useCommonClassName(),\n      STATUS = _useCommonClassName.STATUS;\n    var overlayClassName = usePrefixClass(\"cascader__popup\");\n    var _useConfig = useConfig(\"cascader\"),\n      globalConfig = _useConfig.globalConfig;\n    var renderTNodeJSX = useTNodeJSX();\n    var _useCascaderContext = useCascaderContext(props2),\n      cascaderContext = _useCascaderContext.cascaderContext,\n      innerValue = _useCascaderContext.innerValue,\n      isFilterable = _useCascaderContext.isFilterable,\n      getCascaderItems = _useCascaderContext.getCascaderItems;\n    var displayValue = computed(function () {\n      return props2.multiple ? getMultipleContent(cascaderContext.value) : getSingleContent(cascaderContext.value);\n    });\n    var panels = computed(function () {\n      return getPanels(cascaderContext.value.treeNodes);\n    });\n    var inputPlaceholder = computed(function () {\n      var _props2$placeholder;\n      return cascaderContext.value.visible && !props2.multiple && getSingleContent(cascaderContext.value) || ((_props2$placeholder = props2.placeholder) !== null && _props2$placeholder !== void 0 ? _props2$placeholder : globalConfig.value.placeholder);\n    });\n    var renderSuffixIcon = function renderSuffixIcon() {\n      var _cascaderContext$valu = cascaderContext.value,\n        visible = _cascaderContext$valu.visible,\n        disabled2 = _cascaderContext$valu.disabled;\n      return createVNode(FakeArrow, {\n        \"overlayClassName\": getFakeArrowIconClass(classPrefix.value, STATUS.value, cascaderContext.value),\n        \"isActive\": visible,\n        \"disabled\": disabled2\n      }, null);\n    };\n    var valueDisplayParams = computed(function () {\n      var arrayValue = innerValue.value instanceof Array ? innerValue.value : [innerValue.value];\n      var displayValue2 = props2.multiple && props2.minCollapsedNum ? arrayValue.slice(0, props2.minCollapsedNum) : innerValue.value;\n      var options = getCascaderItems(arrayValue);\n      return {\n        value: innerValue.value,\n        selectedOptions: options,\n        onClose: function onClose(index) {\n          handleRemoveTagEffect(cascaderContext.value, index, props2.onRemove);\n        },\n        displayValue: displayValue2\n      };\n    });\n    var renderValueDisplay = function renderValueDisplay() {\n      return renderTNodeJSX(\"valueDisplay\", {\n        params: valueDisplayParams.value\n      });\n    };\n    var renderLabel = function renderLabel() {\n      var label = renderTNodeJSX(\"label\");\n      if (props2.multiple) return label;\n      if (!label) return null;\n      return createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-tag-input__prefix\")\n      }, [label]);\n    };\n    var cascaderClassNames = computed(function () {\n      return [COMPONENT_NAME.value, props2.multiple ? \"\".concat(COMPONENT_NAME.value, \"--multiple\") : \"\".concat(COMPONENT_NAME.value, \"--single\")];\n    });\n    return function () {\n      var _props2$popupProps;\n      var _cascaderContext$valu2 = cascaderContext.value,\n        setVisible = _cascaderContext$valu2.setVisible,\n        visible = _cascaderContext$valu2.visible,\n        inputVal = _cascaderContext$valu2.inputVal,\n        setInputVal = _cascaderContext$valu2.setInputVal;\n      return createVNode(SelectInput, mergeProps({\n        \"class\": cascaderClassNames.value,\n        \"value\": displayValue.value,\n        \"inputValue\": visible ? inputVal : \"\",\n        \"popupVisible\": visible,\n        \"keys\": props2.keys,\n        \"allowInput\": isFilterable.value,\n        \"min-collapsed-num\": props2.minCollapsedNum,\n        \"collapsed-items\": props2.collapsedItems,\n        \"readonly\": props2.readonly,\n        \"disabled\": props2.disabled,\n        \"clearable\": props2.clearable,\n        \"placeholder\": inputPlaceholder.value,\n        \"multiple\": props2.multiple,\n        \"loading\": props2.loading,\n        \"status\": props2.status,\n        \"tips\": props2.tips,\n        \"borderless\": props2.borderless,\n        \"label\": renderLabel,\n        \"valueDisplay\": renderValueDisplay,\n        \"suffixIcon\": function suffixIcon() {\n          return renderSuffixIcon();\n        },\n        \"popupProps\": _objectSpread(_objectSpread({}, props2.popupProps), {}, {\n          overlayInnerStyle: panels.value.length && !props2.loading ? {\n            width: \"auto\"\n          } : \"\",\n          overlayClassName: [overlayClassName.value, (_props2$popupProps = props2.popupProps) === null || _props2$popupProps === void 0 ? void 0 : _props2$popupProps.overlayClassName]\n        }),\n        \"inputProps\": _objectSpread({\n          size: props2.size\n        }, props2.inputProps),\n        \"tagInputProps\": _objectSpread({\n          size: props2.size\n        }, props2.tagInputProps),\n        \"tagProps\": _objectSpread({}, props2.tagProps),\n        \"onInputChange\": function onInputChange(value, ctx) {\n          var _props2$selectInputPr, _props2$selectInputPr2;\n          if (!isFilterable.value) return;\n          setInputVal(\"\".concat(value));\n          props2 === null || props2 === void 0 || (_props2$selectInputPr = props2.selectInputProps) === null || _props2$selectInputPr === void 0 || (_props2$selectInputPr2 = _props2$selectInputPr.onInputChange) === null || _props2$selectInputPr2 === void 0 || _props2$selectInputPr2.call(_props2$selectInputPr, value, ctx);\n        },\n        \"onTagChange\": function onTagChange(val, ctx) {\n          var _props2$selectInputPr3, _props2$selectInputPr4;\n          if (ctx.trigger === \"enter\") return;\n          handleRemoveTagEffect(cascaderContext.value, ctx.index, props2.onRemove);\n          props2 === null || props2 === void 0 || (_props2$selectInputPr3 = props2.selectInputProps) === null || _props2$selectInputPr3 === void 0 || (_props2$selectInputPr4 = _props2$selectInputPr3.onTagChange) === null || _props2$selectInputPr4 === void 0 || _props2$selectInputPr4.call(_props2$selectInputPr3, val, ctx);\n        },\n        \"onPopupVisibleChange\": function onPopupVisibleChange(val, context) {\n          var _props2$selectInputPr5, _props2$selectInputPr6;\n          if (disabled.value) return;\n          setVisible(val, context);\n          props2 === null || props2 === void 0 || (_props2$selectInputPr5 = props2.selectInputProps) === null || _props2$selectInputPr5 === void 0 || (_props2$selectInputPr6 = _props2$selectInputPr5.onPopupVisibleChange) === null || _props2$selectInputPr6 === void 0 || _props2$selectInputPr6.call(_props2$selectInputPr5, val, context);\n        },\n        \"onBlur\": function onBlur(val, context) {\n          var _props2$onBlur, _props2$selectInputPr7, _props2$selectInputPr8;\n          (_props2$onBlur = props2.onBlur) === null || _props2$onBlur === void 0 || _props2$onBlur.call(props2, {\n            value: cascaderContext.value.value,\n            inputValue: context.inputValue || \"\",\n            e: context.e\n          });\n          props2 === null || props2 === void 0 || (_props2$selectInputPr7 = props2.selectInputProps) === null || _props2$selectInputPr7 === void 0 || (_props2$selectInputPr8 = _props2$selectInputPr7.onBlur) === null || _props2$selectInputPr8 === void 0 || _props2$selectInputPr8.call(_props2$selectInputPr7, val, context);\n        },\n        \"onFocus\": function onFocus(val, context) {\n          var _props2$onFocus, _props2$selectInputPr9, _props2$selectInputPr10;\n          (_props2$onFocus = props2.onFocus) === null || _props2$onFocus === void 0 || _props2$onFocus.call(props2, {\n            value: cascaderContext.value.value,\n            e: context.e\n          });\n          props2 === null || props2 === void 0 || (_props2$selectInputPr9 = props2.selectInputProps) === null || _props2$selectInputPr9 === void 0 || (_props2$selectInputPr10 = _props2$selectInputPr9.onFocus) === null || _props2$selectInputPr10 === void 0 || _props2$selectInputPr10.call(_props2$selectInputPr9, val, context);\n        },\n        \"onClear\": function onClear(context) {\n          var _props2$selectInputPr11, _props2$selectInputPr12;\n          closeIconClickEffect(cascaderContext.value);\n          props2 === null || props2 === void 0 || (_props2$selectInputPr11 = props2.selectInputProps) === null || _props2$selectInputPr11 === void 0 || (_props2$selectInputPr12 = _props2$selectInputPr11.onClear) === null || _props2$selectInputPr12 === void 0 || _props2$selectInputPr12.call(_props2$selectInputPr11, context);\n        }\n      }, omit_1(props2.selectInputProps, [\"onTagChange\", \"onInputChange\", \"onPopupVisibleChange\", \"onBlur\", \"onFocus\", \"onClear\"])), {\n        label: slots.label,\n        suffix: props2.suffix,\n        prefixIcon: props2.prefixIcon,\n        panel: function panel() {\n          return createVNode(Panel, {\n            \"option\": props2.option,\n            \"empty\": props2.empty,\n            \"visible\": visible,\n            \"trigger\": props2.trigger,\n            \"loading\": props2.loading,\n            \"loadingText\": props2.loadingText,\n            \"cascaderContext\": cascaderContext.value\n          }, {\n            option: slots.option,\n            empty: slots.empty,\n            loadingText: slots.loadingText\n          });\n        },\n        collapsedItems: slots.collapsedItems\n      });\n    };\n  }\n});\nexport { _Cascader as default };","map":{"version":3,"names":["_Cascader","defineComponent","name","props","_objectSpread","setup","props2","_ref","slots","disabled","useFormDisabled","COMPONENT_NAME","usePrefixClass","classPrefix","_useCommonClassName","useCommonClassName","STATUS","overlayClassName","_useConfig","useConfig","globalConfig","renderTNodeJSX","useTNodeJSX","_useCascaderContext","useCascaderContext","cascaderContext","innerValue","isFilterable","getCascaderItems","displayValue","computed","multiple","getMultipleContent","value","getSingleContent","panels","getPanels","treeNodes","inputPlaceholder","_props2$placeholder","visible","placeholder","renderSuffixIcon","_cascaderContext$valu","disabled2","createVNode","FakeArrow","getFakeArrowIconClass","valueDisplayParams","arrayValue","Array","displayValue2","minCollapsedNum","slice","options","selectedOptions","onClose","index","handleRemoveTagEffect","onRemove","renderValueDisplay","params","renderLabel","label","concat","cascaderClassNames","_props2$popupProps","_cascaderContext$valu2","setVisible","inputVal","setInputVal","SelectInput","mergeProps","keys","collapsedItems","readonly","clearable","loading","status","tips","borderless","suffixIcon","popupProps","overlayInnerStyle","length","width","size","inputProps","tagInputProps","tagProps","onInputChange","ctx","_props2$selectInputPr","_props2$selectInputPr2","selectInputProps","call","onTagChange","val","_props2$selectInputPr3","_props2$selectInputPr4","trigger","onPopupVisibleChange","context","_props2$selectInputPr5","_props2$selectInputPr6","onBlur","_props2$onBlur","_props2$selectInputPr7","_props2$selectInputPr8","inputValue","e","onFocus","_props2$onFocus","_props2$selectInputPr9","_props2$selectInputPr10","onClear","_props2$selectInputPr11","_props2$selectInputPr12","closeIconClickEffect","omit_1","suffix","prefixIcon","panel","Panel","option","empty","loadingText"],"sources":["../../src/cascader/cascader.tsx"],"sourcesContent":["import { defineComponent, computed } from 'vue';\nimport omit from 'lodash/omit';\nimport Panel from './components/Panel';\nimport SelectInput from '../select-input';\nimport FakeArrow from '../common-components/fake-arrow';\nimport props from './props';\n\nimport { useCascaderContext } from './hooks';\nimport { CascaderValue, TdSelectInputProps, TdCascaderProps } from './interface';\nimport { useConfig, usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport { closeIconClickEffect, handleRemoveTagEffect } from './core/effect';\nimport { getPanels, getSingleContent, getMultipleContent } from './core/helper';\nimport { getFakeArrowIconClass } from './core/className';\nimport { useFormDisabled } from '../form/hooks';\n\nexport default defineComponent({\n  name: 'TCascader',\n\n  props: { ...props },\n\n  setup(props, { slots }) {\n    const disabled = useFormDisabled();\n    const COMPONENT_NAME = usePrefixClass('cascader');\n    const classPrefix = usePrefixClass();\n    const { STATUS } = useCommonClassName();\n    const overlayClassName = usePrefixClass('cascader__popup');\n    const { globalConfig } = useConfig('cascader');\n\n    const renderTNodeJSX = useTNodeJSX();\n\n    // 拿到全局状态的上下文\n    const { cascaderContext, innerValue, isFilterable, getCascaderItems } = useCascaderContext(props);\n\n    const displayValue = computed(() =>\n      props.multiple ? getMultipleContent(cascaderContext.value) : getSingleContent(cascaderContext.value),\n    );\n\n    const panels = computed(() => getPanels(cascaderContext.value.treeNodes));\n\n    const inputPlaceholder = computed(\n      () =>\n        (cascaderContext.value.visible && !props.multiple && getSingleContent(cascaderContext.value)) ||\n        (props.placeholder ?? globalConfig.value.placeholder),\n    );\n\n    const renderSuffixIcon = () => {\n      const { visible, disabled } = cascaderContext.value;\n      return (\n        <FakeArrow\n          overlayClassName={getFakeArrowIconClass(classPrefix.value, STATUS.value, cascaderContext.value)}\n          isActive={visible}\n          disabled={disabled}\n        />\n      );\n    };\n\n    const valueDisplayParams = computed(() => {\n      const arrayValue = innerValue.value instanceof Array ? innerValue.value : [innerValue.value];\n      const displayValue =\n        props.multiple && props.minCollapsedNum ? arrayValue.slice(0, props.minCollapsedNum) : innerValue.value;\n      const options = getCascaderItems(arrayValue);\n      return {\n        value: innerValue.value,\n        selectedOptions: options,\n        onClose: (index: number) => {\n          handleRemoveTagEffect(cascaderContext.value, index, props.onRemove);\n        },\n        displayValue,\n      };\n    });\n\n    const renderValueDisplay = () => {\n      return renderTNodeJSX('valueDisplay', {\n        params: valueDisplayParams.value,\n      });\n    };\n\n    const renderLabel = () => {\n      const label = renderTNodeJSX('label');\n      if (props.multiple) return label;\n      if (!label) return null;\n      return <div class={`${classPrefix.value}-tag-input__prefix`}>{label}</div>;\n    };\n\n    const cascaderClassNames = computed(() => [\n      COMPONENT_NAME.value,\n      props.multiple ? `${COMPONENT_NAME.value}--multiple` : `${COMPONENT_NAME.value}--single`,\n    ]);\n\n    return () => {\n      const { setVisible, visible, inputVal, setInputVal } = cascaderContext.value;\n\n      return (\n        <SelectInput\n          class={cascaderClassNames.value}\n          value={displayValue.value}\n          inputValue={visible ? inputVal : ''}\n          popupVisible={visible}\n          keys={props.keys}\n          allowInput={isFilterable.value}\n          min-collapsed-num={props.minCollapsedNum}\n          collapsed-items={props.collapsedItems}\n          readonly={props.readonly}\n          disabled={props.disabled}\n          clearable={props.clearable}\n          placeholder={inputPlaceholder.value}\n          multiple={props.multiple}\n          loading={props.loading}\n          status={props.status}\n          tips={props.tips}\n          borderless={props.borderless}\n          label={renderLabel}\n          valueDisplay={renderValueDisplay}\n          suffixIcon={() => renderSuffixIcon()}\n          popupProps={{\n            ...(props.popupProps as TdCascaderProps['popupProps']),\n            overlayInnerStyle: panels.value.length && !props.loading ? { width: 'auto' } : '',\n            overlayClassName: [\n              overlayClassName.value,\n              (props.popupProps as TdCascaderProps['popupProps'])?.overlayClassName,\n            ],\n          }}\n          inputProps={{ size: props.size, ...(props.inputProps as TdCascaderProps['inputProps']) }}\n          tagInputProps={{\n            size: props.size,\n            ...(props.tagInputProps as TdCascaderProps['tagInputProps']),\n          }}\n          tagProps={{ ...(props.tagProps as TdCascaderProps['tagProps']) }}\n          onInputChange={(value, ctx) => {\n            if (!isFilterable.value) return;\n            setInputVal(`${value}`);\n            (props?.selectInputProps as TdSelectInputProps)?.onInputChange?.(value, ctx);\n          }}\n          onTagChange={(val: CascaderValue, ctx) => {\n            // 按 enter 键不处理\n            if (ctx.trigger === 'enter') return;\n            handleRemoveTagEffect(cascaderContext.value, ctx.index, props.onRemove);\n            // @ts-ignore TODO: fix bug\n            (props?.selectInputProps as TdSelectInputProps)?.onTagChange?.(val, ctx);\n          }}\n          onPopupVisibleChange={(val: boolean, context) => {\n            if (disabled.value) return;\n            setVisible(val, context);\n            (props?.selectInputProps as TdSelectInputProps)?.onPopupVisibleChange?.(val, context);\n          }}\n          onBlur={(val, context) => {\n            props.onBlur?.({\n              value: cascaderContext.value.value,\n              inputValue: context.inputValue || '',\n              e: context.e as FocusEvent,\n            });\n            (props?.selectInputProps as TdSelectInputProps)?.onBlur?.(val, context);\n          }}\n          onFocus={(val, context) => {\n            props.onFocus?.({\n              value: cascaderContext.value.value,\n              e: context.e,\n            });\n            (props?.selectInputProps as TdSelectInputProps)?.onFocus?.(val, context);\n          }}\n          onClear={(context: { e: MouseEvent }) => {\n            closeIconClickEffect(cascaderContext.value);\n            (props?.selectInputProps as TdSelectInputProps)?.onClear?.(context);\n          }}\n          v-slots={{\n            label: slots.label,\n            suffix: props.suffix,\n            prefixIcon: props.prefixIcon,\n            panel: () => (\n              <Panel\n                option={props.option}\n                empty={props.empty}\n                visible={visible}\n                trigger={props.trigger}\n                loading={props.loading}\n                loadingText={props.loadingText}\n                cascaderContext={cascaderContext.value}\n                v-slots={{ option: slots.option, empty: slots.empty, loadingText: slots.loadingText }}\n              />\n            ),\n            collapsedItems: slots.collapsedItems,\n          }}\n          {...omit(props.selectInputProps as TdSelectInputProps, [\n            'onTagChange',\n            'onInputChange',\n            'onPopupVisibleChange',\n            'onBlur',\n            'onFocus',\n            'onClear',\n          ])}\n        />\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}