{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * tdesign v1.9.3\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { isVNode, defineComponent, ref, computed, createVNode, mergeProps } from 'vue';\nimport { ChevronRightIcon } from 'tdesign-icons-vue-next';\nimport { getFullPathLabel } from '../core/helper.mjs';\nimport { getCascaderItemClass, getCascaderItemIconClass } from '../core/className.mjs';\nimport { Checkbox } from '../../checkbox/index.mjs';\nimport { Loading } from '../../loading/index.mjs';\nimport { usePrefixClass, useCommonClassName } from '../../hooks/useConfig.mjs';\nimport { useGlobalIcon } from '../../hooks/useGlobalIcon.mjs';\nimport useRipple from '../../hooks/useRipple.mjs';\nimport '../../_chunks/dep-ae66bf73.mjs';\nimport '../../_chunks/dep-437d10c6.mjs';\nimport '../../_chunks/dep-6ad32365.mjs';\nimport '../../_chunks/dep-d33c5d88.mjs';\nimport '../../_chunks/dep-75628739.mjs';\nimport '../../_chunks/dep-62ad5a36.mjs';\nimport '../../_chunks/dep-10c900d8.mjs';\nimport '../../_chunks/dep-bc75f95c.mjs';\nimport '../../_chunks/dep-6ea85de8.mjs';\nimport '../../_chunks/dep-0ced8e2e.mjs';\nimport '../../_chunks/dep-fb9941c5.mjs';\nimport '../../_chunks/dep-6e7655db.mjs';\nimport '../../_chunks/dep-f76ec896.mjs';\nimport '../../_chunks/dep-4382b808.mjs';\nimport '../../_chunks/dep-1494b54a.mjs';\nimport '../../_chunks/dep-c70e40ae.mjs';\nimport '../../_chunks/dep-92ce9c6c.mjs';\nimport '../../_chunks/dep-e3204123.mjs';\nimport '../../_chunks/dep-1c5d24dd.mjs';\nimport '../../_chunks/dep-4d2c39b6.mjs';\nimport '../../_chunks/dep-0e21c401.mjs';\nimport '../../_chunks/dep-a5dfe884.mjs';\nimport '../../checkbox/checkbox.mjs';\nimport '../../_chunks/dep-a71c8f5b.mjs';\nimport '../../checkbox/props.mjs';\nimport '../../hooks/useVModel.mjs';\nimport '../../_chunks/dep-1c9d9f8d.mjs';\nimport '../../_chunks/dep-28a28c00.mjs';\nimport '../../_chunks/dep-003c9b00.mjs';\nimport '../../_chunks/dep-e98ea432.mjs';\nimport '../../hooks/tnode.mjs';\nimport '../../_chunks/dep-190cc0b3.mjs';\nimport '../../_chunks/dep-29a308fc.mjs';\nimport '../../_chunks/dep-18af437d.mjs';\nimport '../../utils/render-tnode.mjs';\nimport '../../_chunks/dep-5d7be5c6.mjs';\nimport '../../checkbox/constants.mjs';\nimport '../../checkbox/hooks/useCheckboxLazyLoad.mjs';\nimport '../../_common/js/utils/observe.mjs';\nimport '../../checkbox/hooks/useKeyboardEvent.mjs';\nimport '../../_common/js/common.mjs';\nimport '../../hooks/useDisabled.mjs';\nimport '../../_chunks/dep-36f0e4f4.mjs';\nimport '../../hooks/useKeepAnimation.mjs';\nimport '../../_chunks/dep-0223e29d.mjs';\nimport '../../_chunks/dep-c31faaef.mjs';\nimport '../../_chunks/dep-5f15268c.mjs';\nimport '../../_chunks/dep-0894e3ae.mjs';\nimport '../../_chunks/dep-0e5b2b76.mjs';\nimport '../../_chunks/dep-f3a27c4c.mjs';\nimport '../../_chunks/dep-b6946d89.mjs';\nimport '../../_chunks/dep-3d61d8a6.mjs';\nimport '../../_chunks/dep-88c02450.mjs';\nimport '../../_chunks/dep-f7067d3d.mjs';\nimport '../../_chunks/dep-cd1b7f96.mjs';\nimport '../../_chunks/dep-eea784eb.mjs';\nimport '../../_common/js/global-config/default-config.mjs';\nimport '../../_common/js/global-config/locale/zh_CN.mjs';\nimport '../../_chunks/dep-0c808c2e.mjs';\nimport '../../_chunks/dep-4c103c66.mjs';\nimport '../../config-provider/useConfig.mjs';\nimport '../../_chunks/dep-db7324ec.mjs';\nimport '../../_chunks/dep-d090226f.mjs';\nimport '../../_chunks/dep-3b84887f.mjs';\nimport '../../config-provider/type.mjs';\nimport '../../utils/set-style.mjs';\nimport '../../checkbox/group.mjs';\nimport '../../_chunks/dep-69da1a80.mjs';\nimport '../../_chunks/dep-017fc8db.mjs';\nimport '../../_chunks/dep-2f0b4a52.mjs';\nimport '../../_chunks/dep-3c3faac3.mjs';\nimport '../../checkbox/checkbox-group-props.mjs';\nimport '../../hooks/slot.mjs';\nimport '../../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../../checkbox/type.mjs';\nimport '../../_chunks/dep-c4a2d318.mjs';\nimport '../../_chunks/dep-143154a5.mjs';\nimport '../../_chunks/dep-69610219.mjs';\nimport '../../_chunks/dep-04ba5b59.mjs';\nimport '../../_chunks/dep-05b564d9.mjs';\nimport '../../_chunks/dep-f41eb5b9.mjs';\nimport '../../_chunks/dep-8cc70cb2.mjs';\nimport '../../loading/plugin.mjs';\nimport '../../loading/loading.mjs';\nimport '../../loading/icon/gradient.mjs';\nimport '../../_common/js/loading/circle-adapter.mjs';\nimport '../../_common/js/utils/set-style.mjs';\nimport '../../_common/js/utils/helper.mjs';\nimport '../../_chunks/dep-8325f53f.mjs';\nimport '../../_chunks/dep-b20328d2.mjs';\nimport '../../utils/dom.mjs';\nimport '../../utils/easing.mjs';\nimport '../../loading/props.mjs';\nimport '../../hooks/useTeleport.mjs';\nimport '../../loading/type.mjs';\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar props = {\n  node: {\n    type: Object,\n    \"default\": function _default() {\n      return {};\n    }\n  },\n  optionChild: {\n    type: [Object, Array]\n  },\n  cascaderContext: {\n    type: Object\n  },\n  onChange: Function,\n  onClick: Function,\n  onMouseenter: Function\n};\nvar Item = defineComponent({\n  name: \"TCascaderItem\",\n  props: props,\n  setup: function setup(props2) {\n    var liRef = ref();\n    useRipple(liRef);\n    var COMPONENT_NAME = usePrefixClass(\"cascader__item\");\n    var classPrefix = usePrefixClass();\n    var _useGlobalIcon = useGlobalIcon({\n        ChevronRightIcon: ChevronRightIcon\n      }),\n      ChevronRightIcon$1 = _useGlobalIcon.ChevronRightIcon;\n    var _useCommonClassName = useCommonClassName(),\n      STATUS = _useCommonClassName.STATUS,\n      SIZE = _useCommonClassName.SIZE;\n    var itemClass = computed(function () {\n      return getCascaderItemClass(classPrefix.value, props2.node, SIZE.value, STATUS.value, props2.cascaderContext);\n    });\n    var iconClass = computed(function () {\n      return getCascaderItemIconClass(classPrefix.value, props2.node, STATUS.value, props2.cascaderContext);\n    });\n    function RenderLabelInner(node, cascaderContext) {\n      var inputVal = cascaderContext.inputVal;\n      var labelText = inputVal ? getFullPathLabel(node) : node.label;\n      if (inputVal) {\n        var texts = labelText.split(inputVal);\n        var doms = [];\n        for (var index = 0; index < texts.length; index++) {\n          doms.push(createVNode(\"span\", {\n            \"key\": index\n          }, [texts[index]]));\n          if (index === texts.length - 1) break;\n          doms.push(createVNode(\"span\", {\n            \"key\": \"\".concat(index, \"filter\"),\n            \"class\": \"\".concat(COMPONENT_NAME.value, \"-label--filter\")\n          }, [inputVal]));\n        }\n        return doms;\n      }\n      return labelText;\n    }\n    function RenderLabelContent(node, cascaderContext) {\n      var label = RenderLabelInner(node, cascaderContext);\n      var labelCont = createVNode(\"span\", {\n        \"title\": cascaderContext.inputVal ? getFullPathLabel(node) : node.label,\n        \"class\": [\"\".concat(COMPONENT_NAME.value, \"-label\"), \"\".concat(COMPONENT_NAME.value, \"-label--ellipsis\")],\n        \"role\": \"label\"\n      }, [label]);\n      return labelCont;\n    }\n    function RenderCheckBox(node, cascaderContext) {\n      var checkProps = cascaderContext.checkProps,\n        value = cascaderContext.value,\n        max = cascaderContext.max,\n        inputVal = cascaderContext.inputVal;\n      var label = RenderLabelInner(node, cascaderContext);\n      return createVNode(Checkbox, mergeProps({\n        \"checked\": node.checked,\n        \"indeterminate\": node.indeterminate,\n        \"disabled\": node.isDisabled() || value.length >= max && max !== 0,\n        \"name\": String(node.value),\n        \"stopLabelTrigger\": !!node.children,\n        \"title\": inputVal ? getFullPathLabel(node) : node.label,\n        \"onChange\": function onChange() {\n          props2.onChange();\n        }\n      }, checkProps), _isSlot(label) ? label : {\n        \"default\": function _default() {\n          return [label];\n        }\n      });\n    }\n    return function () {\n      var cascaderContext = props2.cascaderContext,\n        node = props2.node,\n        optionChild = props2.optionChild;\n      return createVNode(\"li\", {\n        \"ref\": liRef,\n        \"class\": itemClass.value,\n        \"onClick\": props2.onClick,\n        \"onMouseenter\": props2.onMouseenter\n      }, [optionChild || (cascaderContext.multiple ? RenderCheckBox(node, cascaderContext) : RenderLabelContent(node, cascaderContext)), node.children && (node.loading ? createVNode(Loading, {\n        \"class\": iconClass.value,\n        \"size\": \"small\"\n      }, null) : createVNode(ChevronRightIcon$1, {\n        \"class\": iconClass.value\n      }, null))]);\n    };\n  }\n});\nexport { Item as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","props","node","type","_default","optionChild","Array","cascaderContext","onChange","Function","onClick","onMouseenter","Item","defineComponent","name","setup","props2","liRef","ref","useRipple","COMPONENT_NAME","usePrefixClass","classPrefix","_useGlobalIcon","useGlobalIcon","ChevronRightIcon","ChevronRightIcon$1","_useCommonClassName","useCommonClassName","STATUS","SIZE","itemClass","computed","getCascaderItemClass","value","iconClass","getCascaderItemIconClass","RenderLabelInner","inputVal","labelText","getFullPathLabel","label","texts","split","doms","index","length","push","createVNode","concat","RenderLabelContent","labelCont","RenderCheckBox","checkProps","max","Checkbox","mergeProps","checked","indeterminate","isDisabled","String","children","multiple","loading","Loading"],"sources":["../../../src/cascader/components/Item.tsx"],"sourcesContent":["import { defineComponent, PropType, computed, ref } from 'vue';\nimport { ChevronRightIcon as TdChevronRightIcon } from 'tdesign-icons-vue-next';\n\nimport { getFullPathLabel } from '../core/helper';\nimport { getCascaderItemClass, getCascaderItemIconClass } from '../core/className';\n\nimport Checkbox from '../../checkbox/index';\nimport TLoading from '../../loading';\n\nimport { CascaderContextType, TreeNodeValue, TreeNode, TdCascaderProps } from '../interface';\nimport { usePrefixClass, useCommonClassName } from '../../hooks/useConfig';\nimport { useGlobalIcon } from '../../hooks/useGlobalIcon';\nimport useRipple from '../../hooks/useRipple';\n\nconst props = {\n  node: {\n    type: Object as PropType<TreeNode>,\n    default() {\n      return {};\n    },\n  },\n  optionChild: {\n    type: [Object, Array] as PropType<TdCascaderProps['option']>,\n  },\n  cascaderContext: {\n    type: Object as PropType<CascaderContextType>,\n  },\n  onChange: Function as PropType<() => void>,\n  onClick: Function as PropType<() => void>,\n  onMouseenter: Function as PropType<() => void>,\n};\n\nexport default defineComponent({\n  name: 'TCascaderItem',\n  props,\n  setup(props) {\n    const liRef = ref<HTMLElement>();\n    useRipple(liRef);\n\n    const COMPONENT_NAME = usePrefixClass('cascader__item');\n    const classPrefix = usePrefixClass();\n    const { ChevronRightIcon } = useGlobalIcon({ ChevronRightIcon: TdChevronRightIcon });\n    const { STATUS, SIZE } = useCommonClassName();\n\n    const itemClass = computed(() => {\n      return getCascaderItemClass(classPrefix.value, props.node, SIZE.value, STATUS.value, props.cascaderContext);\n    });\n\n    const iconClass = computed(() => {\n      return getCascaderItemIconClass(classPrefix.value, props.node, STATUS.value, props.cascaderContext);\n    });\n\n    function RenderLabelInner(node: TreeNode, cascaderContext: CascaderContextType) {\n      const { inputVal } = cascaderContext;\n      const labelText = inputVal ? getFullPathLabel(node) : node.label;\n      if (inputVal) {\n        const texts = labelText.split(inputVal as string);\n        const doms = [];\n        for (let index = 0; index < texts.length; index++) {\n          doms.push(<span key={index}>{texts[index]}</span>);\n          if (index === texts.length - 1) break;\n          doms.push(\n            <span key={`${index}filter`} class={`${COMPONENT_NAME.value}-label--filter`}>\n              {inputVal}\n            </span>,\n          );\n        }\n        return doms;\n      }\n      return labelText;\n    }\n\n    function RenderLabelContent(node: TreeNode, cascaderContext: CascaderContextType) {\n      const label = RenderLabelInner(node, cascaderContext);\n\n      const labelCont = (\n        <span\n          title={cascaderContext.inputVal ? getFullPathLabel(node) : node.label}\n          class={[`${COMPONENT_NAME.value}-label`, `${COMPONENT_NAME.value}-label--ellipsis`]}\n          role=\"label\"\n        >\n          {label}\n        </span>\n      );\n\n      return labelCont;\n    }\n\n    function RenderCheckBox(node: TreeNode, cascaderContext: CascaderContextType) {\n      const { checkProps, value, max, inputVal } = cascaderContext;\n      const label = RenderLabelInner(node, cascaderContext);\n      return (\n        <Checkbox\n          checked={node.checked}\n          indeterminate={node.indeterminate}\n          disabled={node.isDisabled() || ((value as TreeNodeValue[]).length >= max && max !== 0)}\n          // node.value maybe string or number\n          name={String(node.value)}\n          stopLabelTrigger={!!node.children}\n          title={inputVal ? getFullPathLabel(node) : node.label}\n          onChange={() => {\n            props.onChange();\n          }}\n          {...checkProps}\n        >\n          {label}\n        </Checkbox>\n      );\n    }\n\n    return () => {\n      const { cascaderContext, node, optionChild } = props;\n      return (\n        <li ref={liRef} class={itemClass.value} onClick={props.onClick} onMouseenter={props.onMouseenter}>\n          {optionChild ||\n            (cascaderContext.multiple\n              ? RenderCheckBox(node, cascaderContext)\n              : RenderLabelContent(node, cascaderContext))}\n          {node.children &&\n            (node.loading ? (\n              <TLoading class={iconClass.value} size=\"small\" />\n            ) : (\n              <ChevronRightIcon class={iconClass.value} />\n            ))}\n        </li>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}