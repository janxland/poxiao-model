{"ast":null,"code":"/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { getWindowScroll, getElmCssPropValue, isFixed } from '../../utils/dom.mjs';\nimport '../../_chunks/dep-cb814df4.mjs';\nimport '../../_chunks/dep-30b3f256.mjs';\nimport '../../_chunks/dep-cd533155.mjs';\nimport '../../_chunks/dep-8dbc9855.mjs';\nimport '../../_chunks/dep-ab439391.mjs';\nimport '../../_chunks/dep-60d62610.mjs';\nimport '../../_chunks/dep-2adf18a2.mjs';\nimport '../../_chunks/dep-66473aa9.mjs';\nimport '../../_chunks/dep-715774e0.mjs';\nimport '../../_chunks/dep-5a5a1764.mjs';\nimport '../../utils/easing.mjs';\nfunction getRelativePosition(elm) {\n  var relativeElm = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document.body;\n  var _getWindowScroll = getWindowScroll(),\n    scrollTop = _getWindowScroll.scrollTop,\n    scrollLeft = _getWindowScroll.scrollLeft;\n  var _elm$getBoundingClien = elm.getBoundingClientRect(),\n    elmTop = _elm$getBoundingClien.top,\n    elmLeft = _elm$getBoundingClien.left;\n  var _relativeElm$getBound = relativeElm.getBoundingClientRect(),\n    relElmTop = _relativeElm$getBound.top,\n    relElmLeft = _relativeElm$getBound.left;\n  var relativeElmPosition = getElmCssPropValue(relativeElm, \"position\");\n  if (relativeElm.tagName.toLowerCase() !== \"body\" && relativeElmPosition === \"relative\" || relativeElmPosition === \"sticky\") {\n    return {\n      top: elmTop - relElmTop,\n      left: elmLeft - relElmLeft\n    };\n  }\n  if (isFixed(elm)) {\n    return {\n      top: elmTop,\n      left: elmLeft\n    };\n  }\n  return {\n    top: elmTop + scrollTop,\n    left: elmLeft + scrollLeft\n  };\n}\nexport { getRelativePosition as default };","map":{"version":3,"names":["getRelativePosition","elm","relativeElm","arguments","length","undefined","document","body","_getWindowScroll","getWindowScroll","scrollTop","scrollLeft","_elm$getBoundingClien","getBoundingClientRect","elmTop","top","elmLeft","left","_relativeElm$getBound","relElmTop","relElmLeft","relativeElmPosition","getElmCssPropValue","tagName","toLowerCase","isFixed"],"sources":["../../../src/guide/utils/getRelativePosition.ts"],"sourcesContent":["import { getElmCssPropValue, isFixed, getWindowScroll } from '../../utils/dom';\n\n/**\n * 获取元素相对于另一个元素的位置（或者说相对于 body）\n * 感谢 `meouw`: http://stackoverflow.com/a/442474/375966\n */\nexport default function getRelativePosition(elm: HTMLElement, relativeElm: HTMLElement = document.body) {\n  const { scrollTop, scrollLeft } = getWindowScroll();\n  const { top: elmTop, left: elmLeft } = elm.getBoundingClientRect();\n  const { top: relElmTop, left: relElmLeft } = relativeElm.getBoundingClientRect();\n  const relativeElmPosition = getElmCssPropValue(relativeElm, 'position');\n\n  if (\n    (relativeElm.tagName.toLowerCase() !== 'body' && relativeElmPosition === 'relative') ||\n    relativeElmPosition === 'sticky'\n  ) {\n    return {\n      top: elmTop - relElmTop,\n      left: elmLeft - relElmLeft,\n    };\n  }\n\n  if (isFixed(elm)) {\n    return {\n      top: elmTop,\n      left: elmLeft,\n    };\n  }\n\n  return {\n    top: elmTop + scrollTop,\n    left: elmLeft + scrollLeft,\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAMA,SAAwBA,mBAAoBA,CAAAC,GAAA,EAA4D;EAAA,IAA1CC,WAA2B,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAAG,QAAA,CAASC,IAAM;EACtG,IAAAC,gBAAA,GAAkCC,eAAgB;IAA1CC,SAAA,GAAAF,gBAAA,CAAAE,SAAA;IAAWC,UAAW,GAAAH,gBAAA,CAAXG,UAAW;EAC9B,IAAAC,qBAAA,GAAuCX,GAAA,CAAIY,qBAAsB;IAApDC,MAAA,GAAAF,qBAAA,CAALG,GAAK;IAAcC,OAAQ,GAAAJ,qBAAA,CAAdK,IAAA;EACrB,IAAAC,qBAAA,GAA6ChB,WAAA,CAAYW,qBAAsB;IAAlEM,SAAA,GAAAD,qBAAA,CAALH,GAAK;IAAiBK,UAAW,GAAAF,qBAAA,CAAjBD,IAAA;EAClB,IAAAI,mBAAA,GAAsBC,kBAAmB,CAAApB,WAAA,EAAa,UAAU;EAGnE,IAAAA,WAAA,CAAYqB,OAAA,CAAQC,WAAY,OAAM,UAAUH,mBAAwB,mBACzEA,mBAAA,KAAwB,QACxB;IACO;MACLN,GAAA,EAAKD,MAAS,GAAAK,SAAA;MACdF,IAAA,EAAMD,OAAU,GAAAI;KAClB;EACF;EAEI,IAAAK,OAAA,CAAQxB,GAAG,CAAG;IACT;MACLc,GAAK,EAAAD,MAAA;MACLG,IAAM,EAAAD;KACR;EACF;EAEO;IACLD,GAAA,EAAKD,MAAS,GAAAJ,SAAA;IACdO,IAAA,EAAMD,OAAU,GAAAL;GAClB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}