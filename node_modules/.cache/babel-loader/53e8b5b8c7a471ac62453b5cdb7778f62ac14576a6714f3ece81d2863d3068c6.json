{"ast":null,"code":"/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _slicedToArray } from '../_chunks/dep-b089fa1f.mjs';\nimport { isVNode, defineComponent, toRefs, computed, h, createVNode } from 'vue';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport props from './check-tag-group-props.mjs';\nimport _CheckTag from './check-tag.mjs';\nimport useVModel from '../hooks/useVModel.mjs';\nimport { i as isFunction_1 } from '../_chunks/dep-66473aa9.mjs';\nimport '../_chunks/dep-8e411f1c.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-37e3e644.mjs';\nimport '../_chunks/dep-cb814df4.mjs';\nimport '../_chunks/dep-31dc0415.mjs';\nimport '../_chunks/dep-e5142249.mjs';\nimport '../_chunks/dep-c4f80cb4.mjs';\nimport '../_chunks/dep-996b4900.mjs';\nimport '../_chunks/dep-3108c312.mjs';\nimport '../_chunks/dep-cd533155.mjs';\nimport '../_chunks/dep-8dbc9855.mjs';\nimport '../_chunks/dep-715774e0.mjs';\nimport '../_chunks/dep-5a5a1764.mjs';\nimport '../_chunks/dep-93498383.mjs';\nimport '../_chunks/dep-36582a92.mjs';\nimport '../_chunks/dep-a2db6df1.mjs';\nimport '../_chunks/dep-0f89a1dd.mjs';\nimport '../_chunks/dep-2adf18a2.mjs';\nimport '../_chunks/dep-ab439391.mjs';\nimport '../_chunks/dep-60d62610.mjs';\nimport '../_chunks/dep-d4da440a.mjs';\nimport '../_chunks/dep-013382c3.mjs';\nimport '../_chunks/dep-ca764006.mjs';\nimport '../_chunks/dep-2ee9d497.mjs';\nimport '../_chunks/dep-c545db54.mjs';\nimport '../_chunks/dep-3f15cb30.mjs';\nimport '../_chunks/dep-fd2b6c64.mjs';\nimport '../_chunks/dep-30b3f256.mjs';\nimport '../_chunks/dep-b3734774.mjs';\nimport '../_chunks/dep-a4a3ac25.mjs';\nimport '../_chunks/dep-6861d388.mjs';\nimport '../_chunks/dep-396d852b.mjs';\nimport '../_chunks/dep-8a3fd140.mjs';\nimport '../_chunks/dep-5db0da5c.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-bf19d9ba.mjs';\nimport '../_chunks/dep-6963a882.mjs';\nimport '../config-provider/type.mjs';\nimport '../_chunks/dep-7deaa3b9.mjs';\nimport './check-tag-props.mjs';\nimport '../hooks/tnode.mjs';\nimport '../_chunks/dep-f8909853.mjs';\nimport '../_chunks/dep-67e59a11.mjs';\nimport '../_chunks/dep-10024af3.mjs';\nimport '../_chunks/dep-d00e2e04.mjs';\nimport '../_chunks/dep-ec2f76cc.mjs';\nimport '../_chunks/dep-96484611.mjs';\nimport '../_chunks/dep-bd7cd061.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-60ee423b.mjs';\nimport './tag.mjs';\nimport 'tdesign-icons-vue-next';\nimport './props.mjs';\nimport '../hooks/useGlobalIcon.mjs';\nimport '../_common/js/common.mjs';\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar _CheckTagGroup = defineComponent({\n  name: \"TCheckTagGroup\",\n  props: props,\n  setup: function setup(props2, context) {\n    var _toRefs = toRefs(props2),\n      value = _toRefs.value,\n      modelValue = _toRefs.modelValue,\n      options = _toRefs.options;\n    var componentName = usePrefixClass(\"check-tag-group\");\n    var checkTagGroupClasses = computed(function () {\n      return [componentName.value];\n    });\n    var _useVModel = useVModel(value, modelValue, props2.defaultValue, props2.onChange),\n      _useVModel2 = _slicedToArray(_useVModel, 2),\n      innerValue = _useVModel2[0],\n      setInnerValue = _useVModel2[1];\n    var onCheckTagChange = function onCheckTagChange(checked, ctx) {\n      var value2 = ctx.value;\n      if (checked) {\n        if (props2.multiple) {\n          setInnerValue(innerValue.value.concat(value2), {\n            e: ctx.e,\n            type: \"check\",\n            value: value2\n          });\n        } else {\n          setInnerValue([value2], {\n            e: ctx.e,\n            type: \"check\",\n            value: value2\n          });\n        }\n      } else {\n        var newValue = [];\n        if (props2.multiple) {\n          newValue = innerValue.value.filter(function (t) {\n            return t !== value2;\n          });\n        }\n        setInnerValue(newValue, {\n          e: ctx.e,\n          type: \"uncheck\",\n          value: value2\n        });\n      }\n    };\n    var getTagContent = function getTagContent(option) {\n      if (context.slots.option) return context.slots.option(option);\n      if (context.slots.label) return context.slots.label(option);\n      if (option.label) {\n        return isFunction_1(option.label) ? option.label(h) : option.label;\n      }\n      if (option.content && isFunction_1(option.content)) return option.content(h);\n      if (option[\"default\"] && isFunction_1(option[\"default\"])) return option[\"default\"](h);\n      return option.value;\n    };\n    return function () {\n      return createVNode(\"div\", {\n        \"class\": checkTagGroupClasses.value\n      }, [(options.value || []).map(function (option) {\n        var _slot;\n        return createVNode(_CheckTag, {\n          \"key\": option.value,\n          \"value\": option.value,\n          \"checkedProps\": props2.checkedProps,\n          \"uncheckedProps\": props2.uncheckedProps,\n          \"checked\": innerValue.value.includes(option.value),\n          \"onChange\": onCheckTagChange,\n          \"disabled\": option.disabled,\n          \"size\": option.size,\n          \"data-value\": option.value\n        }, _isSlot(_slot = getTagContent(option)) ? _slot : {\n          \"default\": function _default() {\n            return [_slot];\n          }\n        });\n      })]);\n    };\n  }\n});\nexport { _CheckTagGroup as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","_CheckTagGroup","defineComponent","name","props","setup","props2","context","_toRefs","toRefs","value","modelValue","options","componentName","usePrefixClass","checkTagGroupClasses","computed","_useVModel","useVModel","defaultValue","onChange","_useVModel2","_slicedToArray","innerValue","setInnerValue","onCheckTagChange","checked","ctx","value2","multiple","concat","e","type","newValue","filter","t","getTagContent","option","slots","label","isFunction_1","h","content","createVNode","map","checkedProps","uncheckedProps","includes","disabled","size","_slot","_default"],"sources":["../../src/tag/check-tag-group.tsx"],"sourcesContent":["import { computed, defineComponent, toRefs, h } from 'vue';\nimport { usePrefixClass } from '../hooks/useConfig';\nimport props from './check-tag-group-props';\nimport CheckTag from './check-tag';\nimport useVModel from '../hooks/useVModel';\nimport { CheckTagGroupOption, CheckTagGroupValue, TdCheckTagProps } from './type';\nimport isFunction from 'lodash/isFunction';\n\nexport default defineComponent({\n  name: 'TCheckTagGroup',\n\n  props,\n\n  setup(props, context) {\n    const { value, modelValue, options } = toRefs(props);\n    const componentName = usePrefixClass('check-tag-group');\n    const checkTagGroupClasses = computed(() => [componentName.value]);\n\n    const [innerValue, setInnerValue] = useVModel(value, modelValue, props.defaultValue, props.onChange);\n\n    const onCheckTagChange: TdCheckTagProps['onChange'] = (checked, ctx) => {\n      const value = ctx.value;\n      if (checked) {\n        if (props.multiple) {\n          setInnerValue(innerValue.value.concat(value), { e: ctx.e, type: 'check', value });\n        } else {\n          setInnerValue([value], { e: ctx.e, type: 'check', value });\n        }\n      } else {\n        let newValue: CheckTagGroupValue = [];\n        if (props.multiple) {\n          newValue = innerValue.value.filter((t) => t !== value);\n        }\n        setInnerValue(newValue, { e: ctx.e, type: 'uncheck', value });\n      }\n    };\n\n    const getTagContent = (option: CheckTagGroupOption) => {\n      if (context.slots.option) return context.slots.option(option);\n      if (context.slots.label) return context.slots.label(option);\n      if (option.label) {\n        return isFunction(option.label) ? option.label(h) : option.label;\n      }\n      if (option.content && isFunction(option.content)) return option.content(h);\n      if (option.default && isFunction(option.default)) return option.default(h);\n      return option.value;\n    };\n\n    return () => {\n      return (\n        <div class={checkTagGroupClasses.value}>\n          {(options.value || []).map((option) => (\n            <CheckTag\n              key={option.value}\n              value={option.value}\n              checkedProps={props.checkedProps}\n              uncheckedProps={props.uncheckedProps}\n              checked={innerValue.value.includes(option.value)}\n              onChange={onCheckTagChange}\n              disabled={option.disabled}\n              size={option.size}\n              data-value={option.value}\n            >\n              {getTagContent(option)}\n            </CheckTag>\n          ))}\n        </div>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}