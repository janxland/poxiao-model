{"ast":null,"code":"/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-7deaa3b9.mjs';\nimport { isVNode, defineComponent, computed, createVNode, mergeProps } from 'vue';\nimport { ChevronDownIcon } from 'tdesign-icons-vue-next';\nimport useClassName from './hooks/useClassName.mjs';\nimport { Tooltip } from '../tooltip/index.mjs';\nimport '../hooks/useConfig.mjs';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon.mjs';\nimport { useTNodeDefault } from '../hooks/tnode.mjs';\nimport { useConfig } from '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-8dbc9855.mjs';\nimport '../_chunks/dep-66473aa9.mjs';\nimport '../_chunks/dep-cb814df4.mjs';\nimport '../_chunks/dep-cd533155.mjs';\nimport '../_chunks/dep-715774e0.mjs';\nimport '../_chunks/dep-5a5a1764.mjs';\nimport '../_chunks/dep-37e3e644.mjs';\nimport '../_chunks/dep-31dc0415.mjs';\nimport '../_chunks/dep-e5142249.mjs';\nimport '../_chunks/dep-c4f80cb4.mjs';\nimport '../_chunks/dep-996b4900.mjs';\nimport '../_chunks/dep-3108c312.mjs';\nimport '../_chunks/dep-93498383.mjs';\nimport '../_chunks/dep-36582a92.mjs';\nimport '../_chunks/dep-a2db6df1.mjs';\nimport '../_chunks/dep-0f89a1dd.mjs';\nimport '../_chunks/dep-2adf18a2.mjs';\nimport '../_chunks/dep-ab439391.mjs';\nimport '../_chunks/dep-60d62610.mjs';\nimport '../_chunks/dep-d4da440a.mjs';\nimport '../_chunks/dep-013382c3.mjs';\nimport '../_chunks/dep-ca764006.mjs';\nimport '../_chunks/dep-2ee9d497.mjs';\nimport '../_chunks/dep-c545db54.mjs';\nimport '../_chunks/dep-3f15cb30.mjs';\nimport '../_chunks/dep-fd2b6c64.mjs';\nimport '../_chunks/dep-30b3f256.mjs';\nimport '../_chunks/dep-b3734774.mjs';\nimport '../_chunks/dep-a4a3ac25.mjs';\nimport '../_chunks/dep-6861d388.mjs';\nimport '../_chunks/dep-396d852b.mjs';\nimport '../_chunks/dep-8a3fd140.mjs';\nimport '../_chunks/dep-5db0da5c.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-bf19d9ba.mjs';\nimport '../_chunks/dep-6963a882.mjs';\nimport '../config-provider/type.mjs';\nimport '../tooltip/tooltip.mjs';\nimport '../_chunks/dep-b089fa1f.mjs';\nimport '../_chunks/dep-8e411f1c.mjs';\nimport '../_chunks/dep-8fdb2da0.mjs';\nimport '../_chunks/dep-67e59a11.mjs';\nimport '../_chunks/dep-10024af3.mjs';\nimport '../_chunks/dep-8dae3bca.mjs';\nimport '../_chunks/dep-d7c36095.mjs';\nimport '../_chunks/dep-ec2f76cc.mjs';\nimport '../_chunks/dep-4481f632.mjs';\nimport '../tooltip/props.mjs';\nimport '../popup/props.mjs';\nimport '../popup/index.mjs';\nimport '../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../_chunks/dep-665d45b4.mjs';\nimport '../_chunks/dep-27be073b.mjs';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../_chunks/dep-bd7cd061.mjs';\nimport '../_chunks/dep-96484611.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../_chunks/dep-f8909853.mjs';\nimport '../_chunks/dep-d00e2e04.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-60ee423b.mjs';\nimport '../utils/dom.mjs';\nimport '../utils/easing.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../popup/container.mjs';\nimport '../_chunks/dep-b15588b0.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../popup/type.mjs';\nimport '../tooltip/util.mjs';\nimport '../tooltip/type.mjs';\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar SorterButton = defineComponent({\n  name: \"TSorterButton\",\n  props: {\n    sortType: {\n      type: String,\n      \"default\": \"all\"\n    },\n    sortOrder: {\n      type: String,\n      \"default\": function _default() {\n        return \"\";\n      }\n    },\n    locale: Object,\n    sortIcon: Function,\n    tooltipProps: Object,\n    hideSortTips: Boolean\n  },\n  emits: [\"sort-icon-click\"],\n  setup: function setup(props, context) {\n    var _useClassName = useClassName(),\n      tableSortClasses = _useClassName.tableSortClasses,\n      negativeRotate180 = _useClassName.negativeRotate180;\n    var renderTNode = useTNodeDefault();\n    var _useConfig = useConfig(\"table\", props.locale),\n      t = _useConfig.t,\n      globalConfig = _useConfig.globalConfig;\n    var _useGlobalIcon = useGlobalIcon({\n        ChevronDownIcon: ChevronDownIcon\n      }),\n      ChevronDownIcon$1 = _useGlobalIcon.ChevronDownIcon;\n    var allowSortTypes = computed(function () {\n      return props.sortType === \"all\" ? [\"asc\", \"desc\"] : [props.sortType];\n    });\n    var onSortIconClick = function onSortIconClick(e, direction) {\n      context.emit(\"sort-icon-click\", e, {\n        descending: direction === \"desc\"\n      });\n    };\n    var getSortIcon = function getSortIcon(direction, activeClass) {\n      var defaultIcon = t(globalConfig.value.sortIcon) || createVNode(ChevronDownIcon$1, null, null);\n      var icon = renderTNode(\"sortIcon\", defaultIcon);\n      var sortClassName = [activeClass, tableSortClasses.sortIcon, tableSortClasses.iconDirection[direction], _defineProperty({}, negativeRotate180, direction === \"asc\")];\n      return createVNode(\"span\", {\n        \"class\": sortClassName,\n        \"onClick\": function onClick(e) {\n          return onSortIconClick(e, direction);\n        }\n      }, [icon]);\n    };\n    return {\n      t: t,\n      globalConfig: globalConfig,\n      tableSortClasses: tableSortClasses,\n      negativeRotate180: negativeRotate180,\n      allowSortTypes: allowSortTypes,\n      getSortIcon: getSortIcon\n    };\n  },\n  render: function render() {\n    var _this = this;\n    var tableSortClasses = this.tableSortClasses;\n    var classes = [tableSortClasses.trigger, _defineProperty({}, tableSortClasses.doubleIcon, this.allowSortTypes.length > 1)];\n    var tooltips = {\n      asc: this.globalConfig.sortAscendingOperationText,\n      desc: this.globalConfig.sortDescendingOperationText\n    };\n    var sortButton = this.allowSortTypes.map(function (direction) {\n      var _slot;\n      var _this$hideSortTips;\n      var activeClass = direction === _this.sortOrder ? tableSortClasses.iconActive : tableSortClasses.iconDefault;\n      var cancelTips = _this.globalConfig.sortCancelOperationText;\n      var tips = direction === _this.sortOrder ? cancelTips : tooltips[direction];\n      if ((_this$hideSortTips = _this.hideSortTips) !== null && _this$hideSortTips !== void 0 ? _this$hideSortTips : _this.globalConfig.hideSortTips) return _this.getSortIcon(direction, activeClass);\n      return createVNode(Tooltip, mergeProps({\n        \"content\": tips,\n        \"placement\": \"right\",\n        \"showArrow\": false,\n        \"class\": _this.tableSortClasses.iconDirection[direction]\n      }, _this.tooltipProps), _isSlot(_slot = _this.getSortIcon(direction, activeClass)) ? _slot : {\n        \"default\": function _default() {\n          return [_slot];\n        }\n      });\n    });\n    return createVNode(\"div\", {\n      \"class\": classes\n    }, [sortButton]);\n  }\n});\nexport { SorterButton as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","SorterButton","defineComponent","name","props","sortType","type","String","sortOrder","_default","locale","sortIcon","Function","tooltipProps","hideSortTips","Boolean","emits","setup","context","_useClassName","useClassName","tableSortClasses","negativeRotate180","renderTNode","useTNodeDefault","_useConfig","useConfig","t","globalConfig","_useGlobalIcon","useGlobalIcon","ChevronDownIcon","ChevronDownIcon$1","allowSortTypes","computed","onSortIconClick","e","direction","emit","descending","getSortIcon","activeClass","defaultIcon","value","createVNode","icon","sortClassName","iconDirection","_defineProperty","onClick","render","_this","classes","trigger","doubleIcon","length","tooltips","asc","sortAscendingOperationText","desc","sortDescendingOperationText","sortButton","map","_slot","_this$hideSortTips","iconActive","iconDefault","cancelTips","sortCancelOperationText","tips","Tooltip","mergeProps"],"sources":["../../src/table/sorter-button.tsx"],"sourcesContent":["import { computed, defineComponent, PropType } from 'vue';\nimport { ChevronDownIcon as TdChevronDownIcon } from 'tdesign-icons-vue-next';\nimport useClassName from './hooks/useClassName';\nimport { SortType } from './type';\nimport Tooltip, { TooltipProps } from '../tooltip';\nimport { useConfig } from '../hooks/useConfig';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\nimport { useTNodeDefault } from '../hooks/tnode';\nimport { TNode } from '../common';\nimport { TableConfig } from '../config-provider';\n\ntype SortTypeEnums = Array<'desc' | 'asc'>;\n\nexport default defineComponent({\n  name: 'TSorterButton',\n\n  props: {\n    sortType: {\n      type: String as PropType<SortType>,\n      default: 'all',\n    },\n    sortOrder: {\n      type: String,\n      default: (): string => '',\n    },\n    locale: Object as PropType<TableConfig>,\n    sortIcon: Function as PropType<TNode>,\n    tooltipProps: Object as PropType<TooltipProps>,\n    hideSortTips: Boolean,\n  },\n\n  emits: ['sort-icon-click'],\n\n  setup(props, context) {\n    const { tableSortClasses, negativeRotate180 } = useClassName();\n    const renderTNode = useTNodeDefault();\n    const { t, globalConfig } = useConfig('table', props.locale);\n    const { ChevronDownIcon } = useGlobalIcon({ ChevronDownIcon: TdChevronDownIcon });\n\n    const allowSortTypes = computed<SortTypeEnums>(() =>\n      props.sortType === 'all' ? ['asc', 'desc'] : [props.sortType],\n    );\n\n    const onSortIconClick = (e: MouseEvent, direction: string) => {\n      context.emit('sort-icon-click', e, { descending: direction === 'desc' });\n    };\n\n    const getSortIcon = (direction: string, activeClass: string) => {\n      const defaultIcon = t(globalConfig.value.sortIcon) || <ChevronDownIcon />;\n      const icon = renderTNode('sortIcon', defaultIcon);\n      const sortClassName = [\n        activeClass,\n        tableSortClasses.sortIcon,\n        tableSortClasses.iconDirection[direction],\n        { [negativeRotate180]: direction === 'asc' },\n      ];\n      return (\n        <span class={sortClassName} onClick={(e) => onSortIconClick(e, direction)}>\n          {icon}\n        </span>\n      );\n    };\n\n    return {\n      t,\n      globalConfig,\n      tableSortClasses,\n      negativeRotate180,\n      allowSortTypes,\n      getSortIcon,\n    };\n  },\n\n  render() {\n    const { tableSortClasses } = this;\n    const classes = [tableSortClasses.trigger, { [tableSortClasses.doubleIcon]: this.allowSortTypes.length > 1 }];\n    const tooltips = {\n      asc: this.globalConfig.sortAscendingOperationText,\n      desc: this.globalConfig.sortDescendingOperationText,\n    };\n    const sortButton = this.allowSortTypes.map((direction: string) => {\n      const activeClass = direction === this.sortOrder ? tableSortClasses.iconActive : tableSortClasses.iconDefault;\n      const cancelTips = this.globalConfig.sortCancelOperationText;\n      const tips = direction === this.sortOrder ? cancelTips : tooltips[direction];\n      if (this.hideSortTips ?? this.globalConfig.hideSortTips) return this.getSortIcon(direction, activeClass);\n      return (\n        <Tooltip\n          content={tips}\n          placement=\"right\"\n          showArrow={false}\n          class={this.tableSortClasses.iconDirection[direction]}\n          {...(this.tooltipProps as TooltipProps)}\n        >\n          {this.getSortIcon(direction, activeClass)}\n        </Tooltip>\n      );\n    });\n    return <div class={classes}>{sortButton}</div>;\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}