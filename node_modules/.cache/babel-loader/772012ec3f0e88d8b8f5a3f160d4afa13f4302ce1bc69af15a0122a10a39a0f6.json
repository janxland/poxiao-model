{"ast":null,"code":"/**\n * tdesign v1.9.3\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { getCurrentInstance, computed, inject } from 'vue';\nimport { i as isBoolean_1 } from '../_chunks/dep-36f0e4f4.mjs';\nimport '../_chunks/dep-437d10c6.mjs';\nimport '../_chunks/dep-6ad32365.mjs';\nimport '../_chunks/dep-d33c5d88.mjs';\nimport '../_chunks/dep-75628739.mjs';\nfunction useDisabled(context) {\n  var currentInstance = getCurrentInstance();\n  var componentDisabled = computed(function () {\n    return currentInstance.props.disabled;\n  });\n  var formDisabled = inject(\"formDisabled\", /* @__PURE__ */Object.create(null));\n  return computed(function () {\n    var _formDisabled$disable;\n    if (isBoolean_1(context === null || context === void 0 ? void 0 : context.beforeDisabled.value)) return context.beforeDisabled.value;\n    if (isBoolean_1(componentDisabled.value)) return componentDisabled.value;\n    if (isBoolean_1(context === null || context === void 0 ? void 0 : context.afterDisabled.value)) return context.afterDisabled.value;\n    if (isBoolean_1((_formDisabled$disable = formDisabled.disabled) === null || _formDisabled$disable === void 0 ? void 0 : _formDisabled$disable.value)) return formDisabled.disabled.value;\n    return false;\n  });\n}\nexport { useDisabled };","map":{"version":3,"names":["useDisabled","context","currentInstance","getCurrentInstance","componentDisabled","computed","props","disabled","formDisabled","inject","Object","create","_formDisabled$disable","isBoolean_1","beforeDisabled","value","afterDisabled"],"sources":["../../src/hooks/useDisabled.ts"],"sourcesContent":["import { Ref, inject, computed, getCurrentInstance } from 'vue';\nimport isBoolean from 'lodash/isBoolean';\nimport { TdFormProps } from '../form/type';\n\nexport interface FormDisabledProvider {\n  disabled: Ref<TdFormProps['disabled']>;\n}\n\nexport interface DisabledContext {\n  beforeDisabled?: Ref<boolean>;\n  afterDisabled?: Ref<boolean>;\n}\n\n/**\n * 用于实现组件全局禁用状态的hook\n * 优先级:(beforeDisabled) > Component.disabled > ComponentGroup.disabled(afterDisabled) > Form.disabled\n * @returns\n */\nexport function useDisabled(context?: DisabledContext) {\n  const currentInstance = getCurrentInstance();\n  const componentDisabled = computed(() => currentInstance.props.disabled as boolean);\n\n  const formDisabled = inject<FormDisabledProvider>('formDisabled', Object.create(null));\n\n  return computed(() => {\n    if (isBoolean(context?.beforeDisabled.value)) return context.beforeDisabled.value;\n    // Component\n    if (isBoolean(componentDisabled.value)) return componentDisabled.value;\n    // ComponentGroup\n    if (isBoolean(context?.afterDisabled.value)) return context.afterDisabled.value;\n    // Form\n    if (isBoolean(formDisabled.disabled?.value)) return formDisabled.disabled.value;\n\n    return false;\n  });\n}\n"],"mappings":";;;;;;;;;;;;AAkBO,SAASA,YAAYC,OAA2B;EACrD,IAAMC,eAAA,GAAkBC,kBAAmB;EAC3C,IAAMC,iBAAoB,GAAAC,QAAA,CAAS;IAAA,OAAMH,eAAA,CAAgBI,KAAA,CAAMC,QAAmB;GAAA;EAElF,IAAMC,YAAA,GAAeC,MAA6B,gCAAuBC,MAAA,CAAAC,MAAA,CAAO,IAAI,CAAC;EAErF,OAAON,QAAA,CAAS,YAAM;IAAA,IAAAO,qBAAA;IAChB,IAAAC,WAAA,CAAUZ,OAAS,aAATA,OAAS,uBAATA,OAAS,CAAAa,cAAA,CAAeC,KAAK,GAAG,OAAOd,OAAA,CAAQa,cAAe,CAAAC,KAAA;IAExE,IAAAF,WAAA,CAAUT,iBAAA,CAAkBW,KAAK,GAAG,OAAOX,iBAAkB,CAAAW,KAAA;IAE7D,IAAAF,WAAA,CAAUZ,OAAS,aAATA,OAAS,uBAATA,OAAS,CAAAe,aAAA,CAAcD,KAAK,GAAG,OAAOd,OAAA,CAAQe,aAAc,CAAAD,KAAA;IAEtE,IAAAF,WAAA,EAAAD,qBAAA,GAAUJ,YAAa,CAAAD,QAAA,cAAAK,qBAAA,uBAAbA,qBAAA,CAAuBG,KAAK,GAAG,OAAOP,YAAA,CAAaD,QAAS,CAAAQ,KAAA;IAEnE;EACT,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}