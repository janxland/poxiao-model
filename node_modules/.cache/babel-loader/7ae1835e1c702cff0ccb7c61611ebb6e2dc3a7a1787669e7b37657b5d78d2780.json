{"ast":null,"code":"/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { defineComponent, computed, createVNode } from 'vue';\nimport { Dialog } from '../../dialog/index.mjs';\nimport TImageItem from './ImageItem.mjs';\nimport TImageViewerUtils from './ImageViewerUtils.mjs';\nimport { usePrefixClass } from '../../hooks/useConfig.mjs';\nimport { useTNodeJSX } from '../../hooks/tnode.mjs';\nimport props from '../props.mjs';\nimport '../../dialog/dialog.mjs';\nimport '../../_chunks/dep-7deaa3b9.mjs';\nimport '../../_chunks/dep-8dbc9855.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../../dialog/props.mjs';\nimport '../../hooks/useGlobalIcon.mjs';\nimport '../../config-provider/useConfig.mjs';\nimport '../../_chunks/dep-66473aa9.mjs';\nimport '../../_chunks/dep-cb814df4.mjs';\nimport '../../_chunks/dep-cd533155.mjs';\nimport '../../_chunks/dep-715774e0.mjs';\nimport '../../_chunks/dep-5a5a1764.mjs';\nimport '../../_chunks/dep-37e3e644.mjs';\nimport '../../_chunks/dep-31dc0415.mjs';\nimport '../../_chunks/dep-e5142249.mjs';\nimport '../../_chunks/dep-c4f80cb4.mjs';\nimport '../../_chunks/dep-996b4900.mjs';\nimport '../../_chunks/dep-3108c312.mjs';\nimport '../../_chunks/dep-93498383.mjs';\nimport '../../_chunks/dep-36582a92.mjs';\nimport '../../_chunks/dep-a2db6df1.mjs';\nimport '../../_chunks/dep-0f89a1dd.mjs';\nimport '../../_chunks/dep-2adf18a2.mjs';\nimport '../../_chunks/dep-ab439391.mjs';\nimport '../../_chunks/dep-60d62610.mjs';\nimport '../../_chunks/dep-d4da440a.mjs';\nimport '../../_chunks/dep-013382c3.mjs';\nimport '../../_chunks/dep-ca764006.mjs';\nimport '../../_chunks/dep-2ee9d497.mjs';\nimport '../../_chunks/dep-c545db54.mjs';\nimport '../../_chunks/dep-3f15cb30.mjs';\nimport '../../_chunks/dep-fd2b6c64.mjs';\nimport '../../_chunks/dep-30b3f256.mjs';\nimport '../../_chunks/dep-b3734774.mjs';\nimport '../../_chunks/dep-a4a3ac25.mjs';\nimport '../../_chunks/dep-6861d388.mjs';\nimport '../../_chunks/dep-396d852b.mjs';\nimport '../../_chunks/dep-8a3fd140.mjs';\nimport '../../_chunks/dep-5db0da5c.mjs';\nimport '../../_common/js/global-config/default-config.mjs';\nimport '../../_common/js/global-config/locale/zh_CN.mjs';\nimport '../../_chunks/dep-bf19d9ba.mjs';\nimport '../../_chunks/dep-6963a882.mjs';\nimport '../../config-provider/type.mjs';\nimport '../../dialog/hooks.mjs';\nimport '../../_chunks/dep-8fdb2da0.mjs';\nimport '../../_chunks/dep-67e59a11.mjs';\nimport '../../_chunks/dep-10024af3.mjs';\nimport '../../_chunks/dep-8dae3bca.mjs';\nimport '../../_chunks/dep-d7c36095.mjs';\nimport '../../_chunks/dep-ec2f76cc.mjs';\nimport '../../_chunks/dep-4481f632.mjs';\nimport '../../button/index.mjs';\nimport '../../button/button.mjs';\nimport '../../_chunks/dep-b15588b0.mjs';\nimport '../../_chunks/dep-8e411f1c.mjs';\nimport '../../loading/index.mjs';\nimport '../../_chunks/dep-503b7515.mjs';\nimport '../../_chunks/dep-e32ac680.mjs';\nimport '../../_chunks/dep-1aab510a.mjs';\nimport '../../_chunks/dep-230c1b47.mjs';\nimport '../../_chunks/dep-cedc2818.mjs';\nimport '../../_chunks/dep-41db3bc9.mjs';\nimport '../../_chunks/dep-da57e0cf.mjs';\nimport '../../loading/plugin.mjs';\nimport '../../loading/loading.mjs';\nimport '../../_chunks/dep-b089fa1f.mjs';\nimport '../../loading/icon/gradient.mjs';\nimport '../../_common/js/loading/circle-adapter.mjs';\nimport '../../_common/js/utils/set-style.mjs';\nimport '../../_common/js/utils/helper.mjs';\nimport '../../_chunks/dep-807e1747.mjs';\nimport '../../_chunks/dep-413fbf03.mjs';\nimport '../../_chunks/dep-ac561548.mjs';\nimport '../../_chunks/dep-0e4de31a.mjs';\nimport '../../utils/dom.mjs';\nimport '../../utils/easing.mjs';\nimport '../../utils/render-tnode.mjs';\nimport '../../_chunks/dep-60ee423b.mjs';\nimport '../../_chunks/dep-f8909853.mjs';\nimport '../../_chunks/dep-d00e2e04.mjs';\nimport '../../_chunks/dep-96484611.mjs';\nimport '../../_chunks/dep-bd7cd061.mjs';\nimport '../../loading/props.mjs';\nimport '../../hooks/useTeleport.mjs';\nimport '../../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../../loading/type.mjs';\nimport '../../button/props.mjs';\nimport '../../hooks/useRipple.mjs';\nimport '../../hooks/useKeepAnimation.mjs';\nimport '../../utils/set-style.mjs';\nimport '../../hooks/useDisabled.mjs';\nimport '../../_chunks/dep-03dfef8f.mjs';\nimport '../../button/type.mjs';\nimport '../../hooks/useDestroyOnClose.mjs';\nimport '../../_common/js/utils/getScrollbarWidth.mjs';\nimport '../../hooks/usePopupManager.mjs';\nimport '../../_chunks/dep-12bcaf4a.mjs';\nimport '../../dialog/type.mjs';\nimport '../../dialog/plugin.mjs';\nimport '../hooks.mjs';\nimport '../../_common/js/input-number/number.mjs';\nimport '../../_common/js/input-number/large-number.mjs';\nimport '../../_common/js/log/log.mjs';\nimport '../../_common/js/log/index.mjs';\nimport '../../hooks/useImagePreviewUrl.mjs';\nimport '../../_common/js/upload/utils.mjs';\nimport './ImageModalIcon.mjs';\nimport '../../tooltip/index.mjs';\nimport '../../tooltip/tooltip.mjs';\nimport '../../tooltip/props.mjs';\nimport '../../popup/props.mjs';\nimport '../../popup/index.mjs';\nimport '../../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../../_chunks/dep-665d45b4.mjs';\nimport '../../_chunks/dep-27be073b.mjs';\nimport '../../hooks/index.mjs';\nimport '../../hooks/icon.mjs';\nimport '../../hooks/slot.mjs';\nimport '../../hooks/useCommonClassName.mjs';\nimport '../../hooks/useDefaultValue.mjs';\nimport '../../hooks/useVirtualScroll.mjs';\nimport '../../hooks/useVModel.mjs';\nimport '../../popup/container.mjs';\nimport '../../hooks/useResizeObserver.mjs';\nimport '../../popup/type.mjs';\nimport '../../tooltip/util.mjs';\nimport '../../tooltip/type.mjs';\nimport '../utils.mjs';\nvar TImageViewerModal = defineComponent({\n  name: \"TImageViewerModal\",\n  props: {\n    zIndex: Number,\n    visible: Boolean,\n    index: Number,\n    images: props.images,\n    scale: Number,\n    rotate: Number,\n    mirror: Number,\n    title: props.title,\n    currentImage: {\n      type: Object,\n      \"default\": function _default() {\n        return {};\n      }\n    },\n    onRotate: Function,\n    onZoomIn: Function,\n    onZoomOut: Function,\n    onMirror: Function,\n    onReset: Function,\n    onClose: props.onClose,\n    draggable: {\n      type: Boolean,\n      \"default\": true\n    },\n    viewerScale: {\n      type: Object,\n      \"default\": function _default() {\n        return {};\n      }\n    },\n    showOverlay: Boolean,\n    closeBtn: props.closeBtn\n  },\n  setup: function setup(props2) {\n    var classPrefix = usePrefixClass();\n    var renderJSX = useTNodeJSX();\n    var style = computed(function () {\n      return {\n        minWidth: props2.viewerScale.minWidth,\n        minHeight: props2.viewerScale.minHeight\n      };\n    });\n    return function () {\n      return createVNode(Dialog, {\n        \"destroyOnClose\": true,\n        \"attach\": \"body\",\n        \"onClose\": props2.onClose,\n        \"visible\": props2.visible,\n        \"placement\": \"center\",\n        \"mode\": \"modeless\",\n        \"width\": 1e3,\n        \"cancelBtn\": null,\n        \"confirmBtn\": null,\n        \"draggable\": props2.draggable,\n        \"zIndex\": props2.zIndex,\n        \"showOverlay\": props2.showOverlay,\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__dialog\"),\n        \"header\": renderJSX(\"title\", \"\"),\n        \"footer\": function footer() {\n          return createVNode(\"div\", {\n            \"class\": \"\".concat(classPrefix.value, \"-image-viewer-mini__footer\")\n          }, [createVNode(TImageViewerUtils, {\n            \"onZoomIn\": props2.onZoomIn,\n            \"onZoomOut\": props2.onZoomOut,\n            \"scale\": props2.scale,\n            \"currentImage\": props2.currentImage,\n            \"onRotate\": props2.onRotate,\n            \"onMirror\": props2.onMirror,\n            \"onReset\": props2.onReset\n          }, null)]);\n        }\n      }, {\n        \"default\": function _default() {\n          return [createVNode(\"div\", {\n            \"class\": \"\".concat(classPrefix.value, \"-image-viewer-mini__content\"),\n            \"style\": style.value\n          }, [createVNode(TImageItem, {\n            \"rotate\": props2.rotate,\n            \"scale\": props2.scale,\n            \"mirror\": props2.mirror,\n            \"src\": props2.currentImage.mainImage,\n            \"placementSrc\": props2.currentImage.thumbnail\n          }, null)])];\n        }\n      });\n    };\n  }\n});\nexport { TImageViewerModal as default };","map":{"version":3,"names":["TImageViewerModal","defineComponent","name","props","zIndex","Number","visible","Boolean","index","images","scale","rotate","mirror","title","currentImage","type","Object","_default","onRotate","Function","onZoomIn","onZoomOut","onMirror","onReset","onClose","draggable","viewerScale","showOverlay","closeBtn","setup","props2","classPrefix","usePrefixClass","renderJSX","useTNodeJSX","style","computed","minWidth","minHeight","createVNode","Dialog","concat","value","footer","TImageViewerUtils","TImageItem","mainImage","thumbnail"],"sources":["../../../src/image-viewer/base/ImageViewerModal.tsx"],"sourcesContent":["import { computed, defineComponent, PropType } from 'vue';\nimport TDialog from '../../dialog';\nimport TImageItem from './ImageItem';\nimport TImageViewerUtils from './ImageViewerUtils';\nimport { usePrefixClass } from '../../hooks/useConfig';\nimport { useTNodeJSX } from '../../hooks/tnode';\nimport { ImageInfo, TdImageViewerProps } from '../type';\nimport props from '../props';\n\nexport default defineComponent({\n  name: 'TImageViewerModal',\n  props: {\n    zIndex: Number,\n    visible: Boolean,\n    index: Number,\n    images: props.images,\n    scale: Number,\n    rotate: Number,\n    mirror: Number,\n    title: props.title,\n    currentImage: {\n      type: Object as PropType<ImageInfo>,\n      default() {\n        return {};\n      },\n    },\n    onRotate: Function as PropType<() => void>,\n    onZoomIn: Function as PropType<() => void>,\n    onZoomOut: Function as PropType<() => void>,\n    onMirror: Function as PropType<() => void>,\n    onReset: Function as PropType<() => void>,\n    onClose: props.onClose,\n    draggable: {\n      type: Boolean,\n      default: true,\n    },\n    viewerScale: {\n      type: Object as PropType<TdImageViewerProps['viewerScale']>,\n      default() {\n        return {};\n      },\n    },\n    showOverlay: Boolean,\n    closeBtn: props.closeBtn,\n  },\n  setup(props) {\n    const classPrefix = usePrefixClass();\n    const renderJSX = useTNodeJSX();\n    const style = computed(() => ({\n      minWidth: props.viewerScale.minWidth,\n      minHeight: props.viewerScale.minHeight,\n    }));\n\n    return () => (\n      <TDialog\n        destroyOnClose\n        attach=\"body\"\n        onClose={props.onClose}\n        visible={props.visible}\n        placement=\"center\"\n        mode=\"modeless\"\n        width={1000}\n        cancelBtn={null}\n        confirmBtn={null}\n        draggable={props.draggable}\n        zIndex={props.zIndex}\n        showOverlay={props.showOverlay}\n        class={`${classPrefix.value}-image-viewer__dialog`}\n        header={renderJSX('title', '')}\n        footer={() => (\n          <div class={`${classPrefix.value}-image-viewer-mini__footer`}>\n            <TImageViewerUtils\n              onZoomIn={props.onZoomIn}\n              onZoomOut={props.onZoomOut}\n              scale={props.scale}\n              currentImage={props.currentImage}\n              onRotate={props.onRotate}\n              onMirror={props.onMirror}\n              onReset={props.onReset}\n            />\n          </div>\n        )}\n      >\n        <div class={`${classPrefix.value}-image-viewer-mini__content`} style={style.value}>\n          <TImageItem\n            rotate={props.rotate}\n            scale={props.scale}\n            mirror={props.mirror}\n            src={props.currentImage.mainImage}\n            placementSrc={props.currentImage.thumbnail}\n          />\n        </div>\n      </TDialog>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}