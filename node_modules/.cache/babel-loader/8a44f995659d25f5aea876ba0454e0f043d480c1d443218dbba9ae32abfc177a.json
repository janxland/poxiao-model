{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-7deaa3b9.mjs';\nimport { _ as _slicedToArray } from '../_chunks/dep-b089fa1f.mjs';\nimport { isVNode, defineComponent, toRefs, computed, createVNode, mergeProps } from 'vue';\nimport props from './check-tag-props.mjs';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig.mjs';\nimport useVModel from '../hooks/useVModel.mjs';\nimport { useContent } from '../hooks/tnode.mjs';\nimport _Tag from './tag.mjs';\nimport { SPACE_REG, ENTER_REG } from '../_common/js/common.mjs';\nimport '../_chunks/dep-8dbc9855.mjs';\nimport '../_chunks/dep-8e411f1c.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-66473aa9.mjs';\nimport '../_chunks/dep-cb814df4.mjs';\nimport '../_chunks/dep-cd533155.mjs';\nimport '../_chunks/dep-715774e0.mjs';\nimport '../_chunks/dep-5a5a1764.mjs';\nimport '../_chunks/dep-37e3e644.mjs';\nimport '../_chunks/dep-31dc0415.mjs';\nimport '../_chunks/dep-e5142249.mjs';\nimport '../_chunks/dep-c4f80cb4.mjs';\nimport '../_chunks/dep-996b4900.mjs';\nimport '../_chunks/dep-3108c312.mjs';\nimport '../_chunks/dep-93498383.mjs';\nimport '../_chunks/dep-36582a92.mjs';\nimport '../_chunks/dep-a2db6df1.mjs';\nimport '../_chunks/dep-0f89a1dd.mjs';\nimport '../_chunks/dep-2adf18a2.mjs';\nimport '../_chunks/dep-ab439391.mjs';\nimport '../_chunks/dep-60d62610.mjs';\nimport '../_chunks/dep-d4da440a.mjs';\nimport '../_chunks/dep-013382c3.mjs';\nimport '../_chunks/dep-ca764006.mjs';\nimport '../_chunks/dep-2ee9d497.mjs';\nimport '../_chunks/dep-c545db54.mjs';\nimport '../_chunks/dep-3f15cb30.mjs';\nimport '../_chunks/dep-fd2b6c64.mjs';\nimport '../_chunks/dep-30b3f256.mjs';\nimport '../_chunks/dep-b3734774.mjs';\nimport '../_chunks/dep-a4a3ac25.mjs';\nimport '../_chunks/dep-6861d388.mjs';\nimport '../_chunks/dep-396d852b.mjs';\nimport '../_chunks/dep-8a3fd140.mjs';\nimport '../_chunks/dep-5db0da5c.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-bf19d9ba.mjs';\nimport '../_chunks/dep-6963a882.mjs';\nimport '../config-provider/type.mjs';\nimport '../_chunks/dep-bd7cd061.mjs';\nimport '../_chunks/dep-96484611.mjs';\nimport '../_chunks/dep-67e59a11.mjs';\nimport '../_chunks/dep-10024af3.mjs';\nimport '../_chunks/dep-f8909853.mjs';\nimport '../_chunks/dep-d00e2e04.mjs';\nimport '../_chunks/dep-ec2f76cc.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-60ee423b.mjs';\nimport 'tdesign-icons-vue-next';\nimport './props.mjs';\nimport '../hooks/useGlobalIcon.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar _CheckTag = defineComponent({\n  name: \"TCheckTag\",\n  props: props,\n  setup: function setup(props2) {\n    var componentName = usePrefixClass(\"tag\");\n    var _useCommonClassName = useCommonClassName(),\n      SIZE = _useCommonClassName.SIZE;\n    var renderContent = useContent();\n    var _toRefs = toRefs(props2),\n      checked = _toRefs.checked,\n      modelValue = _toRefs.modelValue;\n    var _useVModel = useVModel(checked, modelValue, props2.defaultChecked, props2.onChange, \"checked\"),\n      _useVModel2 = _slicedToArray(_useVModel, 2),\n      innerChecked = _useVModel2[0],\n      setInnerChecked = _useVModel2[1];\n    var tagClass = computed(function () {\n      return [\"\".concat(componentName.value), \"\".concat(componentName.value, \"--check\"), SIZE.value[props2.size], _defineProperty(_defineProperty({}, \"\".concat(componentName.value, \"--checked\"), innerChecked.value), \"\".concat(componentName.value, \"--disabled\"), props2.disabled)];\n    });\n    var checkTagProps = computed(function () {\n      var checkedProps = _objectSpread({\n        theme: \"primary\"\n      }, props2.checkedProps);\n      var uncheckedProps = _objectSpread({}, props2.uncheckedProps);\n      return innerChecked.value ? checkedProps : uncheckedProps;\n    });\n    var handleClick = function handleClick(_ref2) {\n      var e = _ref2.e;\n      if (!props2.disabled) {\n        var _props2$onClick;\n        (_props2$onClick = props2.onClick) === null || _props2$onClick === void 0 || _props2$onClick.call(props2, {\n          e: e\n        });\n        setInnerChecked(!innerChecked.value, {\n          e: e,\n          value: props2.value\n        });\n      }\n    };\n    var keyboardEventListener = function keyboardEventListener(e) {\n      var _e$key;\n      var code = e.code || ((_e$key = e.key) === null || _e$key === void 0 ? void 0 : _e$key.trim());\n      var isCheckedCode = SPACE_REG.test(code) || ENTER_REG.test(code);\n      if (isCheckedCode) {\n        e.preventDefault();\n        setInnerChecked(!innerChecked.value, {\n          e: e,\n          value: props2.value\n        });\n      }\n    };\n    var onCheckboxFocus = function onCheckboxFocus(e) {\n      e.currentTarget.addEventListener(\"keydown\", keyboardEventListener);\n    };\n    var onCheckboxBlur = function onCheckboxBlur(e) {\n      e.currentTarget.removeEventListener(\"keydown\", keyboardEventListener);\n    };\n    return function () {\n      var tagContent = renderContent(\"default\", \"content\");\n      return createVNode(_Tag, mergeProps({\n        \"class\": tagClass.value,\n        \"disabled\": props2.disabled,\n        \"tabindex\": props2.disabled ? void 0 : \"0\",\n        \"onFocus\": onCheckboxFocus,\n        \"onBlur\": onCheckboxBlur\n      }, checkTagProps.value, {\n        \"onClick\": handleClick\n      }), _isSlot(tagContent) ? tagContent : {\n        \"default\": function _default() {\n          return [tagContent];\n        }\n      });\n    };\n  }\n});\nexport { _CheckTag as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","_CheckTag","defineComponent","name","props","setup","props2","componentName","usePrefixClass","_useCommonClassName","useCommonClassName","SIZE","renderContent","useContent","_toRefs","toRefs","checked","modelValue","_useVModel","useVModel","defaultChecked","onChange","_useVModel2","_slicedToArray","innerChecked","setInnerChecked","tagClass","computed","concat","value","size","_defineProperty","disabled","checkTagProps","checkedProps","_objectSpread","theme","uncheckedProps","handleClick","_ref2","e","_props2$onClick","onClick","keyboardEventListener","_e$key","code","key","trim","isCheckedCode","SPACE_REG","test","ENTER_REG","preventDefault","onCheckboxFocus","currentTarget","addEventListener","onCheckboxBlur","removeEventListener","tagContent","createVNode","_Tag","mergeProps","_default"],"sources":["../../src/tag/check-tag.tsx"],"sourcesContent":["import { defineComponent, computed, toRefs } from 'vue';\nimport props from './check-tag-props';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport useVModel from '../hooks/useVModel';\nimport { useContent } from '../hooks/tnode';\nimport Tag from './tag';\nimport { TdCheckTagProps, TdTagProps } from './type';\nimport { ENTER_REG, SPACE_REG } from '../_common/js/common';\n\nexport default defineComponent({\n  name: 'TCheckTag',\n\n  props,\n\n  setup(props: TdCheckTagProps) {\n    const componentName = usePrefixClass('tag');\n    const { SIZE } = useCommonClassName();\n    const renderContent = useContent();\n\n    const { checked, modelValue } = toRefs(props);\n    const [innerChecked, setInnerChecked] = useVModel(\n      checked,\n      modelValue,\n      props.defaultChecked,\n      props.onChange,\n      'checked',\n    );\n\n    const tagClass = computed(() => {\n      return [\n        `${componentName.value}`,\n        `${componentName.value}--check`,\n        SIZE.value[props.size],\n        {\n          [`${componentName.value}--checked`]: innerChecked.value,\n          [`${componentName.value}--disabled`]: props.disabled,\n        },\n      ];\n    });\n\n    const checkTagProps = computed(() => {\n      const checkedProps: TdTagProps = { theme: 'primary', ...props.checkedProps };\n      const uncheckedProps: TdTagProps = { ...props.uncheckedProps };\n      return innerChecked.value ? checkedProps : uncheckedProps;\n    });\n\n    const handleClick = ({ e }: { e: MouseEvent }) => {\n      if (!props.disabled) {\n        props.onClick?.({ e });\n        setInnerChecked(!innerChecked.value, { e, value: props.value });\n      }\n    };\n\n    const keyboardEventListener = (e: KeyboardEvent) => {\n      const code = e.code || e.key?.trim();\n      const isCheckedCode = SPACE_REG.test(code) || ENTER_REG.test(code);\n      if (isCheckedCode) {\n        e.preventDefault();\n        setInnerChecked(!innerChecked.value, { e, value: props.value });\n      }\n    };\n\n    const onCheckboxFocus = (e: FocusEvent) => {\n      e.currentTarget.addEventListener('keydown', keyboardEventListener);\n    };\n\n    const onCheckboxBlur = (e: FocusEvent) => {\n      e.currentTarget.removeEventListener('keydown', keyboardEventListener);\n    };\n\n    return () => {\n      const tagContent = renderContent('default', 'content');\n      return (\n        <Tag\n          class={tagClass.value}\n          disabled={props.disabled}\n          tabindex={props.disabled ? undefined : '0'}\n          onFocus={onCheckboxFocus}\n          onBlur={onCheckboxBlur}\n          {...checkTagProps.value}\n          onClick={handleClick}\n        >\n          {tagContent}\n        </Tag>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}