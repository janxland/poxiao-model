{"ast":null,"code":"/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-7deaa3b9.mjs';\nimport { defineComponent, ref, watch, createVNode, mergeProps } from 'vue';\nimport { Input } from '../input/index.mjs';\nimport './utils/index.mjs';\nimport { useBaseClassName } from './hooks.mjs';\nimport { useCommonClassName } from '../hooks/useConfig.mjs';\nimport { Color } from '../_common/js/color-picker/color.mjs';\nimport '../_chunks/dep-8dbc9855.mjs';\nimport '../input/input.mjs';\nimport '../_chunks/dep-807e1747.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../input/props.mjs';\nimport '../form/hooks.mjs';\nimport '../hooks/useGlobalIcon.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-66473aa9.mjs';\nimport '../_chunks/dep-cb814df4.mjs';\nimport '../_chunks/dep-cd533155.mjs';\nimport '../_chunks/dep-715774e0.mjs';\nimport '../_chunks/dep-5a5a1764.mjs';\nimport '../_chunks/dep-37e3e644.mjs';\nimport '../_chunks/dep-31dc0415.mjs';\nimport '../_chunks/dep-e5142249.mjs';\nimport '../_chunks/dep-c4f80cb4.mjs';\nimport '../_chunks/dep-996b4900.mjs';\nimport '../_chunks/dep-3108c312.mjs';\nimport '../_chunks/dep-93498383.mjs';\nimport '../_chunks/dep-36582a92.mjs';\nimport '../_chunks/dep-a2db6df1.mjs';\nimport '../_chunks/dep-0f89a1dd.mjs';\nimport '../_chunks/dep-2adf18a2.mjs';\nimport '../_chunks/dep-ab439391.mjs';\nimport '../_chunks/dep-60d62610.mjs';\nimport '../_chunks/dep-d4da440a.mjs';\nimport '../_chunks/dep-013382c3.mjs';\nimport '../_chunks/dep-ca764006.mjs';\nimport '../_chunks/dep-2ee9d497.mjs';\nimport '../_chunks/dep-c545db54.mjs';\nimport '../_chunks/dep-3f15cb30.mjs';\nimport '../_chunks/dep-fd2b6c64.mjs';\nimport '../_chunks/dep-30b3f256.mjs';\nimport '../_chunks/dep-b3734774.mjs';\nimport '../_chunks/dep-a4a3ac25.mjs';\nimport '../_chunks/dep-6861d388.mjs';\nimport '../_chunks/dep-396d852b.mjs';\nimport '../_chunks/dep-8a3fd140.mjs';\nimport '../_chunks/dep-5db0da5c.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-bf19d9ba.mjs';\nimport '../_chunks/dep-6963a882.mjs';\nimport '../config-provider/type.mjs';\nimport '../hooks/tnode.mjs';\nimport '../_chunks/dep-f8909853.mjs';\nimport '../_chunks/dep-67e59a11.mjs';\nimport '../_chunks/dep-10024af3.mjs';\nimport '../_chunks/dep-d00e2e04.mjs';\nimport '../_chunks/dep-ec2f76cc.mjs';\nimport '../_chunks/dep-96484611.mjs';\nimport '../_chunks/dep-bd7cd061.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-60ee423b.mjs';\nimport '../input/useInput.mjs';\nimport '../_chunks/dep-b089fa1f.mjs';\nimport '../_chunks/dep-8e411f1c.mjs';\nimport '../form/const.mjs';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../input/useLengthLimit.mjs';\nimport '../_common/js/log/index.mjs';\nimport '../_common/js/utils/helper.mjs';\nimport '../_chunks/dep-b15588b0.mjs';\nimport '../_chunks/dep-413fbf03.mjs';\nimport '../_chunks/dep-ac561548.mjs';\nimport '../_chunks/dep-0e4de31a.mjs';\nimport '../input/useInputEventHandler.mjs';\nimport '../input/useInputWidth.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../input/input-group.mjs';\nimport '../input/input-group-props.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../input/type.mjs';\nimport '../_common/js/color-picker/index.mjs';\nimport '../_common/js/color-picker/cmyk.mjs';\nimport '../_common/js/color-picker/draggable.mjs';\nimport '../_chunks/dep-12bcaf4a.mjs';\nimport '../_chunks/dep-40e59b4b.mjs';\nvar DefaultTrigger = defineComponent({\n  name: \"DefaultTrigger\",\n  inheritAttrs: false,\n  props: {\n    color: {\n      type: String,\n      \"default\": \"\"\n    },\n    disabled: {\n      type: Boolean,\n      \"default\": false\n    },\n    clearable: {\n      type: Boolean,\n      \"default\": false\n    },\n    inputProps: {\n      type: Object,\n      \"default\": function _default() {\n        return {\n          autoWidth: true\n        };\n      }\n    },\n    onTriggerChange: {\n      type: Function,\n      \"default\": function _default() {\n        return function () {};\n      }\n    },\n    size: {\n      type: String,\n      \"default\": \"medium\"\n    }\n  },\n  setup: function setup(props) {\n    var baseClassName = useBaseClassName();\n    var value = ref(props.color);\n    var _useCommonClassName = useCommonClassName(),\n      sizeClassNames = _useCommonClassName.SIZE;\n    watch(function () {\n      return [props.color];\n    }, function () {\n      return value.value = props.color;\n    });\n    var handleChange = function handleChange(input) {\n      if (input === props.color) {\n        return;\n      }\n      if (input && !Color.isValid(input)) {\n        value.value = props.color;\n      } else {\n        value.value = input;\n      }\n      props.onTriggerChange(value.value);\n    };\n    return {\n      baseClassName: baseClassName,\n      value: value,\n      handleChange: handleChange,\n      sizeClassNames: sizeClassNames\n    };\n  },\n  render: function render() {\n    var _this = this;\n    var baseClassName = this.baseClassName,\n      sizeClassNames = this.sizeClassNames;\n    var inputSlots = {\n      label: function label() {\n        return createVNode(\"div\", {\n          \"class\": [\"\".concat(baseClassName, \"__trigger--default__color\"), \"\".concat(baseClassName, \"--bg-alpha\")]\n        }, [createVNode(\"span\", {\n          \"class\": [\"color-inner\", _defineProperty({}, sizeClassNames[_this.size], _this.size !== \"medium\")],\n          \"style\": {\n            background: _this.value\n          }\n        }, null)]);\n      }\n    };\n    return createVNode(Input, mergeProps({\n      \"clearable\": this.clearable,\n      \"size\": this.size,\n      \"modelValue\": _this.value,\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return _this.value = $event;\n      },\n      \"disabled\": this.disabled,\n      \"onBlur\": this.handleChange\n    }, this.inputProps), inputSlots);\n  }\n});\nexport { DefaultTrigger as default };","map":{"version":3,"names":["DefaultTrigger","defineComponent","name","inheritAttrs","props","color","type","String","disabled","Boolean","clearable","inputProps","Object","_default","autoWidth","onTriggerChange","Function","size","setup","baseClassName","useBaseClassName","value","ref","_useCommonClassName","useCommonClassName","sizeClassNames","SIZE","watch","handleChange","input","Color","isValid","render","_this","inputSlots","label","createVNode","concat","_defineProperty","background","Input","mergeProps","onUpdateModelValue","$event"],"sources":["../../src/color-picker/trigger.tsx"],"sourcesContent":["import { defineComponent, PropType, ref, watch } from 'vue';\nimport TInput from '../input';\nimport { Color } from './utils';\nimport { TdColorPickerProps } from './type';\nimport { useBaseClassName } from './hooks';\nimport { useCommonClassName } from '../hooks/useConfig';\n\nexport default defineComponent({\n  name: 'DefaultTrigger',\n  inheritAttrs: false,\n  props: {\n    color: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    clearable: {\n      type: Boolean,\n      default: false,\n    },\n    inputProps: {\n      type: Object as PropType<TdColorPickerProps['inputProps']>,\n      default: () => {\n        return {\n          autoWidth: true,\n        };\n      },\n    },\n    onTriggerChange: {\n      type: Function,\n      default: () => {\n        return () => {};\n      },\n    },\n    size: {\n      type: String as PropType<TdColorPickerProps['size']>,\n      default: 'medium',\n    },\n  },\n  setup(props) {\n    const baseClassName = useBaseClassName();\n    const value = ref(props.color);\n    const { SIZE: sizeClassNames } = useCommonClassName();\n    watch(\n      () => [props.color],\n      () => (value.value = props.color),\n    );\n\n    const handleChange = (input: string) => {\n      if (input === props.color) {\n        return;\n      }\n      if (input && !Color.isValid(input)) {\n        value.value = props.color;\n      } else {\n        value.value = input;\n      }\n      props.onTriggerChange(value.value);\n    };\n\n    return {\n      baseClassName,\n      value,\n      handleChange,\n      sizeClassNames,\n    };\n  },\n\n  render() {\n    const { baseClassName, sizeClassNames } = this;\n\n    const inputSlots = {\n      label: () => {\n        return (\n          <div class={[`${baseClassName}__trigger--default__color`, `${baseClassName}--bg-alpha`]}>\n            <span\n              class={[\n                'color-inner',\n                {\n                  [sizeClassNames[this.size]]: this.size !== 'medium',\n                },\n              ]}\n              style={{\n                background: this.value,\n              }}\n            ></span>\n          </div>\n        );\n      },\n    };\n    return (\n      <TInput\n        clearable={this.clearable}\n        size={this.size}\n        v-slots={inputSlots}\n        v-model={this.value}\n        disabled={this.disabled}\n        onBlur={this.handleChange}\n        {...this.inputProps}\n      />\n    );\n  },\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,IAAAA,cAAA,GAAeC,eAAgB;EAC7BC,IAAM;EACNC,YAAc;EACdC,KAAO;IACLC,KAAO;MACLC,IAAM,EAAAC,MAAA;MACN,SAAS;KACX;IACAC,QAAU;MACRF,IAAM,EAAAG,OAAA;MACN,SAAS;KACX;IACAC,SAAW;MACTJ,IAAM,EAAAG,OAAA;MACN,SAAS;KACX;IACAE,UAAY;MACVL,IAAM,EAAAM,MAAA;MACN,SAAS,WAAAC,SAAA,EAAM;QACN;UACLC,SAAW;SACb;MACF;KACF;IACAC,eAAiB;MACfT,IAAM,EAAAU,QAAA;MACN,SAAS,WAAAH,SAAA,EAAM;QACb,OAAO,YAAM,EAAC;MAChB;KACF;IACAI,IAAM;MACJX,IAAM,EAAAC,MAAA;MACN,SAAS;IACX;GACF;EACAW,KAAA,WAAAA,KAAMA,CAAAd,KAAO;IACX,IAAMe,aAAA,GAAgBC,gBAAiB;IACjC,IAAAC,KAAA,GAAQC,GAAI,CAAAlB,KAAA,CAAMC,KAAK;IAC7B,IAAAkB,mBAAA,GAAiCC,kBAAmB;MAAtCC,cAAe,GAAAF,mBAAA,CAArBG,IAAA;IACRC,KAAA,CACE;MAAA,OAAM,CAACvB,KAAA,CAAMC,KAAK;KAClB;MAAA,OAAOgB,KAAM,CAAAA,KAAA,GAAQjB,KAAM,CAAAC,KAAA;IAAA,CAC7B;IAEM,IAAAuB,YAAA,GAAe,SAAfA,aAAgBC,KAAkB;MAClC,IAAAA,KAAA,KAAUzB,KAAA,CAAMC,KAAO;QACzB;MACF;MACA,IAAIwB,KAAS,KAACC,KAAM,CAAAC,OAAA,CAAQF,KAAK,CAAG;QAClCR,KAAA,CAAMA,KAAA,GAAQjB,KAAM,CAAAC,KAAA;MACtB,CAAO;QACLgB,KAAA,CAAMA,KAAQ,GAAAQ,KAAA;MAChB;MACMzB,KAAA,CAAAW,eAAA,CAAgBM,KAAA,CAAMA,KAAK;KACnC;IAEO;MACLF,aAAA,EAAAA,aAAA;MACAE,KAAA,EAAAA,KAAA;MACAO,YAAA,EAAAA,YAAA;MACAH,cAAA,EAAAA;KACF;GACF;EAEAO,MAAS,WAAAA,OAAA;IAAA,IAAAC,KAAA;IACD,IAAEd,aAAe,GAAmB,KAAlCA,aAAe;MAAAM,cAAA,GAAmB,KAAnBA,cAAA;IAEvB,IAAMS,UAAa;MACjBC,KAAA,EAAO,SAAAA,MAAA,EAAM;QAET,OAAAC,WAAA;UAAA,SAAY,IAAAC,MAAA,CAAIlB,aAA0C,mCAAAkB,MAAA,CAAGlB,aAAyB;QAAA,IAAAiB,WAAA;UAAA,SAE3E,CACL,eAAAE,eAAA,KAEGb,cAAA,CAAeQ,KAAK,CAAAhB,IAAA,GAAQgB,KAAA,CAAKhB,IAAS;iBAGxC;YACLsB,UAAA,EAAYN,KAAK,CAAAZ;UACnB;QAAA;MAIR;KACF;IAEE,OAAAe,WAAA,CAAAI,KAAA,EAAAC,UAAA;MAAA,WACa,OAAK/B,SAAA;YACV,OAAKO,IAAA;kBAEF,EAAAgB,KAAK,CAAAZ,KAAA;MAAA,gCAAAqB,mBAAAC,MAAA;QAAA,OAALV,KAAK,CAAAZ,KAAA,GAAAsB,MAAA;MAAA;MAAA,UACJ,MAAK,CAAAnC,QAAA;MAAA,UACP,IAAK,CAAAoB;IAAA,GACT,KAAKjB,UACX,GALWuB,UAAA;EAOf;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}