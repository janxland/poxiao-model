{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _slicedToArray } from '../_chunks/dep-b089fa1f.mjs';\nimport { _ as _defineProperty } from '../_chunks/dep-7deaa3b9.mjs';\nimport { defineComponent, computed, createVNode, mergeProps } from 'vue';\nimport props from './props.mjs';\nimport { useContent, useTNodeJSX } from '../hooks/tnode.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport '../_chunks/dep-8e411f1c.mjs';\nimport '../_chunks/dep-8dbc9855.mjs';\nimport '../_chunks/dep-66473aa9.mjs';\nimport '../_chunks/dep-cb814df4.mjs';\nimport '../_chunks/dep-cd533155.mjs';\nimport '../_chunks/dep-715774e0.mjs';\nimport '../_chunks/dep-5a5a1764.mjs';\nimport '../_chunks/dep-f8909853.mjs';\nimport '../_chunks/dep-67e59a11.mjs';\nimport '../_chunks/dep-ab439391.mjs';\nimport '../_chunks/dep-60d62610.mjs';\nimport '../_chunks/dep-10024af3.mjs';\nimport '../_chunks/dep-2adf18a2.mjs';\nimport '../_chunks/dep-d00e2e04.mjs';\nimport '../_chunks/dep-ec2f76cc.mjs';\nimport '../_chunks/dep-96484611.mjs';\nimport '../_chunks/dep-bd7cd061.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-60ee423b.mjs';\nimport '../_chunks/dep-c545db54.mjs';\nimport '../_chunks/dep-d4da440a.mjs';\nimport '../_chunks/dep-013382c3.mjs';\nimport '../_chunks/dep-3108c312.mjs';\nimport '../_chunks/dep-ca764006.mjs';\nimport '../_chunks/dep-996b4900.mjs';\nimport '../_chunks/dep-3f15cb30.mjs';\nimport '../_chunks/dep-0f89a1dd.mjs';\nimport '../_chunks/dep-30b3f256.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-37e3e644.mjs';\nimport '../_chunks/dep-31dc0415.mjs';\nimport '../_chunks/dep-e5142249.mjs';\nimport '../_chunks/dep-c4f80cb4.mjs';\nimport '../_chunks/dep-93498383.mjs';\nimport '../_chunks/dep-36582a92.mjs';\nimport '../_chunks/dep-a2db6df1.mjs';\nimport '../_chunks/dep-2ee9d497.mjs';\nimport '../_chunks/dep-fd2b6c64.mjs';\nimport '../_chunks/dep-b3734774.mjs';\nimport '../_chunks/dep-a4a3ac25.mjs';\nimport '../_chunks/dep-6861d388.mjs';\nimport '../_chunks/dep-396d852b.mjs';\nimport '../_chunks/dep-8a3fd140.mjs';\nimport '../_chunks/dep-5db0da5c.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-bf19d9ba.mjs';\nimport '../_chunks/dep-6963a882.mjs';\nimport '../config-provider/type.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nvar _Badge = defineComponent({\n  name: \"TBadge\",\n  inheritAttrs: false,\n  props: _objectSpread({}, props),\n  setup: function setup(props2, _ref) {\n    var attrs = _ref.attrs;\n    var renderContent = useContent();\n    var renderTNodeJSX = useTNodeJSX();\n    var displayCount = computed(function () {\n      var count = renderTNodeJSX(\"count\");\n      if (Number.isNaN(Number(count))) {\n        return count;\n      }\n      count = Number(props2.count);\n      return count > props2.maxCount ? \"\".concat(props2.maxCount, \"+\") : count;\n    });\n    var getOffset = function getOffset() {\n      if (!props2.offset) return {};\n      var _props2$offset = _slicedToArray(props2.offset, 2),\n        xOffset = _props2$offset[0],\n        yOffset = _props2$offset[1];\n      xOffset = Number.isNaN(Number(xOffset)) ? xOffset : \"\".concat(xOffset, \"px\");\n      yOffset = Number.isNaN(Number(yOffset)) ? yOffset : \"\".concat(yOffset, \"px\");\n      return {\n        xOffset: xOffset,\n        yOffset: yOffset\n      };\n    };\n    var classPrefix = usePrefixClass();\n    var COMPONENT_NAME = usePrefixClass(\"badge\");\n    var isHidden = computed(function () {\n      return !props2.showZero && (displayCount.value === 0 || displayCount.value === \"0\");\n    });\n    var badgeClassNames = computed(function () {\n      return [_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, \"\".concat(COMPONENT_NAME.value, \"--dot\"), !!props2.dot), \"\".concat(COMPONENT_NAME.value, \"--circle\"), !props2.dot && props2.shape === \"circle\"), \"\".concat(COMPONENT_NAME.value, \"--round\"), !props2.dot && props2.shape === \"round\"), \"\".concat(classPrefix.value, \"-size-s\"), props2.size === \"small\")];\n    });\n    var inlineStyle = computed(function () {\n      var _getOffset = getOffset(),\n        xOffset = _getOffset.xOffset,\n        yOffset = _getOffset.yOffset;\n      return {\n        background: \"\".concat(props2.color),\n        right: xOffset,\n        top: yOffset\n      };\n    });\n    return function () {\n      return createVNode(\"div\", mergeProps({\n        \"class\": COMPONENT_NAME.value\n      }, attrs), [renderContent(\"default\", \"content\"), isHidden.value ? null : createVNode(\"sup\", {\n        \"class\": badgeClassNames.value,\n        \"style\": inlineStyle.value\n      }, [props2.dot ? null : displayCount.value])]);\n    };\n  }\n});\nexport { _Badge as default };","map":{"version":3,"names":["_Badge","defineComponent","name","inheritAttrs","props","_objectSpread","setup","props2","_ref","attrs","renderContent","useContent","renderTNodeJSX","useTNodeJSX","displayCount","computed","count","Number","isNaN","maxCount","concat","getOffset","offset","_props2$offset","_slicedToArray","xOffset","yOffset","classPrefix","usePrefixClass","COMPONENT_NAME","isHidden","showZero","value","badgeClassNames","_defineProperty","dot","shape","size","inlineStyle","_getOffset","background","color","right","top","createVNode","mergeProps"],"sources":["../../src/badge/badge.tsx"],"sourcesContent":["import { defineComponent, computed } from 'vue';\nimport props from './props';\nimport { useContent, useTNodeJSX } from '../hooks/tnode';\nimport { usePrefixClass } from '../hooks/useConfig';\n\nexport default defineComponent({\n  name: 'TBadge',\n  inheritAttrs: false,\n  props: { ...props },\n  setup(props, { attrs }) {\n    const renderContent = useContent();\n    const renderTNodeJSX = useTNodeJSX();\n\n    /** 内容计算相关逻辑 start */\n    const displayCount = computed(() => {\n      let count = renderTNodeJSX('count');\n\n      if (Number.isNaN(Number(count))) {\n        return count;\n      }\n      count = Number(props.count);\n      return count > props.maxCount ? `${props.maxCount}+` : count;\n    });\n\n    const getOffset = () => {\n      if (!props.offset) return {};\n      let [xOffset, yOffset]: Array<string | number> = props.offset;\n      xOffset = Number.isNaN(Number(xOffset)) ? xOffset : `${xOffset}px`;\n      yOffset = Number.isNaN(Number(yOffset)) ? yOffset : `${yOffset}px`;\n      return { xOffset, yOffset };\n    };\n    /** 内容计算相关逻辑 end */\n\n    /** 样式计算相关逻辑 start */\n    const classPrefix = usePrefixClass();\n    const COMPONENT_NAME = usePrefixClass('badge');\n    const isHidden = computed(() => {\n      return !props.showZero && (displayCount.value === 0 || displayCount.value === '0');\n    });\n\n    const badgeClassNames = computed(() => {\n      return [\n        {\n          [`${COMPONENT_NAME.value}--dot`]: !!props.dot,\n          [`${COMPONENT_NAME.value}--circle`]: !props.dot && props.shape === 'circle',\n          [`${COMPONENT_NAME.value}--round`]: !props.dot && props.shape === 'round',\n          [`${classPrefix.value}-size-s`]: props.size === 'small',\n        },\n      ];\n    });\n\n    const inlineStyle = computed(() => {\n      const { xOffset, yOffset } = getOffset();\n      return {\n        background: `${props.color}`,\n        right: xOffset,\n        top: yOffset,\n      };\n    });\n    /** 样式计算相关逻辑 end */\n\n    return () => (\n      <div class={COMPONENT_NAME.value} {...attrs}>\n        {renderContent('default', 'content')}\n        {isHidden.value ? null : (\n          <sup class={badgeClassNames.value} style={inlineStyle.value}>\n            {props.dot ? null : displayCount.value}\n          </sup>\n        )}\n      </div>\n    );\n  },\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,IAAAA,MAAA,GAAeC,eAAgB;EAC7BC,IAAM;EACNC,YAAc;EACdC,KAAA,EAAAC,aAAA,CAAY,IAAAD,KAAM;EAClBE,KAAM,WAAAA,MAAAC,MAAA,EAAAC,IAAA,EAAkB;IAAA,IAATC,KAAA,GAAAD,IAAA,CAAAC,KAAA;IACb,IAAMC,aAAA,GAAgBC,UAAW;IACjC,IAAMC,cAAA,GAAiBC,WAAY;IAG7B,IAAAC,YAAA,GAAeC,QAAA,CAAS,YAAM;MAC9B,IAAAC,KAAA,GAAQJ,cAAA,CAAe,OAAO;MAElC,IAAIK,MAAO,CAAAC,KAAA,CAAMD,MAAO,CAAAD,KAAK,CAAC,CAAG;QACxB,OAAAA,KAAA;MACT;MACQA,KAAA,GAAAC,MAAA,CAAOV,MAAA,CAAMS,KAAK;MAC1B,OAAOA,KAAQ,GAAAT,MAAA,CAAMY,QAAW,MAAAC,MAAA,CAAGb,MAAA,CAAMY,QAAc,SAAAH,KAAA;IACzD,CAAC;IAED,IAAMK,SAAA,GAAY,SAAZA,UAAA,EAAkB;MACtB,IAAI,CAACd,MAAM,CAAAe,MAAA,EAAQ,OAAO,EAAC;MAC3B,IAAAC,cAAA,GAAAC,cAAA,CAAiDjB,MAAM,CAAAe,MAAA;QAAlDG,OAAA,GAAAF,cAAA;QAASG,OAAO,GAAAH,cAAA;MACrBE,OAAA,GAAUR,MAAA,CAAOC,KAAM,CAAAD,MAAA,CAAOQ,OAAO,CAAC,IAAIA,OAAA,MAAAL,MAAA,CAAaK,OAAA;MACvDC,OAAA,GAAUT,MAAA,CAAOC,KAAM,CAAAD,MAAA,CAAOS,OAAO,CAAC,IAAIA,OAAA,MAAAN,MAAA,CAAaM,OAAA;MAChD;QAAED,OAAA,EAAAA,OAAA;QAASC,OAAQ,EAARA;OAAQ;KAC5B;IAIA,IAAMC,WAAA,GAAcC,cAAe;IAC7B,IAAAC,cAAA,GAAiBD,cAAA,CAAe,OAAO;IACvC,IAAAE,QAAA,GAAWf,QAAA,CAAS,YAAM;MAC9B,OAAO,CAACR,MAAM,CAAAwB,QAAA,KAAajB,YAAA,CAAakB,KAAU,UAAKlB,YAAA,CAAakB,KAAU;IAChF,CAAC;IAEK,IAAAC,eAAA,GAAkBlB,QAAA,CAAS,YAAM;MAC9B,QAAAmB,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,QAAAd,MAAA,CAECS,cAAA,CAAeG,KAAe,aAAC,CAACzB,MAAM,CAAA4B,GAAA,MAAAf,MAAA,CACtCS,cAAe,CAAAG,KAAA,EAAkB,cAACzB,MAAM,CAAA4B,GAAA,IAAO5B,MAAA,CAAM6B,KAAU,mBAAAhB,MAAA,CAC/DS,cAAe,CAAAG,KAAA,EAAiB,aAACzB,MAAM,CAAA4B,GAAA,IAAO5B,MAAA,CAAM6B,KAAU,kBAAAhB,MAAA,CAC9DO,WAAY,CAAAK,KAAA,cAAiBzB,MAAA,CAAM8B,IAAS,aAEpD;IACF,CAAC;IAEK,IAAAC,WAAA,GAAcvB,QAAA,CAAS,YAAM;MACjC,IAAAwB,UAAA,GAA6BlB,SAAU;QAA/BI,OAAA,GAAAc,UAAA,CAAAd,OAAA;QAASC,OAAQ,GAAAa,UAAA,CAARb,OAAQ;MAClB;QACLc,UAAA,KAAApB,MAAA,CAAeb,MAAM,CAAAkC,KAAA;QACrBC,KAAO,EAAAjB,OAAA;QACPkB,GAAK,EAAAjB;OACP;IACF,CAAC;IAGD,OAAO;MAAA,OAAAkB,WAAA,QAAAC,UAAA;QAAA,SACOhB,cAAA,CAAeG;MAAW,GAAAvB,KAAA,IACnCC,aAAA,CAAc,WAAW,SAAS,GAClCoB,QAAA,CAASE,KAAQ,UAAAY,WAAA;QAAA,OACJ,EAAAX,eAAgB,CAAAD,KAAA;QAAA,SAAcM,WAAA,CAAYN;OACnD,GAAAzB,MAAM,CAAA4B,GAAA,GAAM,IAAO,GAAArB,YAAA,CAAakB,KAAA,CADlC;KAHJ;EASL;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}