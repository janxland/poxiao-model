{"ast":null,"code":"/**\n * tdesign v1.9.3\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { defineComponent, computed, createVNode } from 'vue';\nimport { Dialog } from '../../dialog/index.mjs';\nimport TImageItem from './ImageItem.mjs';\nimport TImageViewerUtils from './ImageViewerUtils.mjs';\nimport { usePrefixClass } from '../../hooks/useConfig.mjs';\nimport { useTNodeJSX } from '../../hooks/tnode.mjs';\nimport props from '../props.mjs';\nimport '../../dialog/dialog.mjs';\nimport '../../_chunks/dep-a5dfe884.mjs';\nimport '../../_chunks/dep-d33c5d88.mjs';\nimport 'tdesign-icons-vue-next';\nimport '../../dialog/props.mjs';\nimport '../../hooks/useGlobalIcon.mjs';\nimport '../../config-provider/useConfig.mjs';\nimport '../../_chunks/dep-6e7655db.mjs';\nimport '../../_chunks/dep-437d10c6.mjs';\nimport '../../_chunks/dep-6ad32365.mjs';\nimport '../../_chunks/dep-62ad5a36.mjs';\nimport '../../_chunks/dep-f76ec896.mjs';\nimport '../../_chunks/dep-db7324ec.mjs';\nimport '../../_chunks/dep-d090226f.mjs';\nimport '../../_chunks/dep-c31faaef.mjs';\nimport '../../_chunks/dep-5f15268c.mjs';\nimport '../../_chunks/dep-c70e40ae.mjs';\nimport '../../_chunks/dep-4382b808.mjs';\nimport '../../_chunks/dep-0894e3ae.mjs';\nimport '../../_chunks/dep-0ced8e2e.mjs';\nimport '../../_chunks/dep-fb9941c5.mjs';\nimport '../../_chunks/dep-75628739.mjs';\nimport '../../_chunks/dep-1494b54a.mjs';\nimport '../../_chunks/dep-0e5b2b76.mjs';\nimport '../../_chunks/dep-f3a27c4c.mjs';\nimport '../../_chunks/dep-e3204123.mjs';\nimport '../../_chunks/dep-10c900d8.mjs';\nimport '../../_chunks/dep-1c5d24dd.mjs';\nimport '../../_chunks/dep-b6946d89.mjs';\nimport '../../_chunks/dep-6ea85de8.mjs';\nimport '../../_chunks/dep-92ce9c6c.mjs';\nimport '../../_chunks/dep-3b84887f.mjs';\nimport '../../_chunks/dep-5d7be5c6.mjs';\nimport '../../_chunks/dep-0223e29d.mjs';\nimport '../../_chunks/dep-3d61d8a6.mjs';\nimport '../../_chunks/dep-88c02450.mjs';\nimport '../../_chunks/dep-f7067d3d.mjs';\nimport '../../_chunks/dep-cd1b7f96.mjs';\nimport '../../_chunks/dep-eea784eb.mjs';\nimport '../../_common/js/global-config/default-config.mjs';\nimport '../../_common/js/global-config/locale/zh_CN.mjs';\nimport '../../_chunks/dep-0c808c2e.mjs';\nimport '../../_chunks/dep-4c103c66.mjs';\nimport '../../config-provider/type.mjs';\nimport '../../dialog/hooks.mjs';\nimport '../../_chunks/dep-8bcdb054.mjs';\nimport '../../_chunks/dep-003c9b00.mjs';\nimport '../../_chunks/dep-e98ea432.mjs';\nimport '../../_chunks/dep-05b564d9.mjs';\nimport '../../_chunks/dep-dd2681d3.mjs';\nimport '../../_chunks/dep-18af437d.mjs';\nimport '../../_chunks/dep-e56cdb74.mjs';\nimport '../../button/index.mjs';\nimport '../../button/button.mjs';\nimport '../../_chunks/dep-4d2c39b6.mjs';\nimport '../../_chunks/dep-0e21c401.mjs';\nimport '../../loading/index.mjs';\nimport '../../_chunks/dep-c4a2d318.mjs';\nimport '../../_chunks/dep-143154a5.mjs';\nimport '../../_chunks/dep-017fc8db.mjs';\nimport '../../_chunks/dep-69610219.mjs';\nimport '../../_chunks/dep-04ba5b59.mjs';\nimport '../../_chunks/dep-f41eb5b9.mjs';\nimport '../../_chunks/dep-8cc70cb2.mjs';\nimport '../../loading/plugin.mjs';\nimport '../../loading/loading.mjs';\nimport '../../_chunks/dep-a71c8f5b.mjs';\nimport '../../loading/icon/gradient.mjs';\nimport '../../_common/js/loading/circle-adapter.mjs';\nimport '../../_common/js/utils/set-style.mjs';\nimport '../../_common/js/utils/helper.mjs';\nimport '../../_chunks/dep-8325f53f.mjs';\nimport '../../_chunks/dep-b20328d2.mjs';\nimport '../../_chunks/dep-3c3faac3.mjs';\nimport '../../_chunks/dep-ae66bf73.mjs';\nimport '../../utils/dom.mjs';\nimport '../../utils/easing.mjs';\nimport '../../utils/render-tnode.mjs';\nimport '../../_chunks/dep-bc75f95c.mjs';\nimport '../../_chunks/dep-190cc0b3.mjs';\nimport '../../_chunks/dep-29a308fc.mjs';\nimport '../../_chunks/dep-28a28c00.mjs';\nimport '../../_chunks/dep-1c9d9f8d.mjs';\nimport '../../loading/props.mjs';\nimport '../../hooks/useTeleport.mjs';\nimport '../../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../../loading/type.mjs';\nimport '../../button/props.mjs';\nimport '../../hooks/useRipple.mjs';\nimport '../../hooks/useKeepAnimation.mjs';\nimport '../../utils/set-style.mjs';\nimport '../../hooks/useDisabled.mjs';\nimport '../../_chunks/dep-36f0e4f4.mjs';\nimport '../../button/type.mjs';\nimport '../../hooks/useDestroyOnClose.mjs';\nimport '../../_common/js/utils/getScrollbarWidth.mjs';\nimport '../../hooks/usePopupManager.mjs';\nimport '../../_chunks/dep-e7c4d7b2.mjs';\nimport '../../dialog/type.mjs';\nimport '../../dialog/plugin.mjs';\nimport '../hooks.mjs';\nimport '../../_common/js/input-number/number.mjs';\nimport '../../_common/js/input-number/large-number.mjs';\nimport '../../_common/js/log/log.mjs';\nimport '../../_common/js/log/index.mjs';\nimport '../../hooks/useImagePreviewUrl.mjs';\nimport '../../_common/js/upload/utils.mjs';\nimport './ImageModalIcon.mjs';\nimport '../../tooltip/index.mjs';\nimport '../../tooltip/tooltip.mjs';\nimport '../../tooltip/props.mjs';\nimport '../../popup/props.mjs';\nimport '../../popup/index.mjs';\nimport '../../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../../_chunks/dep-67dca09a.mjs';\nimport '../../_chunks/dep-8ee0987a.mjs';\nimport '../../hooks/index.mjs';\nimport '../../hooks/icon.mjs';\nimport '../../hooks/slot.mjs';\nimport '../../hooks/useCommonClassName.mjs';\nimport '../../hooks/useDefaultValue.mjs';\nimport '../../hooks/useVirtualScroll.mjs';\nimport '../../hooks/useVModel.mjs';\nimport '../../popup/container.mjs';\nimport '../../hooks/useResizeObserver.mjs';\nimport '../../popup/type.mjs';\nimport '../../tooltip/util.mjs';\nimport '../../tooltip/type.mjs';\nimport '../utils.mjs';\nvar TImageViewerModal = defineComponent({\n  name: \"TImageViewerModal\",\n  props: {\n    zIndex: Number,\n    visible: Boolean,\n    index: Number,\n    images: props.images,\n    scale: Number,\n    rotate: Number,\n    mirror: Number,\n    title: props.title,\n    currentImage: {\n      type: Object,\n      \"default\": function _default() {\n        return {};\n      }\n    },\n    onRotate: Function,\n    onZoomIn: Function,\n    onZoomOut: Function,\n    onMirror: Function,\n    onReset: Function,\n    onClose: props.onClose,\n    draggable: {\n      type: Boolean,\n      \"default\": true\n    },\n    viewerScale: {\n      type: Object,\n      \"default\": function _default() {\n        return {};\n      }\n    },\n    showOverlay: Boolean,\n    closeBtn: props.closeBtn\n  },\n  setup: function setup(props2) {\n    var classPrefix = usePrefixClass();\n    var renderJSX = useTNodeJSX();\n    var style = computed(function () {\n      return {\n        minWidth: props2.viewerScale.minWidth,\n        minHeight: props2.viewerScale.minHeight\n      };\n    });\n    return function () {\n      return createVNode(Dialog, {\n        \"destroyOnClose\": true,\n        \"attach\": \"body\",\n        \"onClose\": props2.onClose,\n        \"visible\": props2.visible,\n        \"placement\": \"center\",\n        \"mode\": \"modeless\",\n        \"width\": 1e3,\n        \"cancelBtn\": null,\n        \"confirmBtn\": null,\n        \"draggable\": props2.draggable,\n        \"zIndex\": props2.zIndex,\n        \"showOverlay\": props2.showOverlay,\n        \"class\": \"\".concat(classPrefix.value, \"-image-viewer__dialog\"),\n        \"header\": renderJSX(\"title\", \"\"),\n        \"footer\": function footer() {\n          return createVNode(\"div\", {\n            \"class\": \"\".concat(classPrefix.value, \"-image-viewer-mini__footer\")\n          }, [createVNode(TImageViewerUtils, {\n            \"onZoomIn\": props2.onZoomIn,\n            \"onZoomOut\": props2.onZoomOut,\n            \"scale\": props2.scale,\n            \"currentImage\": props2.currentImage,\n            \"onRotate\": props2.onRotate,\n            \"onMirror\": props2.onMirror,\n            \"onReset\": props2.onReset\n          }, null)]);\n        }\n      }, {\n        \"default\": function _default() {\n          return [createVNode(\"div\", {\n            \"class\": \"\".concat(classPrefix.value, \"-image-viewer-mini__content\"),\n            \"style\": style.value\n          }, [createVNode(TImageItem, {\n            \"rotate\": props2.rotate,\n            \"scale\": props2.scale,\n            \"mirror\": props2.mirror,\n            \"src\": props2.currentImage.mainImage,\n            \"placementSrc\": props2.currentImage.thumbnail\n          }, null)])];\n        }\n      });\n    };\n  }\n});\nexport { TImageViewerModal as default };","map":{"version":3,"names":["TImageViewerModal","defineComponent","name","props","zIndex","Number","visible","Boolean","index","images","scale","rotate","mirror","title","currentImage","type","Object","_default","onRotate","Function","onZoomIn","onZoomOut","onMirror","onReset","onClose","draggable","viewerScale","showOverlay","closeBtn","setup","props2","classPrefix","usePrefixClass","renderJSX","useTNodeJSX","style","computed","minWidth","minHeight","createVNode","Dialog","concat","value","footer","TImageViewerUtils","TImageItem","mainImage","thumbnail"],"sources":["../../../src/image-viewer/base/ImageViewerModal.tsx"],"sourcesContent":["import { computed, defineComponent, PropType } from 'vue';\nimport TDialog from '../../dialog';\nimport TImageItem from './ImageItem';\nimport TImageViewerUtils from './ImageViewerUtils';\nimport { usePrefixClass } from '../../hooks/useConfig';\nimport { useTNodeJSX } from '../../hooks/tnode';\nimport { ImageInfo, TdImageViewerProps } from '../type';\nimport props from '../props';\n\nexport default defineComponent({\n  name: 'TImageViewerModal',\n  props: {\n    zIndex: Number,\n    visible: Boolean,\n    index: Number,\n    images: props.images,\n    scale: Number,\n    rotate: Number,\n    mirror: Number,\n    title: props.title,\n    currentImage: {\n      type: Object as PropType<ImageInfo>,\n      default() {\n        return {};\n      },\n    },\n    onRotate: Function as PropType<() => void>,\n    onZoomIn: Function as PropType<() => void>,\n    onZoomOut: Function as PropType<() => void>,\n    onMirror: Function as PropType<() => void>,\n    onReset: Function as PropType<() => void>,\n    onClose: props.onClose,\n    draggable: {\n      type: Boolean,\n      default: true,\n    },\n    viewerScale: {\n      type: Object as PropType<TdImageViewerProps['viewerScale']>,\n      default() {\n        return {};\n      },\n    },\n    showOverlay: Boolean,\n    closeBtn: props.closeBtn,\n  },\n  setup(props) {\n    const classPrefix = usePrefixClass();\n    const renderJSX = useTNodeJSX();\n    const style = computed(() => ({\n      minWidth: props.viewerScale.minWidth,\n      minHeight: props.viewerScale.minHeight,\n    }));\n\n    return () => (\n      <TDialog\n        destroyOnClose\n        attach=\"body\"\n        onClose={props.onClose}\n        visible={props.visible}\n        placement=\"center\"\n        mode=\"modeless\"\n        width={1000}\n        cancelBtn={null}\n        confirmBtn={null}\n        draggable={props.draggable}\n        zIndex={props.zIndex}\n        showOverlay={props.showOverlay}\n        class={`${classPrefix.value}-image-viewer__dialog`}\n        header={renderJSX('title', '')}\n        footer={() => (\n          <div class={`${classPrefix.value}-image-viewer-mini__footer`}>\n            <TImageViewerUtils\n              onZoomIn={props.onZoomIn}\n              onZoomOut={props.onZoomOut}\n              scale={props.scale}\n              currentImage={props.currentImage}\n              onRotate={props.onRotate}\n              onMirror={props.onMirror}\n              onReset={props.onReset}\n            />\n          </div>\n        )}\n      >\n        <div class={`${classPrefix.value}-image-viewer-mini__content`} style={style.value}>\n          <TImageItem\n            rotate={props.rotate}\n            scale={props.scale}\n            mirror={props.mirror}\n            src={props.currentImage.mainImage}\n            placementSrc={props.currentImage.thumbnail}\n          />\n        </div>\n      </TDialog>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}