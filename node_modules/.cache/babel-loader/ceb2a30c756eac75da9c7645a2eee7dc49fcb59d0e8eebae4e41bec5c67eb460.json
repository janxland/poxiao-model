{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * tdesign v1.9.3\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _toConsumableArray } from '../_chunks/dep-4d2c39b6.mjs';\nimport { _ as _slicedToArray } from '../_chunks/dep-a71c8f5b.mjs';\nimport { _ as _defineProperty } from '../_chunks/dep-a5dfe884.mjs';\nimport { isVNode, defineComponent, getCurrentInstance, watchEffect, toRefs, ref, computed, reactive, provide, watch, onMounted, createVNode, h } from 'vue';\nimport { EllipsisIcon } from 'tdesign-icons-vue-next';\nimport { i as isFunction_1 } from '../_chunks/dep-6e7655db.mjs';\nimport { i as isArray_1 } from '../_chunks/dep-10c900d8.mjs';\nimport log from '../_common/js/log/log.mjs';\nimport props from './head-menu-props.mjs';\nimport { Tabs, TabPanel } from '../tabs/index.mjs';\nimport _Submenu from './submenu.mjs';\nimport VMenu from './v-menu.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport useVModel from '../hooks/useVModel.mjs';\nimport useDefaultValue from '../hooks/useDefaultValue.mjs';\nimport '../_chunks/dep-0e21c401.mjs';\nimport '../_chunks/dep-d33c5d88.mjs';\nimport '../_chunks/dep-437d10c6.mjs';\nimport '../_chunks/dep-6ad32365.mjs';\nimport '../_chunks/dep-62ad5a36.mjs';\nimport '../_chunks/dep-f76ec896.mjs';\nimport '../tabs/tabs.mjs';\nimport '../tabs/tab-panel.mjs';\nimport '../tabs/tab-panel-props.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/tnode.mjs';\nimport '../_chunks/dep-190cc0b3.mjs';\nimport '../_chunks/dep-003c9b00.mjs';\nimport '../_chunks/dep-1c5d24dd.mjs';\nimport '../_chunks/dep-e98ea432.mjs';\nimport '../_chunks/dep-75628739.mjs';\nimport '../_chunks/dep-29a308fc.mjs';\nimport '../_chunks/dep-18af437d.mjs';\nimport '../_chunks/dep-28a28c00.mjs';\nimport '../_chunks/dep-1c9d9f8d.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-bc75f95c.mjs';\nimport '../_chunks/dep-6ea85de8.mjs';\nimport '../_chunks/dep-0ced8e2e.mjs';\nimport '../_chunks/dep-fb9941c5.mjs';\nimport '../_chunks/dep-4382b808.mjs';\nimport '../_chunks/dep-1494b54a.mjs';\nimport '../_chunks/dep-c70e40ae.mjs';\nimport '../_chunks/dep-92ce9c6c.mjs';\nimport '../_chunks/dep-e3204123.mjs';\nimport '../_chunks/dep-5d7be5c6.mjs';\nimport '../tabs/tab-nav.mjs';\nimport '../_chunks/dep-67dca09a.mjs';\nimport '../_chunks/dep-8ee0987a.mjs';\nimport '../tabs/props.mjs';\nimport '../_common/js/tabs/base.mjs';\nimport '../tabs/tab-nav-item.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../_chunks/dep-0223e29d.mjs';\nimport '../_chunks/dep-c31faaef.mjs';\nimport '../_chunks/dep-5f15268c.mjs';\nimport '../_chunks/dep-0894e3ae.mjs';\nimport '../_chunks/dep-0e5b2b76.mjs';\nimport '../_chunks/dep-f3a27c4c.mjs';\nimport '../_chunks/dep-b6946d89.mjs';\nimport '../_chunks/dep-3d61d8a6.mjs';\nimport '../_chunks/dep-88c02450.mjs';\nimport '../_chunks/dep-f7067d3d.mjs';\nimport '../_chunks/dep-cd1b7f96.mjs';\nimport '../_chunks/dep-eea784eb.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-0c808c2e.mjs';\nimport '../_chunks/dep-4c103c66.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-db7324ec.mjs';\nimport '../_chunks/dep-d090226f.mjs';\nimport '../_chunks/dep-3b84887f.mjs';\nimport '../config-provider/type.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useGlobalIcon.mjs';\nimport '../tabs/tab-nav-bar.mjs';\nimport '../utils/helper.mjs';\nimport '../_chunks/dep-8325f53f.mjs';\nimport '../_chunks/dep-3c3faac3.mjs';\nimport '../_chunks/dep-b20328d2.mjs';\nimport '../_chunks/dep-ae66bf73.mjs';\nimport '../hooks/useListener.mjs';\nimport '../hooks/useDragSort.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../tabs/type.mjs';\nimport './submenu-props.mjs';\nimport '../common-components/fake-arrow.mjs';\nimport '../popup/index.mjs';\nimport '../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../utils/dom.mjs';\nimport '../utils/easing.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../popup/container.mjs';\nimport '../popup/props.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../popup/type.mjs';\nimport '../hooks/useCollapseAnimation.mjs';\nimport '../_chunks/dep-e7c4d7b2.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar _HeadMenu = defineComponent({\n  name: \"THeadMenu\",\n  props: _objectSpread({}, props),\n  setup: function setup(props2, ctx) {\n    var _ctx$slots$default2, _ctx$slots3, _ctx$slots$content2, _ctx$slots4;\n    var classPrefix = usePrefixClass();\n    var _getCurrentInstance = getCurrentInstance(),\n      proxy = _getCurrentInstance.proxy;\n    watchEffect(function () {\n      if (ctx.slots.options) {\n        log.warnOnce(\"TMenu\", \"`options` slot is going to be deprecated, please use `operations` for slot instead.\");\n      }\n    });\n    var _toRefs = toRefs(props2),\n      value = _toRefs.value,\n      modelValue = _toRefs.modelValue,\n      expanded = _toRefs.expanded;\n    var _useVModel = useVModel(value, modelValue, props2.defaultValue, props2.onChange),\n      _useVModel2 = _slicedToArray(_useVModel, 2),\n      activeValue = _useVModel2[0],\n      setActiveValue = _useVModel2[1];\n    var _useDefaultValue = useDefaultValue(expanded, props2.defaultExpanded, props2.onExpand, \"expanded\"),\n      _useDefaultValue2 = _slicedToArray(_useDefaultValue, 2),\n      expandValues = _useDefaultValue2[0],\n      setExpanded = _useDefaultValue2[1];\n    var activeValues = ref([]);\n    var theme = computed(function () {\n      return props2.theme;\n    });\n    var menuClass = computed(function () {\n      return [\"\".concat(classPrefix.value, \"-menu\"), \"\".concat(classPrefix.value, \"-head-menu\"), \"\".concat(classPrefix.value, \"-menu--\").concat(props2.theme)];\n    });\n    var mode = ref(props2.expandType);\n    var submenu = reactive([]);\n    var vMenu = new VMenu({\n      isMutex: true,\n      expandValues: expandValues.value\n    });\n    provide(\"TdMenu\", {\n      mode: mode,\n      theme: theme,\n      vMenu: vMenu,\n      isHead: true,\n      expandValues: expandValues,\n      activeValue: activeValue,\n      activeValues: activeValues,\n      select: function select(value2) {\n        setActiveValue(value2);\n      },\n      open: function open(value2, type) {\n        var expanded2 = _toConsumableArray(expandValues.value);\n        var index = expanded2.indexOf(value2);\n        if (mode.value === \"popup\") {\n          if (type === \"add\") {\n            if (index === -1) {\n              expanded2.push(value2);\n            }\n          } else if (type === \"remove\") {\n            expanded2.splice(index, 1);\n          }\n        } else if (mode.value === \"normal\" && value2 !== void 0) {\n          expanded2.splice(0, 1);\n          if (index === -1) {\n            expanded2.push(value2);\n          }\n        }\n        setExpanded(expanded2);\n      }\n    });\n    var handleTabChange = function handleTabChange(value2) {\n      setActiveValue(value2);\n      handleClickSubMenuItem(value2);\n    };\n    var handleSubmenuExpand = function handleSubmenuExpand(value2) {\n      var ans = vMenu.getChild(value2);\n      submenu.length = 0;\n      submenu.push.apply(submenu, _toConsumableArray(ans));\n    };\n    watch(expandValues, function (value2) {\n      if (mode.value === \"normal\") {\n        handleSubmenuExpand(value2[0]);\n      }\n    });\n    var updateActiveValues = function updateActiveValues(value2) {\n      activeValues.value = vMenu.select(value2);\n    };\n    watch(activeValue, updateActiveValues);\n    watch(function () {\n      return props2.expandType;\n    }, function (value2) {\n      mode.value = value2;\n    });\n    onMounted(function () {\n      var _expandValues$value;\n      activeValues.value = vMenu.select(activeValue.value);\n      if (((_expandValues$value = expandValues.value) === null || _expandValues$value === void 0 ? void 0 : _expandValues$value.length) > 0) {\n        handleSubmenuExpand(expandValues.value[0]);\n      }\n    });\n    var handleClickSubMenuItem = function handleClickSubMenuItem(value2) {\n      var _activeMenuItem$onCli;\n      var activeMenuItem = submenu.find(function (v) {\n        return v.value === value2;\n      });\n      (_activeMenuItem$onCli = activeMenuItem.onClick) === null || _activeMenuItem$onCli === void 0 || _activeMenuItem$onCli.call(activeMenuItem, {\n        value: value2\n      });\n      var to = activeMenuItem.to,\n        href = activeMenuItem.href,\n        replace = activeMenuItem.replace;\n      if (href) {\n        window.location.href = activeMenuItem.href;\n      }\n      var router = activeMenuItem.router || proxy.$router;\n      if (to && router) {\n        replace ? router.replace(to) : router.push(to);\n      }\n    };\n    var renderNormalSubmenu = function renderNormalSubmenu() {\n      var _slot;\n      if (submenu.length === 0) return null;\n      return createVNode(\"ul\", {\n        \"class\": [\"\".concat(classPrefix.value, \"-head-menu__submenu\"), \"\".concat(classPrefix.value, \"-submenu\")]\n      }, [createVNode(Tabs, {\n        \"value\": activeValue.value,\n        \"onChange\": handleTabChange\n      }, _isSlot(_slot = submenu.map(function (item) {\n        var _item$vnode$;\n        return createVNode(TabPanel, {\n          \"value\": item.value,\n          \"label\": (_item$vnode$ = item.vnode()[0]) === null || _item$vnode$ === void 0 ? void 0 : _item$vnode$.children\n        }, null);\n      })) ? _slot : {\n        \"default\": function _default() {\n          return [_slot];\n        }\n      })]);\n    };\n    var menuRef = ref();\n    var innerRef = ref();\n    var logoRef = ref();\n    var operationRef = ref();\n    var getComputedCss = function getComputedCss(el, cssProperty) {\n      var _getComputedStyle$css;\n      return (_getComputedStyle$css = getComputedStyle(el)[cssProperty]) !== null && _getComputedStyle$css !== void 0 ? _getComputedStyle$css : \"\";\n    };\n    var getComputedCssValue = function getComputedCssValue(el, cssProperty) {\n      return Number.parseInt(String(getComputedCss(el, cssProperty)), 10);\n    };\n    var calcMenuWidth = function calcMenuWidth() {\n      var menuPaddingLeft = getComputedCssValue(menuRef.value, \"paddingLeft\");\n      var menuPaddingRight = getComputedCssValue(menuRef.value, \"paddingRight\");\n      var totalWidth = innerRef.value.clientWidth;\n      if (logoRef.value) {\n        var logoMarginLeft = getComputedCssValue(logoRef.value, \"marginLeft\");\n        var logoMarginRight = getComputedCssValue(logoRef.value, \"marginRight\");\n        totalWidth = totalWidth - logoRef.value.offsetWidth - logoMarginLeft - logoMarginRight;\n      }\n      if (operationRef.value) {\n        var operationMarginLeft = getComputedCssValue(operationRef.value, \"marginLeft\");\n        var operationMarginRight = getComputedCssValue(operationRef.value, \"marginRight\");\n        totalWidth = totalWidth - operationRef.value.offsetWidth - operationMarginLeft - operationMarginRight;\n      }\n      return totalWidth - menuPaddingLeft - menuPaddingRight;\n    };\n    var formatContent = function formatContent() {\n      var _ctx$slots$default, _ctx$slots, _ctx$slots$content, _ctx$slots2;\n      var slot = ((_ctx$slots$default = (_ctx$slots = ctx.slots)[\"default\"]) === null || _ctx$slots$default === void 0 ? void 0 : _ctx$slots$default.call(_ctx$slots)) || ((_ctx$slots$content = (_ctx$slots2 = ctx.slots).content) === null || _ctx$slots$content === void 0 ? void 0 : _ctx$slots$content.call(_ctx$slots2)) || [];\n      if (menuRef.value && innerRef.value) {\n        var _menuRef$value$childN;\n        var validNodes = Array.from((_menuRef$value$childN = menuRef.value.childNodes) !== null && _menuRef$value$childN !== void 0 ? _menuRef$value$childN : []).filter(function (item) {\n          return item.nodeName !== \"#text\" || item.nodeValue;\n        });\n        var menuWidth = calcMenuWidth();\n        var menuItemMinWidth = 104;\n        var remainWidth = menuWidth;\n        var sliceIndex = validNodes.length;\n        for (var index = 0; index < validNodes.length; index++) {\n          var element = validNodes[index];\n          remainWidth -= element.offsetWidth || 0;\n          if (remainWidth < menuItemMinWidth) {\n            sliceIndex = index;\n            break;\n          }\n        }\n        var defaultSlot = slot.slice(0, sliceIndex);\n        var subMore = slot.slice(sliceIndex);\n        if (subMore.length) {\n          slot = defaultSlot.concat(createVNode(_Submenu, {\n            \"expandType\": \"popup\",\n            \"title\": function title() {\n              return createVNode(EllipsisIcon, null, null);\n            }\n          }, _isSlot(subMore) ? subMore : {\n            \"default\": function _default() {\n              return [subMore];\n            }\n          }));\n        }\n      }\n      return slot;\n    };\n    var initVMenu = function initVMenu(slots, parentValue) {\n      slots.forEach(function (node) {\n        var _node$props, _node$type, _node$type2, _node$children;\n        var nodeValue = (_node$props = node.props) === null || _node$props === void 0 ? void 0 : _node$props.value;\n        if (((_node$type = node.type) === null || _node$type === void 0 ? void 0 : _node$type.name) === \"TSubmenu\" || ((_node$type2 = node.type) === null || _node$type2 === void 0 ? void 0 : _node$type2.name) === \"TMenuItem\") {\n          vMenu.add(_objectSpread({\n            value: nodeValue,\n            parent: parentValue,\n            vnode: node.children[\"default\"]\n          }, node.props));\n        }\n        if (isFunction_1((_node$children = node.children) === null || _node$children === void 0 ? void 0 : _node$children[\"default\"])) {\n          initVMenu(node.children[\"default\"](), nodeValue);\n          return;\n        }\n        if (isArray_1(node.children)) {\n          initVMenu(node.children, nodeValue);\n        }\n      });\n    };\n    initVMenu(((_ctx$slots$default2 = (_ctx$slots3 = ctx.slots)[\"default\"]) === null || _ctx$slots$default2 === void 0 ? void 0 : _ctx$slots$default2.call(_ctx$slots3)) || ((_ctx$slots$content2 = (_ctx$slots4 = ctx.slots).content) === null || _ctx$slots$content2 === void 0 ? void 0 : _ctx$slots$content2.call(_ctx$slots4)) || []);\n    return function () {\n      var _props2$logo, _ctx$slots$logo, _ctx$slots5, _props2$operations, _ctx$slots$operations, _ctx$slots6, _ctx$slots$options, _ctx$slots7, _ctx$slots$default3, _ctx$slots8, _ctx$slots$content3, _ctx$slots9;\n      var logo = ((_props2$logo = props2.logo) === null || _props2$logo === void 0 ? void 0 : _props2$logo.call(props2, h)) || ((_ctx$slots$logo = (_ctx$slots5 = ctx.slots).logo) === null || _ctx$slots$logo === void 0 ? void 0 : _ctx$slots$logo.call(_ctx$slots5));\n      var operations = ((_props2$operations = props2.operations) === null || _props2$operations === void 0 ? void 0 : _props2$operations.call(props2, h)) || ((_ctx$slots$operations = (_ctx$slots6 = ctx.slots).operations) === null || _ctx$slots$operations === void 0 ? void 0 : _ctx$slots$operations.call(_ctx$slots6)) || ((_ctx$slots$options = (_ctx$slots7 = ctx.slots).options) === null || _ctx$slots$options === void 0 ? void 0 : _ctx$slots$options.call(_ctx$slots7));\n      var content = ((_ctx$slots$default3 = (_ctx$slots8 = ctx.slots)[\"default\"]) === null || _ctx$slots$default3 === void 0 ? void 0 : _ctx$slots$default3.call(_ctx$slots8)) || ((_ctx$slots$content3 = (_ctx$slots9 = ctx.slots).content) === null || _ctx$slots$content3 === void 0 ? void 0 : _ctx$slots$content3.call(_ctx$slots9)) || [];\n      return createVNode(\"div\", {\n        \"class\": menuClass.value\n      }, [createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-head-menu__inner\"),\n        \"ref\": innerRef\n      }, [logo && createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-menu__logo\"),\n        \"ref\": logoRef\n      }, [logo]), createVNode(\"ul\", {\n        \"class\": \"\".concat(classPrefix.value, \"-menu\"),\n        \"ref\": menuRef\n      }, [content]), operations && createVNode(\"div\", {\n        \"class\": \"\".concat(classPrefix.value, \"-menu__operations\"),\n        \"ref\": operationRef\n      }, [operations])]), mode.value === \"normal\" && renderNormalSubmenu()]);\n    };\n  }\n});\nexport { _HeadMenu as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","_HeadMenu","defineComponent","name","props","_objectSpread","setup","props2","ctx","_ctx$slots$default2","_ctx$slots3","_ctx$slots$content2","_ctx$slots4","classPrefix","usePrefixClass","_getCurrentInstance","getCurrentInstance","proxy","watchEffect","slots","options","log","warnOnce","_toRefs","toRefs","value","modelValue","expanded","_useVModel","useVModel","defaultValue","onChange","_useVModel2","_slicedToArray","activeValue","setActiveValue","_useDefaultValue","useDefaultValue","defaultExpanded","onExpand","_useDefaultValue2","expandValues","setExpanded","activeValues","ref","theme","computed","menuClass","concat","mode","expandType","submenu","reactive","vMenu","VMenu","isMutex","provide","isHead","select","value2","open","type","expanded2","_toConsumableArray","index","indexOf","push","splice","handleTabChange","handleClickSubMenuItem","handleSubmenuExpand","ans","getChild","length","apply","watch","updateActiveValues","onMounted","_expandValues$value","_activeMenuItem$onCli","activeMenuItem","find","v","onClick","to","href","replace","window","location","router","$router","renderNormalSubmenu","_slot","createVNode","map","item","_item$vnode$","TabPanel","vnode","children","_default","menuRef","innerRef","logoRef","operationRef","getComputedCss","el","cssProperty","getComputedStyle","_getComputedStyle$css","getComputedCssValue","Number","parseInt","String","calcMenuWidth","menuPaddingLeft","menuPaddingRight","totalWidth","clientWidth","logoMarginLeft","logoMarginRight","offsetWidth","operationMarginLeft","operationMarginRight","formatContent","_ctx$slots$default","_ctx$slots","_ctx$slots$content","_ctx$slots2","slot","content","_menuRef$value$childN","validNodes","Array","from","childNodes","filter","nodeName","nodeValue","menuWidth","menuItemMinWidth","remainWidth","sliceIndex","element","defaultSlot","slice","subMore","_Submenu","title","EllipsisIcon","initVMenu","parentValue","forEach","node","_node$props","_node$type","_node$type2","_node$children","add","parent","isFunction_1","isArray_1","_props2$logo","_ctx$slots$logo","_ctx$slots5","_props2$operations","_ctx$slots$operations","_ctx$slots6","_ctx$slots$options","_ctx$slots7","_ctx$slots$default3","_ctx$slots8","_ctx$slots$content3","_ctx$slots9","logo","h","operations"],"sources":["../../src/menu/head-menu.tsx"],"sourcesContent":["import {\n  defineComponent,\n  computed,\n  provide,\n  ref,\n  reactive,\n  watch,\n  onMounted,\n  watchEffect,\n  toRefs,\n  h,\n  VNode,\n  Component,\n  getCurrentInstance,\n} from 'vue';\nimport { EllipsisIcon } from 'tdesign-icons-vue-next';\nimport isFunction from 'lodash/isFunction';\nimport isArray from 'lodash/isArray';\n\nimport log from '../_common/js/log/log';\nimport props from './head-menu-props';\nimport { MenuValue } from './type';\nimport { TdMenuInterface, TdOpenType } from './const';\nimport { Tabs, TabPanel } from '../tabs';\nimport Submenu from './submenu';\nimport VMenu from './v-menu';\n\nimport { usePrefixClass } from '../hooks/useConfig';\nimport useVModel from '../hooks/useVModel';\nimport useDefaultValue from '../hooks/useDefaultValue';\n\nexport default defineComponent({\n  name: 'THeadMenu',\n  props: { ...props },\n  setup(props, ctx) {\n    const classPrefix = usePrefixClass();\n    const { proxy } = getCurrentInstance();\n    watchEffect(() => {\n      if (ctx.slots.options) {\n        log.warnOnce('TMenu', '`options` slot is going to be deprecated, please use `operations` for slot instead.');\n      }\n    });\n    const { value, modelValue, expanded } = toRefs(props);\n    const [activeValue, setActiveValue] = useVModel(value, modelValue, props.defaultValue, props.onChange);\n    const [expandValues, setExpanded] = useDefaultValue(expanded, props.defaultExpanded, props.onExpand, 'expanded');\n    const activeValues = ref([]);\n    const theme = computed(() => props.theme);\n    const menuClass = computed(() => [\n      `${classPrefix.value}-menu`,\n      `${classPrefix.value}-head-menu`,\n      `${classPrefix.value}-menu--${props.theme}`,\n    ]);\n    const mode = ref(props.expandType);\n    const submenu = reactive([]);\n    const vMenu = new VMenu({ isMutex: true, expandValues: expandValues.value });\n\n    provide<TdMenuInterface>('TdMenu', {\n      mode,\n      theme,\n      vMenu,\n      isHead: true,\n      expandValues,\n      activeValue,\n      activeValues,\n      select: (value: MenuValue) => {\n        setActiveValue(value);\n      },\n      open: (value: MenuValue, type: TdOpenType) => {\n        const expanded = [...expandValues.value];\n        const index = expanded.indexOf(value);\n\n        if (mode.value === 'popup') {\n          if (type === 'add') {\n            if (index === -1) {\n              // 可能初始expanded里包含了该value\n              expanded.push(value);\n            }\n          } else if (type === 'remove') {\n            expanded.splice(index, 1);\n          }\n        } else if (mode.value === 'normal' && value !== undefined) {\n          expanded.splice(0, 1);\n          if (index === -1) {\n            expanded.push(value);\n          }\n        }\n        setExpanded(expanded);\n      },\n    });\n\n    // methods\n    const handleTabChange = (value: MenuValue) => {\n      setActiveValue(value);\n      handleClickSubMenuItem(value);\n    };\n\n    const handleSubmenuExpand = (value: MenuValue) => {\n      const ans = vMenu.getChild(value);\n      submenu.length = 0;\n      submenu.push(...ans);\n    };\n\n    // watch\n    watch(expandValues, (value) => {\n      if (mode.value === 'normal') {\n        handleSubmenuExpand(value[0]);\n      }\n    });\n    const updateActiveValues = (value: MenuValue) => {\n      activeValues.value = vMenu.select(value);\n    };\n    watch(activeValue, updateActiveValues);\n    watch(\n      () => props.expandType,\n      (value) => {\n        mode.value = value;\n      },\n    );\n\n    onMounted(() => {\n      activeValues.value = vMenu.select(activeValue.value);\n      if (expandValues.value?.length > 0) {\n        handleSubmenuExpand(expandValues.value[0]); // 顶部导航只能同时展开一个子菜单\n      }\n    });\n\n    const handleClickSubMenuItem = (value: MenuValue) => {\n      const activeMenuItem = submenu.find((v) => v.value === value);\n      activeMenuItem.onClick?.({ value });\n      const { to, href, replace } = activeMenuItem;\n      if (href) {\n        window.location.href = activeMenuItem.href;\n      }\n      const router = activeMenuItem.router || proxy.$router;\n      if (to && router) {\n        replace ? router.replace(to) : router.push(to);\n      }\n    };\n    // setup返回的render函数中无法访问methods属性中的类容，移动此方法到setup中\n    const renderNormalSubmenu = () => {\n      if (submenu.length === 0) return null;\n      return (\n        <ul class={[`${classPrefix.value}-head-menu__submenu`, `${classPrefix.value}-submenu`]}>\n          {\n            <Tabs value={activeValue.value} onChange={handleTabChange}>\n              {submenu.map((item) => (\n                <TabPanel value={item.value} label={item.vnode()[0]?.children} />\n              ))}\n            </Tabs>\n          }\n        </ul>\n      );\n    };\n\n    const menuRef = ref<HTMLUListElement>();\n    const innerRef = ref<HTMLDivElement>();\n    const logoRef = ref<HTMLDivElement>();\n    const operationRef = ref<HTMLDivElement>();\n\n    const getComputedCss = (el: Element, cssProperty: keyof CSSStyleDeclaration) =>\n      getComputedStyle(el)[cssProperty] ?? '';\n\n    const getComputedCssValue = (el: Element, cssProperty: keyof CSSStyleDeclaration) =>\n      Number.parseInt(String(getComputedCss(el, cssProperty)), 10);\n\n    const calcMenuWidth = () => {\n      const menuPaddingLeft = getComputedCssValue(menuRef.value, 'paddingLeft');\n      const menuPaddingRight = getComputedCssValue(menuRef.value, 'paddingRight');\n      let totalWidth = innerRef.value.clientWidth;\n      if (logoRef.value) {\n        const logoMarginLeft = getComputedCssValue(logoRef.value, 'marginLeft');\n        const logoMarginRight = getComputedCssValue(logoRef.value, 'marginRight');\n        totalWidth = totalWidth - logoRef.value.offsetWidth - logoMarginLeft - logoMarginRight;\n      }\n\n      if (operationRef.value) {\n        const operationMarginLeft = getComputedCssValue(operationRef.value, 'marginLeft');\n        const operationMarginRight = getComputedCssValue(operationRef.value, 'marginRight');\n        totalWidth = totalWidth - operationRef.value.offsetWidth - operationMarginLeft - operationMarginRight;\n      }\n\n      return totalWidth - menuPaddingLeft - menuPaddingRight;\n    };\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const formatContent = () => {\n      let slot = ctx.slots.default?.() || ctx.slots.content?.() || [];\n\n      if (menuRef.value && innerRef.value) {\n        const validNodes = Array.from(menuRef.value.childNodes ?? []).filter(\n          (item) => item.nodeName !== '#text' || item.nodeValue,\n        ) as HTMLElement[];\n\n        const menuWidth = calcMenuWidth();\n        const menuItemMinWidth = 104;\n\n        let remainWidth = menuWidth;\n        let sliceIndex = validNodes.length;\n\n        for (let index = 0; index < validNodes.length; index++) {\n          const element = validNodes[index];\n          remainWidth -= element.offsetWidth || 0;\n          if (remainWidth < menuItemMinWidth) {\n            sliceIndex = index;\n            break;\n          }\n        }\n\n        const defaultSlot = slot.slice(0, sliceIndex);\n        const subMore = slot.slice(sliceIndex);\n\n        if (subMore.length) {\n          slot = defaultSlot.concat(\n            <Submenu expandType=\"popup\" title={() => <EllipsisIcon />}>\n              {subMore}\n            </Submenu>,\n          );\n        }\n      }\n      return slot;\n    };\n\n    const initVMenu = (slots: VNode[], parentValue?: string) => {\n      slots.forEach((node) => {\n        const nodeValue = node.props?.value;\n        if ((node.type as Component)?.name === 'TSubmenu' || (node.type as Component)?.name === 'TMenuItem') {\n          vMenu.add({ value: nodeValue, parent: parentValue, vnode: (node.children as any).default, ...node.props });\n        }\n        if (isFunction((node.children as any)?.default)) {\n          initVMenu((node.children as any).default(), nodeValue);\n          return;\n        }\n        if (isArray(node.children)) {\n          initVMenu(node.children as VNode[], nodeValue);\n        }\n      });\n    };\n    initVMenu(ctx.slots.default?.() || ctx.slots.content?.() || []);\n\n    return () => {\n      const logo = props.logo?.(h) || ctx.slots.logo?.();\n      const operations = props.operations?.(h) || ctx.slots.operations?.() || ctx.slots.options?.();\n\n      // TODO: 判断逻辑不够完善 影响封装组件的子菜单样式渲染 暂时先不执行 待调整实现方案\n      // const content = formatContent();\n      const content = ctx.slots.default?.() || ctx.slots.content?.() || [];\n\n      return (\n        <div class={menuClass.value}>\n          <div class={`${classPrefix.value}-head-menu__inner`} ref={innerRef}>\n            {logo && (\n              <div class={`${classPrefix.value}-menu__logo`} ref={logoRef}>\n                {logo}\n              </div>\n            )}\n            <ul class={`${classPrefix.value}-menu`} ref={menuRef}>\n              {content}\n            </ul>\n            {operations && (\n              <div class={`${classPrefix.value}-menu__operations`} ref={operationRef}>\n                {operations}\n              </div>\n            )}\n          </div>\n          {mode.value === 'normal' && renderNormalSubmenu()}\n        </div>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}