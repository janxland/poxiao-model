{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * tdesign v1.9.3\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _typeof } from '../_chunks/dep-d33c5d88.mjs';\nimport { _ as _defineProperty } from '../_chunks/dep-a5dfe884.mjs';\nimport { isVNode, defineComponent, ref, computed, h, createVNode, mergeProps } from 'vue';\nimport { i as isFunction_1 } from '../_chunks/dep-6e7655db.mjs';\nimport { getColumnFixedStyles } from './hooks/useFixed.mjs';\nimport useClassName from './hooks/useClassName.mjs';\nimport { renderTitle } from './hooks/useTableHeader.mjs';\nimport TEllipsis from './ellipsis.mjs';\nimport { formatClassNames } from './utils.mjs';\nimport '../_chunks/dep-437d10c6.mjs';\nimport '../_chunks/dep-6ad32365.mjs';\nimport '../_chunks/dep-62ad5a36.mjs';\nimport '../_chunks/dep-f76ec896.mjs';\nimport '../_chunks/dep-a71c8f5b.mjs';\nimport '../_chunks/dep-0e21c401.mjs';\nimport '../_chunks/dep-04ba5b59.mjs';\nimport '../_chunks/dep-05b564d9.mjs';\nimport '../_chunks/dep-10c900d8.mjs';\nimport '../_chunks/dep-1c5d24dd.mjs';\nimport '../_chunks/dep-e98ea432.mjs';\nimport '../_chunks/dep-75628739.mjs';\nimport '../_chunks/dep-5f15268c.mjs';\nimport '../_chunks/dep-c70e40ae.mjs';\nimport '../_chunks/dep-4382b808.mjs';\nimport '../_chunks/dep-0894e3ae.mjs';\nimport '../_chunks/dep-003c9b00.mjs';\nimport '../_chunks/dep-67dca09a.mjs';\nimport '../_chunks/dep-8ee0987a.mjs';\nimport '../_chunks/dep-3b84887f.mjs';\nimport '../_chunks/dep-3d61d8a6.mjs';\nimport '../_chunks/dep-fb9941c5.mjs';\nimport '../_chunks/dep-88c02450.mjs';\nimport '../_chunks/dep-f7067d3d.mjs';\nimport '../_chunks/dep-f3a27c4c.mjs';\nimport '../_chunks/dep-413727e7.mjs';\nimport '../_chunks/dep-017fc8db.mjs';\nimport '../_chunks/dep-2f0b4a52.mjs';\nimport '../_chunks/dep-1494b54a.mjs';\nimport '../_chunks/dep-e56cdb74.mjs';\nimport '../_chunks/dep-e3204123.mjs';\nimport '../_chunks/dep-92ce9c6c.mjs';\nimport '../_chunks/dep-69610219.mjs';\nimport '../_chunks/dep-dd2681d3.mjs';\nimport '../_common/js/log/index.mjs';\nimport '../_common/js/log/log.mjs';\nimport '../_common/js/utils/getScrollbarWidth.mjs';\nimport '../_common/js/utils/helper.mjs';\nimport '../_chunks/dep-4d2c39b6.mjs';\nimport '../_chunks/dep-8325f53f.mjs';\nimport '../_chunks/dep-5d7be5c6.mjs';\nimport '../_chunks/dep-b20328d2.mjs';\nimport '../_chunks/dep-3c3faac3.mjs';\nimport '../_chunks/dep-ae66bf73.mjs';\nimport '../utils/dom.mjs';\nimport '../utils/easing.mjs';\nimport '../_chunks/dep-1b60f9ac.mjs';\nimport '../_chunks/dep-d5c54b49.mjs';\nimport '../_chunks/dep-0e5b2b76.mjs';\nimport '../_chunks/dep-b6946d89.mjs';\nimport '../_chunks/dep-f41eb5b9.mjs';\nimport '../hooks/useConfig.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-db7324ec.mjs';\nimport '../_chunks/dep-d090226f.mjs';\nimport '../_chunks/dep-c31faaef.mjs';\nimport '../_chunks/dep-0ced8e2e.mjs';\nimport '../_chunks/dep-6ea85de8.mjs';\nimport '../_chunks/dep-0223e29d.mjs';\nimport '../_chunks/dep-cd1b7f96.mjs';\nimport '../_chunks/dep-eea784eb.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-0c808c2e.mjs';\nimport '../_chunks/dep-4c103c66.mjs';\nimport '../config-provider/type.mjs';\nimport './hooks/useMultiHeader.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-bc75f95c.mjs';\nimport '../_chunks/dep-190cc0b3.mjs';\nimport '../_chunks/dep-29a308fc.mjs';\nimport '../_chunks/dep-18af437d.mjs';\nimport '../_chunks/dep-28a28c00.mjs';\nimport '../_chunks/dep-1c9d9f8d.mjs';\nimport '../tooltip/index.mjs';\nimport '../tooltip/tooltip.mjs';\nimport '../_chunks/dep-8bcdb054.mjs';\nimport '../tooltip/props.mjs';\nimport '../popup/props.mjs';\nimport '../popup/index.mjs';\nimport '../popup/popup.mjs';\nimport '@popperjs/core';\nimport '../hooks/index.mjs';\nimport '../hooks/icon.mjs';\nimport '../hooks/slot.mjs';\nimport '../hooks/tnode.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/utils/set-style.mjs';\nimport '../popup/container.mjs';\nimport '../hooks/useResizeObserver.mjs';\nimport '../utils/withInstall.mjs';\nimport './style/css.mjs';\nimport '../popup/type.mjs';\nimport '../tooltip/util.mjs';\nimport '../tooltip/type.mjs';\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\nvar THead = defineComponent({\n  name: \"THead\",\n  props: {\n    classPrefix: String,\n    ellipsisOverlayClassName: String,\n    isFixedHeader: Boolean,\n    thDraggable: Boolean,\n    maxHeight: [String, Number],\n    height: [String, Number],\n    rowAndColFixedPosition: Map,\n    thWidthList: Object,\n    bordered: Boolean,\n    isMultipleHeader: Boolean,\n    resizable: Boolean,\n    attach: [String, Function],\n    spansAndLeafNodes: Object,\n    thList: Array,\n    columnResizeParams: Object,\n    showColumnShadow: Object\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var theadRef = ref();\n    var classnames = useClassName();\n    var tableHeaderClasses = classnames.tableHeaderClasses,\n      tableBaseClass = classnames.tableBaseClass;\n    var theadClasses = computed(function () {\n      return [tableHeaderClasses.header, _defineProperty(_defineProperty(_defineProperty({}, tableHeaderClasses.fixed, Boolean(props.maxHeight || props.height)), tableBaseClass.bordered, props.bordered && props.isMultipleHeader), tableHeaderClasses.multipleHeader, props.isMultipleHeader)];\n    });\n    var colspanSkipMap = computed(function () {\n      var map = {};\n      var list = props.thList[0];\n      for (var i = 0, len = list.length; i < len; i++) {\n        var item = list[i];\n        if (item.colspan > 1) {\n          for (var j = i + 1; j < i + item.colspan; j++) {\n            if (list[j]) {\n              map[list[j].colKey] = true;\n            }\n          }\n        }\n      }\n      return map;\n    });\n    var getTableNode = function getTableNode(thead) {\n      var parent = thead;\n      while (parent) {\n        var _parent;\n        parent = parent.parentNode;\n        if ((_parent = parent) !== null && _parent !== void 0 && (_parent = _parent.classList) !== null && _parent !== void 0 && _parent.contains(\"\".concat(props.classPrefix, \"-table\"))) {\n          break;\n        }\n      }\n      return parent;\n    };\n    return _objectSpread(_objectSpread({}, classnames), {}, {\n      colspanSkipMap: colspanSkipMap,\n      theadClasses: theadClasses,\n      theadRef: theadRef,\n      slots: slots,\n      getTableNode: getTableNode\n    });\n  },\n  render: function render() {\n    var _this = this;\n    var renderThNodeList = function renderThNodeList(rowAndColFixedPosition, thWidthList) {\n      var thBorderMap = /* @__PURE__ */new Map();\n      var thRowspanAndColspan = _this.spansAndLeafNodes.rowspanAndColspanMap;\n      return _this.thList.map(function (row, rowIndex) {\n        var thRow = row.map(function (col, index) {\n          var _col$children;\n          if (_this.colspanSkipMap[col.colKey]) return null;\n          var rowspanAndColspan = thRowspanAndColspan.get(col);\n          if (index === 0 && rowspanAndColspan.rowspan > 1) {\n            for (var j = rowIndex + 1; j < rowIndex + rowspanAndColspan.rowspan; j++) {\n              thBorderMap.set(_this.thList[j][0], true);\n            }\n          }\n          var thStyles = getColumnFixedStyles(col, index, rowAndColFixedPosition, _this.tableColFixedClasses);\n          var colParams = {\n            col: col,\n            colIndex: index,\n            row: {},\n            rowIndex: -1\n          };\n          var customClasses = formatClassNames(col.className, _objectSpread(_objectSpread({}, colParams), {}, {\n            type: \"th\"\n          }));\n          var isLeftFixedActive = _this.showColumnShadow.left && col.fixed === \"left\";\n          var isRightFixedActive = _this.showColumnShadow.right && col.fixed === \"right\";\n          var canDragSort = _this.thDraggable && !(isLeftFixedActive || isRightFixedActive);\n          var thClasses = [thStyles.classes, customClasses, col.thClassName, _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _this.tableHeaderClasses.thBordered, thBorderMap.get(col)), \"\".concat(_this.classPrefix, \"-table__th-\").concat(col.colKey), col.colKey), _this.tdAlignClasses[col.align], col.align && col.align !== \"left\"), _this.tableDraggableClasses.dragSortTh, canDragSort)];\n          var withoutChildren = !((_col$children = col.children) !== null && _col$children !== void 0 && _col$children.length);\n          var width = withoutChildren && thWidthList !== null && thWidthList !== void 0 && thWidthList[col.colKey] ? \"\".concat(thWidthList === null || thWidthList === void 0 ? void 0 : thWidthList[col.colKey], \"px\") : void 0;\n          var styles = _objectSpread(_objectSpread({}, thStyles.style || {}), {}, {\n            width: width\n          });\n          var innerTh = renderTitle(_this.slots, col, index);\n          var resizeColumnListener = _this.resizable || !canDragSort ? {\n            onMousedown: function onMousedown(e) {\n              if (_this.resizable) {\n                var _this$columnResizePar, _this$columnResizePar2;\n                (_this$columnResizePar = _this.columnResizeParams) === null || _this$columnResizePar === void 0 || (_this$columnResizePar2 = _this$columnResizePar.onColumnMousedown) === null || _this$columnResizePar2 === void 0 || _this$columnResizePar2.call(_this$columnResizePar, e, col, index);\n              }\n              if (!canDragSort) {\n                var timer = setTimeout(function () {\n                  var _thList$index;\n                  var thList = _this.theadRef.querySelectorAll(\"th\");\n                  (_thList$index = thList[index]) === null || _thList$index === void 0 || _thList$index.removeAttribute(\"draggable\");\n                  clearTimeout(timer);\n                }, 10);\n              }\n            },\n            onMousemove: function onMousemove(e) {\n              var _this$columnResizePar3, _this$columnResizePar4;\n              _this.resizable && ((_this$columnResizePar3 = _this.columnResizeParams) === null || _this$columnResizePar3 === void 0 || (_this$columnResizePar4 = _this$columnResizePar3.onColumnMouseover) === null || _this$columnResizePar4 === void 0 ? void 0 : _this$columnResizePar4.call(_this$columnResizePar3, e, col));\n            }\n          } : {};\n          var content = isFunction_1(col.ellipsisTitle) ? col.ellipsisTitle(h, {\n            col: col,\n            colIndex: index\n          }) : void 0;\n          var isEllipsis = col.ellipsisTitle !== void 0 ? Boolean(col.ellipsisTitle) : Boolean(col.ellipsis);\n          var attrs = (isFunction_1(col.attrs) ? col.attrs(_objectSpread(_objectSpread({}, colParams), {}, {\n            type: \"th\"\n          })) : col.attrs) || {};\n          if (col.colspan > 1) {\n            attrs.colspan = col.colspan;\n          }\n          return createVNode(\"th\", mergeProps({\n            \"key\": col.colKey,\n            \"data-colkey\": col.colKey,\n            \"class\": thClasses,\n            \"style\": styles\n          }, attrs, rowspanAndColspan, resizeColumnListener), [createVNode(\"div\", {\n            \"class\": _this.tableBaseClass.thCellInner\n          }, [isEllipsis ? createVNode(TEllipsis, {\n            \"placement\": \"bottom\",\n            \"attach\": _this.attach || (_this.theadRef ? function () {\n              return _this.getTableNode(_this.theadRef);\n            } : void 0),\n            \"tooltipContent\": content && function () {\n              return content;\n            },\n            \"tooltipProps\": _typeof(col.ellipsisTitle) === \"object\" ? col.ellipsisTitle : void 0,\n            \"overlayClassName\": _this.ellipsisOverlayClassName,\n            \"classPrefix\": _this.classPrefix\n          }, _isSlot(innerTh) ? innerTh : {\n            \"default\": function _default() {\n              return [innerTh];\n            }\n          }) : innerTh])]);\n        });\n        return createVNode(\"tr\", {\n          \"key\": rowIndex\n        }, [thRow]);\n      });\n    };\n    return createVNode(\"thead\", {\n      \"ref\": \"theadRef\",\n      \"class\": this.theadClasses\n    }, [renderThNodeList(this.rowAndColFixedPosition, this.thWidthList)]);\n  }\n});\nexport { THead as default };","map":{"version":3,"names":["_isSlot","s","Object","prototype","toString","call","isVNode","THead","defineComponent","name","props","classPrefix","String","ellipsisOverlayClassName","isFixedHeader","Boolean","thDraggable","maxHeight","Number","height","rowAndColFixedPosition","Map","thWidthList","bordered","isMultipleHeader","resizable","attach","Function","spansAndLeafNodes","thList","Array","columnResizeParams","showColumnShadow","setup","_ref","slots","theadRef","ref","classnames","useClassName","tableHeaderClasses","tableBaseClass","theadClasses","computed","header","_defineProperty","fixed","multipleHeader","colspanSkipMap","map","list","i","len","length","item","colspan","j","colKey","getTableNode","thead","parent","_parent","parentNode","classList","contains","concat","_objectSpread","render","_this","renderThNodeList","thBorderMap","thRowspanAndColspan","rowspanAndColspanMap","row","rowIndex","thRow","col","index","_col$children","rowspanAndColspan","get","rowspan","set","thStyles","getColumnFixedStyles","tableColFixedClasses","colParams","colIndex","customClasses","formatClassNames","className","type","isLeftFixedActive","left","isRightFixedActive","right","canDragSort","thClasses","classes","thClassName","thBordered","tdAlignClasses","align","tableDraggableClasses","dragSortTh","withoutChildren","children","width","styles","style","innerTh","renderTitle","resizeColumnListener","onMousedown","e","_this$columnResizePar","_this$columnResizePar2","onColumnMousedown","timer","setTimeout","_thList$index","querySelectorAll","removeAttribute","clearTimeout","onMousemove","_this$columnResizePar3","_this$columnResizePar4","onColumnMouseover","content","isFunction_1","ellipsisTitle","h","isEllipsis","ellipsis","attrs","createVNode","mergeProps","thCellInner","TEllipsis","_typeof","_default"],"sources":["../../src/table/thead.tsx"],"sourcesContent":["import { defineComponent, computed, SetupContext, PropType, ref, Ref, h, CSSProperties } from 'vue';\nimport isFunction from 'lodash/isFunction';\nimport { getColumnFixedStyles } from './hooks/useFixed';\nimport useClassName from './hooks/useClassName';\nimport { BaseTableCol, TableRowData, TdBaseTableProps } from './type';\nimport { renderTitle } from './hooks/useTableHeader';\nimport TEllipsis from './ellipsis';\nimport { formatClassNames } from './utils';\nimport { RowAndColFixedPosition, BaseTableColumns, ThRowspanAndColspan } from './interface';\nimport { AttachNode } from '../common';\n\nexport interface TheadProps {\n  classPrefix: string;\n  ellipsisOverlayClassName: string;\n  // 是否固定表头\n  isFixedHeader: boolean;\n  maxHeight?: TdBaseTableProps['maxHeight'];\n  height?: TdBaseTableProps['height'];\n  // 固定列 left/right 具体值\n  rowAndColFixedPosition: RowAndColFixedPosition;\n  // 虚拟滚动单独渲染表头；表头吸顶单独渲染表头\n  thWidthList?: { [colKey: string]: number };\n  bordered?: boolean;\n  isMultipleHeader?: boolean;\n  thDraggable?: boolean;\n  spansAndLeafNodes?: {\n    rowspanAndColspanMap: ThRowspanAndColspan;\n    leafColumns: BaseTableCol<TableRowData>[];\n  };\n  thList: BaseTableCol<TableRowData>[][];\n  columnResizeParams: {\n    resizeLineRef: Ref<HTMLDivElement>;\n    resizeLineStyle: CSSProperties;\n    onColumnMouseover: (e: MouseEvent, col: BaseTableCol<TableRowData>) => void;\n    onColumnMousedown: (e: MouseEvent, col: BaseTableCol<TableRowData>, index: number) => void;\n  };\n  resizable?: Boolean;\n  attach?: AttachNode;\n  showColumnShadow?: { left: boolean; right: boolean };\n}\n\nexport default defineComponent({\n  name: 'THead',\n\n  props: {\n    classPrefix: String,\n    ellipsisOverlayClassName: String,\n    isFixedHeader: Boolean,\n    thDraggable: Boolean,\n    maxHeight: [String, Number] as PropType<TheadProps['maxHeight']>,\n    height: [String, Number] as PropType<TheadProps['height']>,\n    rowAndColFixedPosition: Map as PropType<TheadProps['rowAndColFixedPosition']>,\n    thWidthList: Object as PropType<TheadProps['thWidthList']>,\n    bordered: Boolean,\n    isMultipleHeader: Boolean,\n    resizable: Boolean,\n    attach: [String, Function] as PropType<TheadProps['attach']>,\n    spansAndLeafNodes: Object as PropType<TheadProps['spansAndLeafNodes']>,\n    thList: Array as PropType<TheadProps['thList']>,\n    columnResizeParams: Object as PropType<TheadProps['columnResizeParams']>,\n    showColumnShadow: Object as PropType<TheadProps['showColumnShadow']>,\n  },\n\n  setup(props: TheadProps, { slots }: SetupContext) {\n    const theadRef = ref<HTMLHeadElement>();\n    const classnames = useClassName();\n    const { tableHeaderClasses, tableBaseClass } = classnames;\n    const theadClasses = computed(() => [\n      tableHeaderClasses.header,\n      {\n        [tableHeaderClasses.fixed]: Boolean(props.maxHeight || props.height),\n        [tableBaseClass.bordered]: props.bordered && props.isMultipleHeader,\n        [tableHeaderClasses.multipleHeader]: props.isMultipleHeader,\n      },\n    ]);\n\n    // 单行表格合并\n    const colspanSkipMap = computed(() => {\n      const map: { [key: string]: boolean } = {};\n      const list = props.thList[0];\n      for (let i = 0, len = list.length; i < len; i++) {\n        const item = list[i];\n        if (item.colspan > 1) {\n          for (let j = i + 1; j < i + item.colspan; j++) {\n            if (list[j]) {\n              map[list[j].colKey] = true;\n            }\n          }\n        }\n      }\n      return map;\n    });\n\n    const getTableNode = (thead: HTMLElement) => {\n      let parent = thead;\n      while (parent) {\n        parent = parent.parentNode as HTMLElement;\n        if (parent?.classList?.contains(`${props.classPrefix}-table`)) {\n          break;\n        }\n      }\n      return parent;\n    };\n\n    return {\n      ...classnames,\n      colspanSkipMap,\n      theadClasses,\n      theadRef,\n      slots,\n      getTableNode,\n    };\n  },\n\n  render() {\n    const renderThNodeList = (\n      rowAndColFixedPosition: RowAndColFixedPosition,\n      thWidthList: TheadProps['thWidthList'],\n    ) => {\n      // thBorderMap: rowspan 会影响 tr > th 是否为第一列表头，从而影响边框\n      const thBorderMap = new Map<any, boolean>();\n      const thRowspanAndColspan = this.spansAndLeafNodes.rowspanAndColspanMap;\n      return this.thList.map((row, rowIndex) => {\n        const thRow = row.map((col: BaseTableColumns[0], index: number) => {\n          // 因合并单行表头，跳过\n          if (this.colspanSkipMap[col.colKey]) return null;\n          const rowspanAndColspan = thRowspanAndColspan.get(col);\n          if (index === 0 && rowspanAndColspan.rowspan > 1) {\n            for (let j = rowIndex + 1; j < rowIndex + rowspanAndColspan.rowspan; j++) {\n              thBorderMap.set(this.thList[j][0], true);\n            }\n          }\n          const thStyles = getColumnFixedStyles(col, index, rowAndColFixedPosition, this.tableColFixedClasses);\n          const colParams = {\n            col,\n            colIndex: index,\n            row: {},\n            rowIndex: -1,\n          };\n          const customClasses = formatClassNames(col.className, { ...colParams, type: 'th' });\n          const isLeftFixedActive = this.showColumnShadow.left && col.fixed === 'left';\n          const isRightFixedActive = this.showColumnShadow.right && col.fixed === 'right';\n          const canDragSort = this.thDraggable && !(isLeftFixedActive || isRightFixedActive);\n          const thClasses = [\n            thStyles.classes,\n            customClasses,\n            col.thClassName,\n            {\n              // 受 rowspan 影响，部分 tr > th:first-child 需要补足左边框\n              [this.tableHeaderClasses.thBordered]: thBorderMap.get(col),\n              [`${this.classPrefix}-table__th-${col.colKey}`]: col.colKey,\n              [this.tdAlignClasses[col.align]]: col.align && col.align !== 'left',\n              // 允许拖拽的列类名\n              [this.tableDraggableClasses.dragSortTh]: canDragSort,\n            },\n          ];\n          const withoutChildren = !col.children?.length;\n          const width = withoutChildren && thWidthList?.[col.colKey] ? `${thWidthList?.[col.colKey]}px` : undefined;\n          const styles = { ...(thStyles.style || {}), width };\n          const innerTh = renderTitle(this.slots, col, index);\n          const resizeColumnListener =\n            this.resizable || !canDragSort\n              ? {\n                  onMousedown: (e: MouseEvent) => {\n                    if (this.resizable) {\n                      this.columnResizeParams?.onColumnMousedown?.(e, col, index);\n                    }\n                    if (!canDragSort) {\n                      const timer = setTimeout(() => {\n                        const thList = this.theadRef.querySelectorAll('th');\n                        thList[index]?.removeAttribute('draggable');\n                        clearTimeout(timer);\n                      }, 10);\n                    }\n                  },\n                  onMousemove: (e: MouseEvent) => {\n                    this.resizable && this.columnResizeParams?.onColumnMouseover?.(e, col);\n                  },\n                }\n              : {};\n          const content = isFunction(col.ellipsisTitle) ? col.ellipsisTitle(h, { col, colIndex: index }) : undefined;\n          const isEllipsis = col.ellipsisTitle !== undefined ? Boolean(col.ellipsisTitle) : Boolean(col.ellipsis);\n          const attrs = (isFunction(col.attrs) ? col.attrs({ ...colParams, type: 'th' }) : col.attrs) || {};\n          if (col.colspan > 1) {\n            attrs.colspan = col.colspan;\n          }\n          return (\n            <th\n              key={col.colKey}\n              data-colkey={col.colKey}\n              class={thClasses}\n              style={styles}\n              {...attrs}\n              {...rowspanAndColspan}\n              {...resizeColumnListener}\n            >\n              <div class={this.tableBaseClass.thCellInner}>\n                {isEllipsis ? (\n                  <TEllipsis\n                    placement=\"bottom\"\n                    attach={this.attach || (this.theadRef ? () => this.getTableNode(this.theadRef) : undefined)}\n                    tooltipContent={content && (() => content)}\n                    tooltipProps={typeof col.ellipsisTitle === 'object' ? col.ellipsisTitle : undefined}\n                    overlayClassName={this.ellipsisOverlayClassName}\n                    classPrefix={this.classPrefix}\n                  >\n                    {innerTh}\n                  </TEllipsis>\n                ) : (\n                  innerTh\n                )}\n              </div>\n            </th>\n          );\n        });\n        return <tr key={rowIndex}>{thRow}</tr>;\n      });\n    };\n\n    return (\n      <thead ref=\"theadRef\" class={this.theadClasses}>\n        {renderThNodeList(this.rowAndColFixedPosition, this.thWidthList)}\n      </thead>\n    );\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}