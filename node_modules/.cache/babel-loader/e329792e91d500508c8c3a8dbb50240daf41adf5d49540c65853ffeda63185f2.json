{"ast":null,"code":"/**\n * tdesign v1.9.0\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { _ as _defineProperty } from '../_chunks/dep-7deaa3b9.mjs';\nimport { defineComponent, computed, h, createVNode } from 'vue';\nimport { CloseIcon } from 'tdesign-icons-vue-next';\nimport props from './props.mjs';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig.mjs';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon.mjs';\nimport { useTNodeJSX, useContent } from '../hooks/tnode.mjs';\nimport { i as isString_1 } from '../_chunks/dep-30b3f256.mjs';\nimport { useConfig } from '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-8dbc9855.mjs';\nimport '../_chunks/dep-66473aa9.mjs';\nimport '../_chunks/dep-cb814df4.mjs';\nimport '../_chunks/dep-cd533155.mjs';\nimport '../_chunks/dep-715774e0.mjs';\nimport '../_chunks/dep-5a5a1764.mjs';\nimport '../_chunks/dep-f8909853.mjs';\nimport '../_chunks/dep-67e59a11.mjs';\nimport '../_chunks/dep-ab439391.mjs';\nimport '../_chunks/dep-60d62610.mjs';\nimport '../_chunks/dep-10024af3.mjs';\nimport '../_chunks/dep-2adf18a2.mjs';\nimport '../_chunks/dep-d00e2e04.mjs';\nimport '../_chunks/dep-ec2f76cc.mjs';\nimport '../_chunks/dep-96484611.mjs';\nimport '../_chunks/dep-bd7cd061.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-60ee423b.mjs';\nimport '../_chunks/dep-c545db54.mjs';\nimport '../_chunks/dep-d4da440a.mjs';\nimport '../_chunks/dep-013382c3.mjs';\nimport '../_chunks/dep-3108c312.mjs';\nimport '../_chunks/dep-ca764006.mjs';\nimport '../_chunks/dep-996b4900.mjs';\nimport '../_chunks/dep-3f15cb30.mjs';\nimport '../_chunks/dep-0f89a1dd.mjs';\nimport '../_chunks/dep-37e3e644.mjs';\nimport '../_chunks/dep-31dc0415.mjs';\nimport '../_chunks/dep-e5142249.mjs';\nimport '../_chunks/dep-c4f80cb4.mjs';\nimport '../_chunks/dep-93498383.mjs';\nimport '../_chunks/dep-36582a92.mjs';\nimport '../_chunks/dep-a2db6df1.mjs';\nimport '../_chunks/dep-2ee9d497.mjs';\nimport '../_chunks/dep-fd2b6c64.mjs';\nimport '../_chunks/dep-b3734774.mjs';\nimport '../_chunks/dep-a4a3ac25.mjs';\nimport '../_chunks/dep-6861d388.mjs';\nimport '../_chunks/dep-396d852b.mjs';\nimport '../_chunks/dep-8a3fd140.mjs';\nimport '../_chunks/dep-5db0da5c.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-bf19d9ba.mjs';\nimport '../_chunks/dep-6963a882.mjs';\nimport '../config-provider/type.mjs';\nvar _Tag = defineComponent({\n  name: \"TTag\",\n  props: props,\n  setup: function setup(props2) {\n    var _useConfig = useConfig(\"tag\"),\n      tagGlobalConfig = _useConfig.globalConfig;\n    var COMPONENT_NAME = usePrefixClass(\"tag\");\n    var _useGlobalIcon = useGlobalIcon({\n        CloseIcon: CloseIcon\n      }),\n      CloseIcon$1 = _useGlobalIcon.CloseIcon;\n    var renderTNodeJSX = useTNodeJSX();\n    var renderContent = useContent();\n    var _useCommonClassName = useCommonClassName(),\n      SIZE = _useCommonClassName.SIZE;\n    var tagClass = computed(function () {\n      return [\"\".concat(COMPONENT_NAME.value), \"\".concat(COMPONENT_NAME.value, \"--\").concat(props2.theme), \"\".concat(COMPONENT_NAME.value, \"--\").concat(props2.variant), _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, \"\".concat(COMPONENT_NAME.value, \"--ellipsis\"), props2.maxWidth), \"\".concat(COMPONENT_NAME.value, \"--close\"), props2.closable), \"\".concat(COMPONENT_NAME.value, \"--disabled\"), props2.disabled), SIZE.value[props2.size], props2.size !== \"medium\"), props2.shape !== \"square\" && \"\".concat(COMPONENT_NAME.value, \"--\").concat(props2.shape)];\n    });\n    var tagStyle = computed(function () {\n      var maxWidth = props2.maxWidth;\n      return props2.maxWidth ? {\n        maxWidth: isNaN(Number(maxWidth)) ? String(maxWidth) : \"\".concat(maxWidth, \"px\")\n      } : {};\n    });\n    var handleClick = function handleClick(e) {\n      var _props2$onClick;\n      if (props2.disabled) return;\n      (_props2$onClick = props2.onClick) === null || _props2$onClick === void 0 || _props2$onClick.call(props2, {\n        e: e\n      });\n    };\n    var getCloseIcon = function getCloseIcon() {\n      if (!props2.closable) return null;\n      var iconClassName = \"\".concat(COMPONENT_NAME.value, \"__icon-close\");\n      if (tagGlobalConfig.value.closeIcon) {\n        return h(tagGlobalConfig.value.closeIcon(h), {\n          \"class\": iconClassName\n        });\n      }\n      return createVNode(CloseIcon$1, {\n        \"onClick\": function onClick(_ref2) {\n          var _props2$onClose;\n          var e = _ref2.e;\n          e.stopPropagation();\n          (_props2$onClose = props2.onClose) === null || _props2$onClose === void 0 || _props2$onClose.call(props2, {\n            e: e\n          });\n        },\n        \"class\": iconClassName\n      }, null);\n    };\n    return function () {\n      var closeIcon = getCloseIcon();\n      var tagContent = renderContent(\"default\", \"content\");\n      var icon = renderTNodeJSX(\"icon\");\n      var title = isString_1(tagContent) ? tagContent : \"\";\n      var titleAttribute = title && props2.maxWidth ? title : void 0;\n      return createVNode(\"div\", {\n        \"class\": tagClass.value,\n        \"style\": tagStyle.value,\n        \"onClick\": handleClick\n      }, [icon, props2.maxWidth ? createVNode(\"span\", {\n        \"class\": _defineProperty({}, \"\".concat(COMPONENT_NAME.value, \"--text\"), props2.maxWidth),\n        \"title\": titleAttribute\n      }, [tagContent]) : tagContent, !props2.disabled && closeIcon]);\n    };\n  }\n});\nexport { _Tag as default };","map":{"version":3,"names":["_Tag","defineComponent","name","props","setup","props2","_useConfig","useConfig","tagGlobalConfig","globalConfig","COMPONENT_NAME","usePrefixClass","_useGlobalIcon","useGlobalIcon","CloseIcon","CloseIcon$1","renderTNodeJSX","useTNodeJSX","renderContent","useContent","_useCommonClassName","useCommonClassName","SIZE","tagClass","computed","concat","value","theme","variant","_defineProperty","maxWidth","closable","disabled","size","shape","tagStyle","isNaN","Number","String","handleClick","e","_props2$onClick","onClick","call","getCloseIcon","iconClassName","closeIcon","h","createVNode","_ref2","_props2$onClose","stopPropagation","onClose","tagContent","icon","title","isString_1","titleAttribute"],"sources":["../../src/tag/tag.tsx"],"sourcesContent":["import { computed, defineComponent, h, VNode } from 'vue';\nimport { CloseIcon as TdCloseIcon } from 'tdesign-icons-vue-next';\n\nimport props from './props';\nimport { useConfig, usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\nimport { useTNodeJSX, useContent } from '../hooks/tnode';\nimport isString from 'lodash/isString';\n\nexport default defineComponent({\n  name: 'TTag',\n  props,\n  setup(props) {\n    const { globalConfig: tagGlobalConfig } = useConfig('tag');\n    const COMPONENT_NAME = usePrefixClass('tag');\n    const { CloseIcon } = useGlobalIcon({ CloseIcon: TdCloseIcon });\n    const renderTNodeJSX = useTNodeJSX();\n    const renderContent = useContent();\n    const { SIZE } = useCommonClassName();\n\n    const tagClass = computed(() => {\n      return [\n        `${COMPONENT_NAME.value}`,\n        `${COMPONENT_NAME.value}--${props.theme}`,\n        `${COMPONENT_NAME.value}--${props.variant}`,\n        {\n          [`${COMPONENT_NAME.value}--ellipsis`]: props.maxWidth,\n          [`${COMPONENT_NAME.value}--close`]: props.closable,\n          [`${COMPONENT_NAME.value}--disabled`]: props.disabled,\n          [SIZE.value[props.size]]: props.size !== 'medium',\n        },\n        props.shape !== 'square' && `${COMPONENT_NAME.value}--${props.shape}`,\n      ];\n    });\n\n    const tagStyle = computed<Record<string, string>>(() => {\n      const { maxWidth } = props;\n      return props.maxWidth\n        ? {\n            maxWidth: isNaN(Number(maxWidth)) ? String(maxWidth) : `${maxWidth}px`,\n          }\n        : {};\n    });\n\n    const handleClick = (e: MouseEvent) => {\n      if (props.disabled) return;\n      props.onClick?.({ e });\n    };\n\n    const getCloseIcon = () => {\n      if (!props.closable) return null;\n      const iconClassName = `${COMPONENT_NAME.value}__icon-close`;\n      if (tagGlobalConfig.value.closeIcon) {\n        return h(tagGlobalConfig.value.closeIcon(h) as VNode, { class: iconClassName });\n      }\n      return (\n        <CloseIcon\n          onClick={({ e }: { e: MouseEvent }) => {\n            e.stopPropagation();\n            props.onClose?.({ e });\n          }}\n          class={iconClassName}\n        />\n      );\n    };\n\n    return () => {\n      // 关闭按钮 自定义组件使用 nativeOnClick 绑定事件\n      const closeIcon = getCloseIcon();\n      // 标签内容\n      const tagContent = renderContent('default', 'content');\n      // 图标\n      const icon = renderTNodeJSX('icon');\n\n      const title = isString(tagContent) ? tagContent : '';\n      const titleAttribute = title && props.maxWidth ? title : undefined;\n\n      return (\n        <div class={tagClass.value} style={tagStyle.value} onClick={handleClick}>\n          {icon}\n          {props.maxWidth ? (\n            <span class={{ [`${COMPONENT_NAME.value}--text`]: props.maxWidth }} title={titleAttribute}>\n              {tagContent}\n            </span>\n          ) : (\n            tagContent\n          )}\n          {!props.disabled && closeIcon}\n        </div>\n      );\n    };\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}