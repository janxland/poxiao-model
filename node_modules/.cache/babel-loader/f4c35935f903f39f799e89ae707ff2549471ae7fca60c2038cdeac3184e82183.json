{"ast":null,"code":"/**\n * tdesign v1.9.3\n * (c) 2024 tdesign\n * @license MIT\n */\n\nimport { computed } from 'vue';\nimport '../hooks/index.mjs';\nimport { usePrefixClass } from '../hooks/useConfig.mjs';\nimport '../hooks/icon.mjs';\nimport '../_chunks/dep-6e7655db.mjs';\nimport '../_chunks/dep-437d10c6.mjs';\nimport '../_chunks/dep-6ad32365.mjs';\nimport '../_chunks/dep-d33c5d88.mjs';\nimport '../_chunks/dep-62ad5a36.mjs';\nimport '../_chunks/dep-f76ec896.mjs';\nimport '../hooks/slot.mjs';\nimport '../_chunks/dep-10c900d8.mjs';\nimport '../hooks/tnode.mjs';\nimport '../_chunks/dep-190cc0b3.mjs';\nimport '../_chunks/dep-003c9b00.mjs';\nimport '../_chunks/dep-1c5d24dd.mjs';\nimport '../_chunks/dep-e98ea432.mjs';\nimport '../_chunks/dep-75628739.mjs';\nimport '../_chunks/dep-29a308fc.mjs';\nimport '../_chunks/dep-18af437d.mjs';\nimport '../_chunks/dep-28a28c00.mjs';\nimport '../_chunks/dep-1c9d9f8d.mjs';\nimport '../utils/render-tnode.mjs';\nimport '../_chunks/dep-bc75f95c.mjs';\nimport '../_chunks/dep-6ea85de8.mjs';\nimport '../_chunks/dep-0ced8e2e.mjs';\nimport '../_chunks/dep-fb9941c5.mjs';\nimport '../_chunks/dep-4382b808.mjs';\nimport '../_chunks/dep-1494b54a.mjs';\nimport '../_chunks/dep-c70e40ae.mjs';\nimport '../_chunks/dep-92ce9c6c.mjs';\nimport '../_chunks/dep-e3204123.mjs';\nimport '../_chunks/dep-5d7be5c6.mjs';\nimport '../hooks/useCommonClassName.mjs';\nimport '../config-provider/useConfig.mjs';\nimport '../_chunks/dep-db7324ec.mjs';\nimport '../_chunks/dep-d090226f.mjs';\nimport '../_chunks/dep-c31faaef.mjs';\nimport '../_chunks/dep-5f15268c.mjs';\nimport '../_chunks/dep-0894e3ae.mjs';\nimport '../_chunks/dep-0e5b2b76.mjs';\nimport '../_chunks/dep-f3a27c4c.mjs';\nimport '../_chunks/dep-b6946d89.mjs';\nimport '../_chunks/dep-3b84887f.mjs';\nimport '../_chunks/dep-0223e29d.mjs';\nimport '../_chunks/dep-3d61d8a6.mjs';\nimport '../_chunks/dep-88c02450.mjs';\nimport '../_chunks/dep-f7067d3d.mjs';\nimport '../_chunks/dep-cd1b7f96.mjs';\nimport '../_chunks/dep-eea784eb.mjs';\nimport '../_common/js/global-config/default-config.mjs';\nimport '../_common/js/global-config/locale/zh_CN.mjs';\nimport '../_chunks/dep-0c808c2e.mjs';\nimport '../_chunks/dep-4c103c66.mjs';\nimport '../config-provider/type.mjs';\nimport '../hooks/useDefaultValue.mjs';\nimport '../hooks/useDestroyOnClose.mjs';\nimport '../hooks/useKeepAnimation.mjs';\nimport '../hooks/useRipple.mjs';\nimport '../utils/set-style.mjs';\nimport '../hooks/useVirtualScroll.mjs';\nimport '../_chunks/dep-a5dfe884.mjs';\nimport '../hooks/useVModel.mjs';\nimport '../hooks/useImagePreviewUrl.mjs';\nimport '../_chunks/dep-a71c8f5b.mjs';\nimport '../_chunks/dep-0e21c401.mjs';\nimport '../_common/js/upload/utils.mjs';\nimport '../_common/js/log/log.mjs';\nvar FORM_CONTROL_COMPONENTS = [\"TInput\", \"TInputNumber\", \"TTextarea\", \"TCascader\", \"TSelect\", \"TOption\", \"TSwitch\", \"TCheckbox\", \"TCheckboxGroup\", \"TRadio\", \"TRadioGroup\", \"TTreeSelect\", \"TDatePicker\", \"TTimePicker\", \"TUpload\", \"TTransfer\", \"TSlider\"];\nvar useCLASSNAMES = function useCLASSNAMES() {\n  var classPrefix = usePrefixClass();\n  return computed(function () {\n    var form = \"\".concat(classPrefix.value, \"-form\");\n    var input = \"\".concat(classPrefix.value, \"-input\");\n    var is = \"\".concat(classPrefix.value, \"-is\");\n    return {\n      form: form,\n      label: \"\".concat(form, \"__label\"),\n      labelTop: \"\".concat(form, \"__label--top\"),\n      inline: \"\".concat(form, \"-inline\"),\n      formItem: \"\".concat(form, \"__item\"),\n      formItemWithHelp: \"\".concat(form, \"__item-with-help\"),\n      formItemWithExtra: \"\".concat(form, \"__item-with-extra\"),\n      controls: \"\".concat(form, \"__controls\"),\n      controlsContent: \"\".concat(form, \"__controls-content\"),\n      status: \"\".concat(form, \"__status\"),\n      extra: \"\".concat(input, \"__extra\"),\n      help: \"\".concat(input, \"__help\"),\n      success: \"\".concat(is, \"-success\"),\n      successBorder: \"\".concat(form, \"--success-border\"),\n      error: \"\".concat(is, \"-error\"),\n      warning: \"\".concat(is, \"-warning\")\n    };\n  });\n};\nvar ValidateStatus = /* @__PURE__ */function (ValidateStatus2) {\n  ValidateStatus2[\"TO_BE_VALIDATED\"] = \"not\";\n  ValidateStatus2[\"SUCCESS\"] = \"success\";\n  ValidateStatus2[\"FAIL\"] = \"fail\";\n  return ValidateStatus2;\n}(ValidateStatus || {});\nvar FormInjectionKey = Symbol(\"FormProvide\");\nvar FormItemInjectionKey = Symbol(\"FormItemProvide\");\nexport { FORM_CONTROL_COMPONENTS, FormInjectionKey, FormItemInjectionKey, ValidateStatus, useCLASSNAMES };","map":{"version":3,"names":["FORM_CONTROL_COMPONENTS","useCLASSNAMES","classPrefix","usePrefixClass","computed","form","concat","value","input","is","label","labelTop","inline","formItem","formItemWithHelp","formItemWithExtra","controls","controlsContent","status","extra","help","success","successBorder","error","warning","ValidateStatus","ValidateStatus2","FormInjectionKey","Symbol","FormItemInjectionKey"],"sources":["../../src/form/const.ts"],"sourcesContent":["import { computed, InjectionKey } from 'vue';\nimport { FormItemValidateResult } from './form-item';\nimport {\n  AllValidateResult,\n  Data,\n  FormItemValidateMessage,\n  FormRule,\n  TdFormItemProps,\n  TdFormProps,\n  ValidateResultType,\n  ValidateTriggerType,\n} from './type';\nimport { usePrefixClass, useTNodeJSX } from '../hooks';\n\n// 允许 Form 统一控制的表单\nexport const FORM_CONTROL_COMPONENTS = [\n  'TInput',\n  'TInputNumber',\n  'TTextarea',\n  'TCascader',\n  'TSelect',\n  'TOption',\n  'TSwitch',\n  'TCheckbox',\n  'TCheckboxGroup',\n  'TRadio',\n  'TRadioGroup',\n  'TTreeSelect',\n  'TDatePicker',\n  'TTimePicker',\n  'TUpload',\n  'TTransfer',\n  'TSlider',\n];\n\nexport const useCLASSNAMES = () => {\n  const classPrefix = usePrefixClass();\n\n  return computed(() => {\n    const form = `${classPrefix.value}-form`;\n    const input = `${classPrefix.value}-input`;\n    const is = `${classPrefix.value}-is`;\n\n    return {\n      form,\n      label: `${form}__label`,\n      labelTop: `${form}__label--top`,\n      inline: `${form}-inline`,\n      formItem: `${form}__item`,\n      formItemWithHelp: `${form}__item-with-help`,\n      formItemWithExtra: `${form}__item-with-extra`,\n      controls: `${form}__controls`,\n      controlsContent: `${form}__controls-content`,\n      status: `${form}__status`,\n      extra: `${input}__extra`,\n      help: `${input}__help`,\n      success: `${is}-success`,\n      successBorder: `${form}--success-border`,\n      error: `${is}-error`,\n      warning: `${is}-warning`,\n    };\n  });\n};\n\nexport const enum ValidateStatus {\n  TO_BE_VALIDATED = 'not',\n  SUCCESS = 'success',\n  FAIL = 'fail',\n}\n\nexport type ErrorListType =\n  | {\n      result: false;\n      message: string;\n      type: 'error' | 'warning';\n    }\n  | ValidateResultType;\n\nexport type SuccessListType =\n  | {\n      result: true;\n      message: string;\n      type: 'success';\n    }\n  | ValidateResultType;\n\nexport interface AnalysisValidateResult {\n  successList?: SuccessListType[];\n  errorList?: ErrorListType[];\n  rules: FormRule[];\n  resultList: AllValidateResult[];\n  allowSetValue: boolean;\n}\n\nexport interface FormItemContext {\n  name: TdFormItemProps['name'];\n  resetHandler: () => void;\n  resetField: (resetType?: 'initial' | 'empty') => Promise<void>;\n  validate: <T extends Data = Data>(\n    trigger: ValidateTriggerType,\n    showErrorMessage?: boolean,\n  ) => Promise<FormItemValidateResult<T>>;\n  validateOnly: <T = Data>(trigger: ValidateTriggerType) => Promise<FormItemValidateResult<T>>;\n  setValidateMessage: (validateMessage: FormItemValidateMessage[]) => void;\n}\n\nexport const FormInjectionKey: InjectionKey<{\n  showErrorMessage: TdFormProps['showErrorMessage'];\n  labelWidth: TdFormProps['labelWidth'];\n  labelAlign: TdFormProps['labelAlign'];\n  data: TdFormProps['data'];\n  colon: TdFormProps['colon'];\n  requiredMark: TdFormProps['requiredMark'];\n  rules: TdFormProps['rules'];\n  errorMessage: TdFormProps['errorMessage'];\n  resetType: TdFormProps['resetType'];\n  children: FormItemContext[];\n  renderContent: ReturnType<typeof useTNodeJSX>;\n}> = Symbol('FormProvide');\n\nexport const FormItemInjectionKey: InjectionKey<{\n  handleBlur: () => Promise<void>;\n}> = Symbol('FormItemProvide');\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeaA,uBAA0B,IACrC,UACA,gBACA,aACA,aACA,WACA,WACA,WACA,aACA,kBACA,UACA,eACA,eACA,eACA,eACA,WACA,aACA;IAGWC,aAAA,GAAgB,SAAhBA,cAAA,EAAsB;EACjC,IAAMC,WAAA,GAAcC,cAAe;EAEnC,OAAOC,QAAA,CAAS,YAAM;IACd,IAAAC,IAAA,MAAAC,MAAA,CAAUJ,WAAY,CAAAK,KAAA;IACtB,IAAAC,KAAA,MAAAF,MAAA,CAAWJ,WAAY,CAAAK,KAAA;IACvB,IAAAE,EAAA,MAAAH,MAAA,CAAQJ,WAAY,CAAAK,KAAA;IAEnB;MACLF,IAAA,EAAAA,IAAA;MACAK,KAAA,KAAAJ,MAAA,CAAUD,IAAA;MACVM,QAAA,KAAAL,MAAA,CAAaD,IAAA;MACbO,MAAA,KAAAN,MAAA,CAAWD,IAAA;MACXQ,QAAA,KAAAP,MAAA,CAAaD,IAAA;MACbS,gBAAA,KAAAR,MAAA,CAAqBD,IAAA;MACrBU,iBAAA,KAAAT,MAAA,CAAsBD,IAAA;MACtBW,QAAA,KAAAV,MAAA,CAAaD,IAAA;MACbY,eAAA,KAAAX,MAAA,CAAoBD,IAAA;MACpBa,MAAA,KAAAZ,MAAA,CAAWD,IAAA;MACXc,KAAA,KAAAb,MAAA,CAAUE,KAAA;MACVY,IAAA,KAAAd,MAAA,CAASE,KAAA;MACTa,OAAA,KAAAf,MAAA,CAAYG,EAAA;MACZa,aAAA,KAAAhB,MAAA,CAAkBD,IAAA;MAClBkB,KAAA,KAAAjB,MAAA,CAAUG,EAAA;MACVe,OAAA,KAAAlB,MAAA,CAAYG,EAAA;KACd;EACF,CAAC;AACH;IAEkBgB,cAAA,4BAAAC,eAAX;EACLA,eAAA,kBAAkB;EAClBA,eAAA,UAAU;EACVA,eAAA,OAAO;EAHS,OAAAA,eAAA;AAAA,EAAAD,cAAA;IA0CLE,gBAAA,GAYRC,MAAA,CAAO,aAAa;IAEZC,oBAAA,GAERD,MAAA,CAAO,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}